var sP=Object.defineProperty;var fb=r=>{throw TypeError(r)};var oP=(r,e,t)=>e in r?sP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var le=(r,e,t)=>oP(r,typeof e!="symbol"?e+"":e,t),Hv=(r,e,t)=>e.has(r)||fb("Cannot "+t);var c=(r,e,t)=>(Hv(r,e,"read from private field"),t?t.call(r):e.get(r)),C=(r,e,t)=>e.has(r)?fb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),x=(r,e,t,n)=>(Hv(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),_=(r,e,t)=>(Hv(r,e,"access private method"),t);var Dn=(r,e,t,n)=>({set _(s){x(r,e,s,t)},get _(){return c(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function $0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Uv={exports:{}},Oh={},$v={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function aP(){if(pb)return Ve;pb=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function k(B,X,M){this.props=B,this.context=X,this.refs=A,this.updater=M||w}k.prototype.isReactComponent={},k.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},k.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=k.prototype;function R(B,X,M){this.props=B,this.context=X,this.refs=A,this.updater=M||w}var P=R.prototype=new E;P.constructor=R,b(P,k.prototype),P.isPureReactComponent=!0;var D=Array.isArray,F=Object.prototype.hasOwnProperty,I={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function V(B,X,M){var Se,_e={},ye=null,be=null;if(X!=null)for(Se in X.ref!==void 0&&(be=X.ref),X.key!==void 0&&(ye=""+X.key),X)F.call(X,Se)&&!O.hasOwnProperty(Se)&&(_e[Se]=X[Se]);var Ie=arguments.length-2;if(Ie===1)_e.children=M;else if(1<Ie){for(var Be=Array(Ie),Oe=0;Oe<Ie;Oe++)Be[Oe]=arguments[Oe+2];_e.children=Be}if(B&&B.defaultProps)for(Se in Ie=B.defaultProps,Ie)_e[Se]===void 0&&(_e[Se]=Ie[Se]);return{$$typeof:r,type:B,key:ye,ref:be,props:_e,_owner:I.current}}function W(B,X){return{$$typeof:r,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function Y(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function q(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(M){return X[M]})}var ne=/\/+/g;function ee(B,X){return typeof B=="object"&&B!==null&&B.key!=null?q(""+B.key):X.toString(36)}function K(B,X,M,Se,_e){var ye=typeof B;(ye==="undefined"||ye==="boolean")&&(B=null);var be=!1;if(B===null)be=!0;else switch(ye){case"string":case"number":be=!0;break;case"object":switch(B.$$typeof){case r:case e:be=!0}}if(be)return be=B,_e=_e(be),B=Se===""?"."+ee(be,0):Se,D(_e)?(M="",B!=null&&(M=B.replace(ne,"$&/")+"/"),K(_e,X,M,"",function(Oe){return Oe})):_e!=null&&(Y(_e)&&(_e=W(_e,M+(!_e.key||be&&be.key===_e.key?"":(""+_e.key).replace(ne,"$&/")+"/")+B)),X.push(_e)),1;if(be=0,Se=Se===""?".":Se+":",D(B))for(var Ie=0;Ie<B.length;Ie++){ye=B[Ie];var Be=Se+ee(ye,Ie);be+=K(ye,X,M,Be,_e)}else if(Be=y(B),typeof Be=="function")for(B=Be.call(B),Ie=0;!(ye=B.next()).done;)ye=ye.value,Be=Se+ee(ye,Ie++),be+=K(ye,X,M,Be,_e);else if(ye==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return be}function ce(B,X,M){if(B==null)return B;var Se=[],_e=0;return K(B,Se,"","",function(ye){return X.call(M,ye,_e++)}),Se}function Z(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(M){(B._status===0||B._status===-1)&&(B._status=1,B._result=M)},function(M){(B._status===0||B._status===-1)&&(B._status=2,B._result=M)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var J={current:null},te={transition:null},he={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:te,ReactCurrentOwner:I};function L(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:ce,forEach:function(B,X,M){ce(B,function(){X.apply(this,arguments)},M)},count:function(B){var X=0;return ce(B,function(){X++}),X},toArray:function(B){return ce(B,function(X){return X})||[]},only:function(B){if(!Y(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ve.Component=k,Ve.Fragment=t,Ve.Profiler=s,Ve.PureComponent=R,Ve.StrictMode=n,Ve.Suspense=d,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ve.act=L,Ve.cloneElement=function(B,X,M){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Se=b({},B.props),_e=B.key,ye=B.ref,be=B._owner;if(X!=null){if(X.ref!==void 0&&(ye=X.ref,be=I.current),X.key!==void 0&&(_e=""+X.key),B.type&&B.type.defaultProps)var Ie=B.type.defaultProps;for(Be in X)F.call(X,Be)&&!O.hasOwnProperty(Be)&&(Se[Be]=X[Be]===void 0&&Ie!==void 0?Ie[Be]:X[Be])}var Be=arguments.length-2;if(Be===1)Se.children=M;else if(1<Be){Ie=Array(Be);for(var Oe=0;Oe<Be;Oe++)Ie[Oe]=arguments[Oe+2];Se.children=Ie}return{$$typeof:r,type:B.type,key:_e,ref:ye,props:Se,_owner:be}},Ve.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},Ve.createElement=V,Ve.createFactory=function(B){var X=V.bind(null,B);return X.type=B,X},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(B){return{$$typeof:u,render:B}},Ve.isValidElement=Y,Ve.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:Z}},Ve.memo=function(B,X){return{$$typeof:f,type:B,compare:X===void 0?null:X}},Ve.startTransition=function(B){var X=te.transition;te.transition={};try{B()}finally{te.transition=X}},Ve.unstable_act=L,Ve.useCallback=function(B,X){return J.current.useCallback(B,X)},Ve.useContext=function(B){return J.current.useContext(B)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(B){return J.current.useDeferredValue(B)},Ve.useEffect=function(B,X){return J.current.useEffect(B,X)},Ve.useId=function(){return J.current.useId()},Ve.useImperativeHandle=function(B,X,M){return J.current.useImperativeHandle(B,X,M)},Ve.useInsertionEffect=function(B,X){return J.current.useInsertionEffect(B,X)},Ve.useLayoutEffect=function(B,X){return J.current.useLayoutEffect(B,X)},Ve.useMemo=function(B,X){return J.current.useMemo(B,X)},Ve.useReducer=function(B,X,M){return J.current.useReducer(B,X,M)},Ve.useRef=function(B){return J.current.useRef(B)},Ve.useState=function(B){return J.current.useState(B)},Ve.useSyncExternalStore=function(B,X,M){return J.current.useSyncExternalStore(B,X,M)},Ve.useTransition=function(){return J.current.useTransition()},Ve.version="18.3.1",Ve}var gb;function V0(){return gb||(gb=1,$v.exports=aP()),$v.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function lP(){if(mb)return Oh;mb=1;var r=V0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,m={},y=null,w=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(w=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:w,props:m,_owner:s.current}}return Oh.Fragment=t,Oh.jsx=l,Oh.jsxs=l,Oh}var yb;function uP(){return yb||(yb=1,Uv.exports=lP()),Uv.exports}var fe=uP(),H=V0(),vg={},Vv={exports:{}},Kn={},Wv={exports:{}},Gv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function cP(){return vb||(vb=1,(function(r){function e(te,he){var L=te.length;te.push(he);e:for(;0<L;){var B=L-1>>>1,X=te[B];if(0<s(X,he))te[B]=he,te[L]=X,L=B;else break e}}function t(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var he=te[0],L=te.pop();if(L!==he){te[0]=L;e:for(var B=0,X=te.length,M=X>>>1;B<M;){var Se=2*(B+1)-1,_e=te[Se],ye=Se+1,be=te[ye];if(0>s(_e,L))ye<X&&0>s(be,_e)?(te[B]=be,te[ye]=L,B=ye):(te[B]=_e,te[Se]=L,B=Se);else if(ye<X&&0>s(be,L))te[B]=be,te[ye]=L,B=ye;else break e}}return he}function s(te,he){var L=te.sortIndex-he.sortIndex;return L!==0?L:te.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,y=3,w=!1,b=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(te){for(var he=t(f);he!==null;){if(he.callback===null)n(f);else if(he.startTime<=te)n(f),he.sortIndex=he.expirationTime,e(d,he);else break;he=t(f)}}function D(te){if(A=!1,P(te),!b)if(t(d)!==null)b=!0,Z(F);else{var he=t(f);he!==null&&J(D,he.startTime-te)}}function F(te,he){b=!1,A&&(A=!1,E(V),V=-1),w=!0;var L=y;try{for(P(he),m=t(d);m!==null&&(!(m.expirationTime>he)||te&&!q());){var B=m.callback;if(typeof B=="function"){m.callback=null,y=m.priorityLevel;var X=B(m.expirationTime<=he);he=r.unstable_now(),typeof X=="function"?m.callback=X:m===t(d)&&n(d),P(he)}else n(d);m=t(d)}if(m!==null)var M=!0;else{var Se=t(f);Se!==null&&J(D,Se.startTime-he),M=!1}return M}finally{m=null,y=L,w=!1}}var I=!1,O=null,V=-1,W=5,Y=-1;function q(){return!(r.unstable_now()-Y<W)}function ne(){if(O!==null){var te=r.unstable_now();Y=te;var he=!0;try{he=O(!0,te)}finally{he?ee():(I=!1,O=null)}}else I=!1}var ee;if(typeof R=="function")ee=function(){R(ne)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ce=K.port2;K.port1.onmessage=ne,ee=function(){ce.postMessage(null)}}else ee=function(){k(ne,0)};function Z(te){O=te,I||(I=!0,ee())}function J(te,he){V=k(function(){te(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){b||w||(b=!0,Z(F))},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(te){switch(y){case 1:case 2:case 3:var he=3;break;default:he=y}var L=y;y=he;try{return te()}finally{y=L}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var L=y;y=te;try{return he()}finally{y=L}},r.unstable_scheduleCallback=function(te,he,L){var B=r.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,te){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=L+X,te={id:p++,callback:he,priorityLevel:te,startTime:L,expirationTime:X,sortIndex:-1},L>B?(te.sortIndex=L,e(f,te),t(d)===null&&te===t(f)&&(A?(E(V),V=-1):A=!0,J(D,L-B))):(te.sortIndex=X,e(d,te),b||w||(b=!0,Z(F))),te},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(te){var he=y;return function(){var L=y;y=he;try{return te.apply(this,arguments)}finally{y=L}}}})(Gv)),Gv}var wb;function hP(){return wb||(wb=1,Wv.exports=cP()),Wv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function dP(){if(Sb)return Kn;Sb=1;var r=V0(),e=hP();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)n.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(i){return d.call(m,i)?!0:d.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function w(i,a,h,g){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,a,h,g){if(a===null||typeof a>"u"||w(i,a,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(i,a,h,g,v,S,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=i,this.type=a,this.sanitizeURL=S,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];k[a]=new A(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(E,R);k[a]=new A(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(E,R);k[a]=new A(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(E,R);k[a]=new A(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,a,h,g){var v=k.hasOwnProperty(a)?k[a]:null;(v!==null?v.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,h,v,g)&&(h=null),g||v===null?y(a)&&(h===null?i.removeAttribute(a):i.setAttribute(a,""+h)):v.mustUseProperty?i[v.propertyName]=h===null?v.type===3?!1:"":h:(a=v.attributeName,g=v.attributeNamespace,h===null?i.removeAttribute(a):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,g?i.setAttributeNS(g,a,h):i.setAttribute(a,h))))}var D=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),te=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=te&&i[te]||i["@@iterator"],typeof i=="function"?i:null)}var L=Object.assign,B;function X(i){if(B===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+i}var M=!1;function Se(i,a){if(!i||M)return"";M=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(G){var g=G}Reflect.construct(i,[],a)}else{try{a.call()}catch(G){g=G}i.call(a.prototype)}else{try{throw Error()}catch(G){g=G}i()}}catch(G){if(G&&g&&typeof G.stack=="string"){for(var v=G.stack.split(`
`),S=g.stack.split(`
`),T=v.length-1,N=S.length-1;1<=T&&0<=N&&v[T]!==S[N];)N--;for(;1<=T&&0<=N;T--,N--)if(v[T]!==S[N]){if(T!==1||N!==1)do if(T--,N--,0>N||v[T]!==S[N]){var z=`
`+v[T].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=T&&0<=N);break}}}finally{M=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?X(i):""}function _e(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Se(i.type,!1),i;case 11:return i=Se(i.type.render,!1),i;case 1:return i=Se(i.type,!0),i;default:return""}}function ye(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case I:return"Portal";case W:return"Profiler";case V:return"StrictMode";case ee:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case q:return(i.displayName||"Context")+".Consumer";case Y:return(i._context.displayName||"Context")+".Provider";case ne:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ce:return a=i.displayName||null,a!==null?a:ye(i.type)||"Memo";case Z:a=i._payload,i=i._init;try{return ye(i(a))}catch{}}return null}function be(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(a);case 8:return a===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Be(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Oe(i){var a=Be(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,S=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(T){g=""+T,S.call(this,T)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(T){g=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Vt(i){i._valueTracker||(i._valueTracker=Oe(i))}function Vn(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var h=a.getValue(),g="";return i&&(g=Be(i)?i.checked?"true":"false":i.value),i=g,i!==h?(a.setValue(i),!0):!1}function $e(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function tt(i,a){var h=a.checked;return L({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function gt(i,a){var h=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;h=Ie(a.value!=null?a.value:h),i._wrapperState={initialChecked:g,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function vt(i,a){a=a.checked,a!=null&&P(i,"checked",a,!1)}function si(i,a){vt(i,a);var h=Ie(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?kr(i,a.type,h):a.hasOwnProperty("defaultValue")&&kr(i,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Er(i,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,h||a===i.value||(i.value=a),i.defaultValue=a}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function kr(i,a,h){(a!=="number"||$e(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var Cr=Array.isArray;function oi(i,a,h,g){if(i=i.options,a){a={};for(var v=0;v<h.length;v++)a["$"+h[v]]=!0;for(h=0;h<i.length;h++)v=a.hasOwnProperty("$"+i[h].value),i[h].selected!==v&&(i[h].selected=v),v&&g&&(i[h].defaultSelected=!0)}else{for(h=""+Ie(h),a=null,v=0;v<i.length;v++){if(i[v].value===h){i[v].selected=!0,g&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function ma(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return L({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Jl(i,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(Cr(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}i._wrapperState={initialValue:Ie(h)}}function Zl(i,a){var h=Ie(a.value),g=Ie(a.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),a.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),g!=null&&(i.defaultValue=""+g)}function eu(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Q(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Q(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Te,Me=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,g,v){MSApp.execUnsafeLocalFunction(function(){return i(a,h,g,v)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Te=Te||document.createElement("div"),Te.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Te.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Ge(i,a){if(a){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=a;return}}i.textContent=a}var un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(un).forEach(function(i){as.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),un[a]=un[i]})});function Di(i,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||un.hasOwnProperty(i)&&un[i]?(""+a).trim():a+"px"}function ro(i,a){i=i.style;for(var h in a)if(a.hasOwnProperty(h)){var g=h.indexOf("--")===0,v=Di(h,a[h],g);h==="float"&&(h="cssFloat"),g?i.setProperty(h,v):i[h]=v}}var ya=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cn(i,a){if(a){if(ya[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function _r(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function ny(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var iy=null,tu=null,nu=null;function RS(i){if(i=Ah(i)){if(typeof iy!="function")throw Error(t(280));var a=i.stateNode;a&&(a=Mp(a),iy(i.stateNode,i.type,a))}}function LS(i){tu?nu?nu.push(i):nu=[i]:tu=i}function IS(){if(tu){var i=tu,a=nu;if(nu=tu=null,RS(i),a)for(i=0;i<a.length;i++)RS(a[i])}}function MS(i,a){return i(a)}function DS(){}var ry=!1;function NS(i,a,h){if(ry)return i(a,h);ry=!0;try{return MS(i,a,h)}finally{ry=!1,(tu!==null||nu!==null)&&(DS(),IS())}}function th(i,a){var h=i.stateNode;if(h===null)return null;var g=Mp(h);if(g===null)return null;h=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var sy=!1;if(u)try{var nh={};Object.defineProperty(nh,"passive",{get:function(){sy=!0}}),window.addEventListener("test",nh,nh),window.removeEventListener("test",nh,nh)}catch{sy=!1}function h_(i,a,h,g,v,S,T,N,z){var G=Array.prototype.slice.call(arguments,3);try{a.apply(h,G)}catch(re){this.onError(re)}}var ih=!1,hp=null,dp=!1,oy=null,d_={onError:function(i){ih=!0,hp=i}};function f_(i,a,h,g,v,S,T,N,z){ih=!1,hp=null,h_.apply(d_,arguments)}function p_(i,a,h,g,v,S,T,N,z){if(f_.apply(this,arguments),ih){if(ih){var G=hp;ih=!1,hp=null}else throw Error(t(198));dp||(dp=!0,oy=G)}}function va(i){var a=i,h=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(h=a.return),i=a.return;while(i)}return a.tag===3?h:null}function FS(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function OS(i){if(va(i)!==i)throw Error(t(188))}function g_(i){var a=i.alternate;if(!a){if(a=va(i),a===null)throw Error(t(188));return a!==i?null:i}for(var h=i,g=a;;){var v=h.return;if(v===null)break;var S=v.alternate;if(S===null){if(g=v.return,g!==null){h=g;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===h)return OS(v),i;if(S===g)return OS(v),a;S=S.sibling}throw Error(t(188))}if(h.return!==g.return)h=v,g=S;else{for(var T=!1,N=v.child;N;){if(N===h){T=!0,h=v,g=S;break}if(N===g){T=!0,g=v,h=S;break}N=N.sibling}if(!T){for(N=S.child;N;){if(N===h){T=!0,h=S,g=v;break}if(N===g){T=!0,g=S,h=v;break}N=N.sibling}if(!T)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:a}function zS(i){return i=g_(i),i!==null?BS(i):null}function BS(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=BS(i);if(a!==null)return a;i=i.sibling}return null}var jS=e.unstable_scheduleCallback,HS=e.unstable_cancelCallback,m_=e.unstable_shouldYield,y_=e.unstable_requestPaint,It=e.unstable_now,v_=e.unstable_getCurrentPriorityLevel,ay=e.unstable_ImmediatePriority,US=e.unstable_UserBlockingPriority,fp=e.unstable_NormalPriority,w_=e.unstable_LowPriority,$S=e.unstable_IdlePriority,pp=null,Tr=null;function S_(i){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(pp,i,void 0,(i.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:b_,x_=Math.log,A_=Math.LN2;function b_(i){return i>>>=0,i===0?32:31-(x_(i)/A_|0)|0}var gp=64,mp=4194304;function rh(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function yp(i,a){var h=i.pendingLanes;if(h===0)return 0;var g=0,v=i.suspendedLanes,S=i.pingedLanes,T=h&268435455;if(T!==0){var N=T&~v;N!==0?g=rh(N):(S&=T,S!==0&&(g=rh(S)))}else T=h&~v,T!==0?g=rh(T):S!==0&&(g=rh(S));if(g===0)return 0;if(a!==0&&a!==g&&(a&v)===0&&(v=g&-g,S=a&-a,v>=S||v===16&&(S&4194240)!==0))return a;if((g&4)!==0&&(g|=h&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)h=31-er(a),v=1<<h,g|=i[h],a&=~v;return g}function E_(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k_(i,a){for(var h=i.suspendedLanes,g=i.pingedLanes,v=i.expirationTimes,S=i.pendingLanes;0<S;){var T=31-er(S),N=1<<T,z=v[T];z===-1?((N&h)===0||(N&g)!==0)&&(v[T]=E_(N,a)):z<=a&&(i.expiredLanes|=N),S&=~N}}function ly(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function VS(){var i=gp;return gp<<=1,(gp&4194240)===0&&(gp=64),i}function uy(i){for(var a=[],h=0;31>h;h++)a.push(i);return a}function sh(i,a,h){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-er(a),i[a]=h}function C_(i,a){var h=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<h;){var v=31-er(h),S=1<<v;a[v]=0,g[v]=-1,i[v]=-1,h&=~S}}function cy(i,a){var h=i.entangledLanes|=a;for(i=i.entanglements;h;){var g=31-er(h),v=1<<g;v&a|i[g]&a&&(i[g]|=a),h&=~v}}var it=0;function WS(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var GS,hy,qS,XS,YS,dy=!1,vp=[],so=null,oo=null,ao=null,oh=new Map,ah=new Map,lo=[],__="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KS(i,a){switch(i){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":oh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(a.pointerId)}}function lh(i,a,h,g,v,S){return i===null||i.nativeEvent!==S?(i={blockedOn:a,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[v]},a!==null&&(a=Ah(a),a!==null&&hy(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function T_(i,a,h,g,v){switch(a){case"focusin":return so=lh(so,i,a,h,g,v),!0;case"dragenter":return oo=lh(oo,i,a,h,g,v),!0;case"mouseover":return ao=lh(ao,i,a,h,g,v),!0;case"pointerover":var S=v.pointerId;return oh.set(S,lh(oh.get(S)||null,i,a,h,g,v)),!0;case"gotpointercapture":return S=v.pointerId,ah.set(S,lh(ah.get(S)||null,i,a,h,g,v)),!0}return!1}function QS(i){var a=wa(i.target);if(a!==null){var h=va(a);if(h!==null){if(a=h.tag,a===13){if(a=FS(h),a!==null){i.blockedOn=a,YS(i.priority,function(){qS(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var h=py(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);ai=g,h.target.dispatchEvent(g),ai=null}else return a=Ah(h),a!==null&&hy(a),i.blockedOn=h,!1;a.shift()}return!0}function JS(i,a,h){wp(i)&&h.delete(a)}function P_(){dy=!1,so!==null&&wp(so)&&(so=null),oo!==null&&wp(oo)&&(oo=null),ao!==null&&wp(ao)&&(ao=null),oh.forEach(JS),ah.forEach(JS)}function uh(i,a){i.blockedOn===a&&(i.blockedOn=null,dy||(dy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,P_)))}function ch(i){function a(v){return uh(v,i)}if(0<vp.length){uh(vp[0],i);for(var h=1;h<vp.length;h++){var g=vp[h];g.blockedOn===i&&(g.blockedOn=null)}}for(so!==null&&uh(so,i),oo!==null&&uh(oo,i),ao!==null&&uh(ao,i),oh.forEach(a),ah.forEach(a),h=0;h<lo.length;h++)g=lo[h],g.blockedOn===i&&(g.blockedOn=null);for(;0<lo.length&&(h=lo[0],h.blockedOn===null);)QS(h),h.blockedOn===null&&lo.shift()}var iu=D.ReactCurrentBatchConfig,Sp=!0;function R_(i,a,h,g){var v=it,S=iu.transition;iu.transition=null;try{it=1,fy(i,a,h,g)}finally{it=v,iu.transition=S}}function L_(i,a,h,g){var v=it,S=iu.transition;iu.transition=null;try{it=4,fy(i,a,h,g)}finally{it=v,iu.transition=S}}function fy(i,a,h,g){if(Sp){var v=py(i,a,h,g);if(v===null)Ly(i,a,g,xp,h),KS(i,g);else if(T_(v,i,a,h,g))g.stopPropagation();else if(KS(i,g),a&4&&-1<__.indexOf(i)){for(;v!==null;){var S=Ah(v);if(S!==null&&GS(S),S=py(i,a,h,g),S===null&&Ly(i,a,g,xp,h),S===v)break;v=S}v!==null&&g.stopPropagation()}else Ly(i,a,g,null,h)}}var xp=null;function py(i,a,h,g){if(xp=null,i=ny(g),i=wa(i),i!==null)if(a=va(i),a===null)i=null;else if(h=a.tag,h===13){if(i=FS(a),i!==null)return i;i=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return xp=i,null}function ZS(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v_()){case ay:return 1;case US:return 4;case fp:case w_:return 16;case $S:return 536870912;default:return 16}default:return 16}}var uo=null,gy=null,Ap=null;function ex(){if(Ap)return Ap;var i,a=gy,h=a.length,g,v="value"in uo?uo.value:uo.textContent,S=v.length;for(i=0;i<h&&a[i]===v[i];i++);var T=h-i;for(g=1;g<=T&&a[h-g]===v[S-g];g++);return Ap=v.slice(i,1<g?1-g:void 0)}function bp(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ep(){return!0}function tx(){return!1}function li(i){function a(h,g,v,S,T){this._reactName=h,this._targetInst=v,this.type=g,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(h=i[N],this[N]=h?h(S):S[N]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ep:tx,this.isPropagationStopped=tx,this}return L(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ep)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ep)},persist:function(){},isPersistent:Ep}),a}var ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=li(ru),hh=L({},ru,{view:0,detail:0}),I_=li(hh),yy,vy,dh,kp=L({},hh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==dh&&(dh&&i.type==="mousemove"?(yy=i.screenX-dh.screenX,vy=i.screenY-dh.screenY):vy=yy=0,dh=i),yy)},movementY:function(i){return"movementY"in i?i.movementY:vy}}),nx=li(kp),M_=L({},kp,{dataTransfer:0}),D_=li(M_),N_=L({},hh,{relatedTarget:0}),wy=li(N_),F_=L({},ru,{animationName:0,elapsedTime:0,pseudoElement:0}),O_=li(F_),z_=L({},ru,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),B_=li(z_),j_=L({},ru,{data:0}),ix=li(j_),H_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V_(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=$_[i])?!!a[i]:!1}function Sy(){return V_}var W_=L({},hh,{key:function(i){if(i.key){var a=H_[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=bp(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?U_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(i){return i.type==="keypress"?bp(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bp(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),G_=li(W_),q_=L({},kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rx=li(q_),X_=L({},hh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),Y_=li(X_),K_=L({},ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q_=li(K_),J_=L({},kp,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z_=li(J_),eT=[9,13,27,32],xy=u&&"CompositionEvent"in window,fh=null;u&&"documentMode"in document&&(fh=document.documentMode);var tT=u&&"TextEvent"in window&&!fh,sx=u&&(!xy||fh&&8<fh&&11>=fh),ox=" ",ax=!1;function lx(i,a){switch(i){case"keyup":return eT.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ux(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var su=!1;function nT(i,a){switch(i){case"compositionend":return ux(a);case"keypress":return a.which!==32?null:(ax=!0,ox);case"textInput":return i=a.data,i===ox&&ax?null:i;default:return null}}function iT(i,a){if(su)return i==="compositionend"||!xy&&lx(i,a)?(i=ex(),Ap=gy=uo=null,su=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return sx&&a.locale!=="ko"?null:a.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!rT[i.type]:a==="textarea"}function hx(i,a,h,g){LS(g),a=Rp(a,"onChange"),0<a.length&&(h=new my("onChange","change",null,h,g),i.push({event:h,listeners:a}))}var ph=null,gh=null;function sT(i){Px(i,0)}function Cp(i){var a=cu(i);if(Vn(a))return i}function oT(i,a){if(i==="change")return a}var dx=!1;if(u){var Ay;if(u){var by="oninput"in document;if(!by){var fx=document.createElement("div");fx.setAttribute("oninput","return;"),by=typeof fx.oninput=="function"}Ay=by}else Ay=!1;dx=Ay&&(!document.documentMode||9<document.documentMode)}function px(){ph&&(ph.detachEvent("onpropertychange",gx),gh=ph=null)}function gx(i){if(i.propertyName==="value"&&Cp(gh)){var a=[];hx(a,gh,i,ny(i)),NS(sT,a)}}function aT(i,a,h){i==="focusin"?(px(),ph=a,gh=h,ph.attachEvent("onpropertychange",gx)):i==="focusout"&&px()}function lT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cp(gh)}function uT(i,a){if(i==="click")return Cp(a)}function cT(i,a){if(i==="input"||i==="change")return Cp(a)}function hT(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var tr=typeof Object.is=="function"?Object.is:hT;function mh(i,a){if(tr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var h=Object.keys(i),g=Object.keys(a);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var v=h[g];if(!d.call(a,v)||!tr(i[v],a[v]))return!1}return!0}function mx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yx(i,a){var h=mx(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=a&&g>=a)return{node:h,offset:a-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=mx(h)}}function vx(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?vx(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function wx(){for(var i=window,a=$e();a instanceof i.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)i=a.contentWindow;else break;a=$e(i.document)}return a}function Ey(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function dT(i){var a=wx(),h=i.focusedElem,g=i.selectionRange;if(a!==h&&h&&h.ownerDocument&&vx(h.ownerDocument.documentElement,h)){if(g!==null&&Ey(h)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(i,h.value.length);else if(i=(a=h.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var v=h.textContent.length,S=Math.min(g.start,v);g=g.end===void 0?S:Math.min(g.end,v),!i.extend&&S>g&&(v=g,g=S,S=v),v=yx(h,S);var T=yx(h,g);v&&T&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),i.removeAllRanges(),S>g?(i.addRange(a),i.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),i.addRange(a)))}}for(a=[],i=h;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)i=a[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var fT=u&&"documentMode"in document&&11>=document.documentMode,ou=null,ky=null,yh=null,Cy=!1;function Sx(i,a,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Cy||ou==null||ou!==$e(g)||(g=ou,"selectionStart"in g&&Ey(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),yh&&mh(yh,g)||(yh=g,g=Rp(ky,"onSelect"),0<g.length&&(a=new my("onSelect","select",null,a,h),i.push({event:a,listeners:g}),a.target=ou)))}function _p(i,a){var h={};return h[i.toLowerCase()]=a.toLowerCase(),h["Webkit"+i]="webkit"+a,h["Moz"+i]="moz"+a,h}var au={animationend:_p("Animation","AnimationEnd"),animationiteration:_p("Animation","AnimationIteration"),animationstart:_p("Animation","AnimationStart"),transitionend:_p("Transition","TransitionEnd")},_y={},xx={};u&&(xx=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function Tp(i){if(_y[i])return _y[i];if(!au[i])return i;var a=au[i],h;for(h in a)if(a.hasOwnProperty(h)&&h in xx)return _y[i]=a[h];return i}var Ax=Tp("animationend"),bx=Tp("animationiteration"),Ex=Tp("animationstart"),kx=Tp("transitionend"),Cx=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(i,a){Cx.set(i,a),o(a,[i])}for(var Ty=0;Ty<_x.length;Ty++){var Py=_x[Ty],pT=Py.toLowerCase(),gT=Py[0].toUpperCase()+Py.slice(1);co(pT,"on"+gT)}co(Ax,"onAnimationEnd"),co(bx,"onAnimationIteration"),co(Ex,"onAnimationStart"),co("dblclick","onDoubleClick"),co("focusin","onFocus"),co("focusout","onBlur"),co(kx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mT=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function Tx(i,a,h){var g=i.type||"unknown-event";i.currentTarget=h,p_(g,a,void 0,i),i.currentTarget=null}function Px(i,a){a=(a&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],v=g.event;g=g.listeners;e:{var S=void 0;if(a)for(var T=g.length-1;0<=T;T--){var N=g[T],z=N.instance,G=N.currentTarget;if(N=N.listener,z!==S&&v.isPropagationStopped())break e;Tx(v,N,G),S=z}else for(T=0;T<g.length;T++){if(N=g[T],z=N.instance,G=N.currentTarget,N=N.listener,z!==S&&v.isPropagationStopped())break e;Tx(v,N,G),S=z}}}if(dp)throw i=oy,dp=!1,oy=null,i}function mt(i,a){var h=a[Oy];h===void 0&&(h=a[Oy]=new Set);var g=i+"__bubble";h.has(g)||(Rx(a,i,2,!1),h.add(g))}function Ry(i,a,h){var g=0;a&&(g|=4),Rx(h,i,g,a)}var Pp="_reactListening"+Math.random().toString(36).slice(2);function wh(i){if(!i[Pp]){i[Pp]=!0,n.forEach(function(h){h!=="selectionchange"&&(mT.has(h)||Ry(h,!1,i),Ry(h,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Pp]||(a[Pp]=!0,Ry("selectionchange",!1,a))}}function Rx(i,a,h,g){switch(ZS(a)){case 1:var v=R_;break;case 4:v=L_;break;default:v=fy}h=v.bind(null,a,h,i),v=void 0,!sy||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),g?v!==void 0?i.addEventListener(a,h,{capture:!0,passive:v}):i.addEventListener(a,h,!0):v!==void 0?i.addEventListener(a,h,{passive:v}):i.addEventListener(a,h,!1)}function Ly(i,a,h,g,v){var S=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var N=g.stateNode.containerInfo;if(N===v||N.nodeType===8&&N.parentNode===v)break;if(T===4)for(T=g.return;T!==null;){var z=T.tag;if((z===3||z===4)&&(z=T.stateNode.containerInfo,z===v||z.nodeType===8&&z.parentNode===v))return;T=T.return}for(;N!==null;){if(T=wa(N),T===null)return;if(z=T.tag,z===5||z===6){g=S=T;continue e}N=N.parentNode}}g=g.return}NS(function(){var G=S,re=ny(h),se=[];e:{var ie=Cx.get(i);if(ie!==void 0){var pe=my,xe=i;switch(i){case"keypress":if(bp(h)===0)break e;case"keydown":case"keyup":pe=G_;break;case"focusin":xe="focus",pe=wy;break;case"focusout":xe="blur",pe=wy;break;case"beforeblur":case"afterblur":pe=wy;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=D_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Y_;break;case Ax:case bx:case Ex:pe=O_;break;case kx:pe=Q_;break;case"scroll":pe=I_;break;case"wheel":pe=Z_;break;case"copy":case"cut":case"paste":pe=B_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=rx}var Ae=(a&4)!==0,Mt=!Ae&&i==="scroll",U=Ae?ie!==null?ie+"Capture":null:ie;Ae=[];for(var j=G,$;j!==null;){$=j;var ue=$.stateNode;if($.tag===5&&ue!==null&&($=ue,U!==null&&(ue=th(j,U),ue!=null&&Ae.push(Sh(j,ue,$)))),Mt)break;j=j.return}0<Ae.length&&(ie=new pe(ie,xe,null,h,re),se.push({event:ie,listeners:Ae}))}}if((a&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",ie&&h!==ai&&(xe=h.relatedTarget||h.fromElement)&&(wa(xe)||xe[ls]))break e;if((pe||ie)&&(ie=re.window===re?re:(ie=re.ownerDocument)?ie.defaultView||ie.parentWindow:window,pe?(xe=h.relatedTarget||h.toElement,pe=G,xe=xe?wa(xe):null,xe!==null&&(Mt=va(xe),xe!==Mt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(pe=null,xe=G),pe!==xe)){if(Ae=nx,ue="onMouseLeave",U="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=rx,ue="onPointerLeave",U="onPointerEnter",j="pointer"),Mt=pe==null?ie:cu(pe),$=xe==null?ie:cu(xe),ie=new Ae(ue,j+"leave",pe,h,re),ie.target=Mt,ie.relatedTarget=$,ue=null,wa(re)===G&&(Ae=new Ae(U,j+"enter",xe,h,re),Ae.target=$,Ae.relatedTarget=Mt,ue=Ae),Mt=ue,pe&&xe)t:{for(Ae=pe,U=xe,j=0,$=Ae;$;$=lu($))j++;for($=0,ue=U;ue;ue=lu(ue))$++;for(;0<j-$;)Ae=lu(Ae),j--;for(;0<$-j;)U=lu(U),$--;for(;j--;){if(Ae===U||U!==null&&Ae===U.alternate)break t;Ae=lu(Ae),U=lu(U)}Ae=null}else Ae=null;pe!==null&&Lx(se,ie,pe,Ae,!1),xe!==null&&Mt!==null&&Lx(se,Mt,xe,Ae,!0)}}e:{if(ie=G?cu(G):window,pe=ie.nodeName&&ie.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ie.type==="file")var Ee=oT;else if(cx(ie))if(dx)Ee=cT;else{Ee=lT;var Pe=aT}else(pe=ie.nodeName)&&pe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ee=uT);if(Ee&&(Ee=Ee(i,G))){hx(se,Ee,h,re);break e}Pe&&Pe(i,ie,G),i==="focusout"&&(Pe=ie._wrapperState)&&Pe.controlled&&ie.type==="number"&&kr(ie,"number",ie.value)}switch(Pe=G?cu(G):window,i){case"focusin":(cx(Pe)||Pe.contentEditable==="true")&&(ou=Pe,ky=G,yh=null);break;case"focusout":yh=ky=ou=null;break;case"mousedown":Cy=!0;break;case"contextmenu":case"mouseup":case"dragend":Cy=!1,Sx(se,h,re);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":Sx(se,h,re)}var Re;if(xy)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else su?lx(i,h)&&(De="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(De="onCompositionStart");De&&(sx&&h.locale!=="ko"&&(su||De!=="onCompositionStart"?De==="onCompositionEnd"&&su&&(Re=ex()):(uo=re,gy="value"in uo?uo.value:uo.textContent,su=!0)),Pe=Rp(G,De),0<Pe.length&&(De=new ix(De,i,null,h,re),se.push({event:De,listeners:Pe}),Re?De.data=Re:(Re=ux(h),Re!==null&&(De.data=Re)))),(Re=tT?nT(i,h):iT(i,h))&&(G=Rp(G,"onBeforeInput"),0<G.length&&(re=new ix("onBeforeInput","beforeinput",null,h,re),se.push({event:re,listeners:G}),re.data=Re))}Px(se,a)})}function Sh(i,a,h){return{instance:i,listener:a,currentTarget:h}}function Rp(i,a){for(var h=a+"Capture",g=[];i!==null;){var v=i,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=th(i,h),S!=null&&g.unshift(Sh(i,S,v)),S=th(i,a),S!=null&&g.push(Sh(i,S,v))),i=i.return}return g}function lu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Lx(i,a,h,g,v){for(var S=a._reactName,T=[];h!==null&&h!==g;){var N=h,z=N.alternate,G=N.stateNode;if(z!==null&&z===g)break;N.tag===5&&G!==null&&(N=G,v?(z=th(h,S),z!=null&&T.unshift(Sh(h,z,N))):v||(z=th(h,S),z!=null&&T.push(Sh(h,z,N)))),h=h.return}T.length!==0&&i.push({event:a,listeners:T})}var yT=/\r\n?/g,vT=/\u0000|\uFFFD/g;function Ix(i){return(typeof i=="string"?i:""+i).replace(yT,`
`).replace(vT,"")}function Lp(i,a,h){if(a=Ix(a),Ix(i)!==a&&h)throw Error(t(425))}function Ip(){}var Iy=null,My=null;function Dy(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ny=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,Mx=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof Mx<"u"?function(i){return Mx.resolve(null).then(i).catch(xT)}:Ny;function xT(i){setTimeout(function(){throw i})}function Fy(i,a){var h=a,g=0;do{var v=h.nextSibling;if(i.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(g===0){i.removeChild(v),ch(a);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=v}while(h);ch(a)}function ho(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Dx(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return i;a--}else h==="/$"&&a++}i=i.previousSibling}return null}var uu=Math.random().toString(36).slice(2),Pr="__reactFiber$"+uu,xh="__reactProps$"+uu,ls="__reactContainer$"+uu,Oy="__reactEvents$"+uu,AT="__reactListeners$"+uu,bT="__reactHandles$"+uu;function wa(i){var a=i[Pr];if(a)return a;for(var h=i.parentNode;h;){if(a=h[ls]||h[Pr]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(i=Dx(i);i!==null;){if(h=i[Pr])return h;i=Dx(i)}return a}i=h,h=i.parentNode}return null}function Ah(i){return i=i[Pr]||i[ls],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function cu(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Mp(i){return i[xh]||null}var zy=[],hu=-1;function fo(i){return{current:i}}function yt(i){0>hu||(i.current=zy[hu],zy[hu]=null,hu--)}function ct(i,a){hu++,zy[hu]=i.current,i.current=a}var po={},Sn=fo(po),Wn=fo(!1),Sa=po;function du(i,a){var h=i.type.contextTypes;if(!h)return po;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in h)v[S]=a[S];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function Gn(i){return i=i.childContextTypes,i!=null}function Dp(){yt(Wn),yt(Sn)}function Nx(i,a,h){if(Sn.current!==po)throw Error(t(168));ct(Sn,a),ct(Wn,h)}function Fx(i,a,h){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var v in g)if(!(v in a))throw Error(t(108,be(i)||"Unknown",v));return L({},h,g)}function Np(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||po,Sa=Sn.current,ct(Sn,i),ct(Wn,Wn.current),!0}function Ox(i,a,h){var g=i.stateNode;if(!g)throw Error(t(169));h?(i=Fx(i,a,Sa),g.__reactInternalMemoizedMergedChildContext=i,yt(Wn),yt(Sn),ct(Sn,i)):yt(Wn),ct(Wn,h)}var us=null,Fp=!1,By=!1;function zx(i){us===null?us=[i]:us.push(i)}function ET(i){Fp=!0,zx(i)}function go(){if(!By&&us!==null){By=!0;var i=0,a=it;try{var h=us;for(it=1;i<h.length;i++){var g=h[i];do g=g(!0);while(g!==null)}us=null,Fp=!1}catch(v){throw us!==null&&(us=us.slice(i+1)),jS(ay,go),v}finally{it=a,By=!1}}return null}var fu=[],pu=0,Op=null,zp=0,Ni=[],Fi=0,xa=null,cs=1,hs="";function Aa(i,a){fu[pu++]=zp,fu[pu++]=Op,Op=i,zp=a}function Bx(i,a,h){Ni[Fi++]=cs,Ni[Fi++]=hs,Ni[Fi++]=xa,xa=i;var g=cs;i=hs;var v=32-er(g)-1;g&=~(1<<v),h+=1;var S=32-er(a)+v;if(30<S){var T=v-v%5;S=(g&(1<<T)-1).toString(32),g>>=T,v-=T,cs=1<<32-er(a)+v|h<<v|g,hs=S+i}else cs=1<<S|h<<v|g,hs=i}function jy(i){i.return!==null&&(Aa(i,1),Bx(i,1,0))}function Hy(i){for(;i===Op;)Op=fu[--pu],fu[pu]=null,zp=fu[--pu],fu[pu]=null;for(;i===xa;)xa=Ni[--Fi],Ni[Fi]=null,hs=Ni[--Fi],Ni[Fi]=null,cs=Ni[--Fi],Ni[Fi]=null}var ui=null,ci=null,wt=!1,nr=null;function jx(i,a){var h=ji(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=i,a=i.deletions,a===null?(i.deletions=[h],i.flags|=16):a.push(h)}function Hx(i,a){switch(i.tag){case 5:var h=i.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,ui=i,ci=ho(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,ui=i,ci=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=xa!==null?{id:cs,overflow:hs}:null,i.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=ji(18,null,null,0),h.stateNode=a,h.return=i,i.child=h,ui=i,ci=null,!0):!1;default:return!1}}function Uy(i){return(i.mode&1)!==0&&(i.flags&128)===0}function $y(i){if(wt){var a=ci;if(a){var h=a;if(!Hx(i,a)){if(Uy(i))throw Error(t(418));a=ho(h.nextSibling);var g=ui;a&&Hx(i,a)?jx(g,h):(i.flags=i.flags&-4097|2,wt=!1,ui=i)}}else{if(Uy(i))throw Error(t(418));i.flags=i.flags&-4097|2,wt=!1,ui=i}}}function Ux(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ui=i}function Bp(i){if(i!==ui)return!1;if(!wt)return Ux(i),wt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Dy(i.type,i.memoizedProps)),a&&(a=ci)){if(Uy(i))throw $x(),Error(t(418));for(;a;)jx(i,a),a=ho(a.nextSibling)}if(Ux(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(a===0){ci=ho(i.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}i=i.nextSibling}ci=null}}else ci=ui?ho(i.stateNode.nextSibling):null;return!0}function $x(){for(var i=ci;i;)i=ho(i.nextSibling)}function gu(){ci=ui=null,wt=!1}function Vy(i){nr===null?nr=[i]:nr.push(i)}var kT=D.ReactCurrentBatchConfig;function bh(i,a,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,i));var v=g,S=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(T){var N=v.refs;T===null?delete N[S]:N[S]=T},a._stringRef=S,a)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function jp(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Vx(i){var a=i._init;return a(i._payload)}function Wx(i){function a(U,j){if(i){var $=U.deletions;$===null?(U.deletions=[j],U.flags|=16):$.push(j)}}function h(U,j){if(!i)return null;for(;j!==null;)a(U,j),j=j.sibling;return null}function g(U,j){for(U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function v(U,j){return U=bo(U,j),U.index=0,U.sibling=null,U}function S(U,j,$){return U.index=$,i?($=U.alternate,$!==null?($=$.index,$<j?(U.flags|=2,j):$):(U.flags|=2,j)):(U.flags|=1048576,j)}function T(U){return i&&U.alternate===null&&(U.flags|=2),U}function N(U,j,$,ue){return j===null||j.tag!==6?(j=Nv($,U.mode,ue),j.return=U,j):(j=v(j,$),j.return=U,j)}function z(U,j,$,ue){var Ee=$.type;return Ee===O?re(U,j,$.props.children,ue,$.key):j!==null&&(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Z&&Vx(Ee)===j.type)?(ue=v(j,$.props),ue.ref=bh(U,j,$),ue.return=U,ue):(ue=cg($.type,$.key,$.props,null,U.mode,ue),ue.ref=bh(U,j,$),ue.return=U,ue)}function G(U,j,$,ue){return j===null||j.tag!==4||j.stateNode.containerInfo!==$.containerInfo||j.stateNode.implementation!==$.implementation?(j=Fv($,U.mode,ue),j.return=U,j):(j=v(j,$.children||[]),j.return=U,j)}function re(U,j,$,ue,Ee){return j===null||j.tag!==7?(j=Ra($,U.mode,ue,Ee),j.return=U,j):(j=v(j,$),j.return=U,j)}function se(U,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Nv(""+j,U.mode,$),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return $=cg(j.type,j.key,j.props,null,U.mode,$),$.ref=bh(U,null,j),$.return=U,$;case I:return j=Fv(j,U.mode,$),j.return=U,j;case Z:var ue=j._init;return se(U,ue(j._payload),$)}if(Cr(j)||he(j))return j=Ra(j,U.mode,$,null),j.return=U,j;jp(U,j)}return null}function ie(U,j,$,ue){var Ee=j!==null?j.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Ee!==null?null:N(U,j,""+$,ue);if(typeof $=="object"&&$!==null){switch($.$$typeof){case F:return $.key===Ee?z(U,j,$,ue):null;case I:return $.key===Ee?G(U,j,$,ue):null;case Z:return Ee=$._init,ie(U,j,Ee($._payload),ue)}if(Cr($)||he($))return Ee!==null?null:re(U,j,$,ue,null);jp(U,$)}return null}function pe(U,j,$,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return U=U.get($)||null,N(j,U,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case F:return U=U.get(ue.key===null?$:ue.key)||null,z(j,U,ue,Ee);case I:return U=U.get(ue.key===null?$:ue.key)||null,G(j,U,ue,Ee);case Z:var Pe=ue._init;return pe(U,j,$,Pe(ue._payload),Ee)}if(Cr(ue)||he(ue))return U=U.get($)||null,re(j,U,ue,Ee,null);jp(j,ue)}return null}function xe(U,j,$,ue){for(var Ee=null,Pe=null,Re=j,De=j=0,Zt=null;Re!==null&&De<$.length;De++){Re.index>De?(Zt=Re,Re=null):Zt=Re.sibling;var Je=ie(U,Re,$[De],ue);if(Je===null){Re===null&&(Re=Zt);break}i&&Re&&Je.alternate===null&&a(U,Re),j=S(Je,j,De),Pe===null?Ee=Je:Pe.sibling=Je,Pe=Je,Re=Zt}if(De===$.length)return h(U,Re),wt&&Aa(U,De),Ee;if(Re===null){for(;De<$.length;De++)Re=se(U,$[De],ue),Re!==null&&(j=S(Re,j,De),Pe===null?Ee=Re:Pe.sibling=Re,Pe=Re);return wt&&Aa(U,De),Ee}for(Re=g(U,Re);De<$.length;De++)Zt=pe(Re,U,De,$[De],ue),Zt!==null&&(i&&Zt.alternate!==null&&Re.delete(Zt.key===null?De:Zt.key),j=S(Zt,j,De),Pe===null?Ee=Zt:Pe.sibling=Zt,Pe=Zt);return i&&Re.forEach(function(Eo){return a(U,Eo)}),wt&&Aa(U,De),Ee}function Ae(U,j,$,ue){var Ee=he($);if(typeof Ee!="function")throw Error(t(150));if($=Ee.call($),$==null)throw Error(t(151));for(var Pe=Ee=null,Re=j,De=j=0,Zt=null,Je=$.next();Re!==null&&!Je.done;De++,Je=$.next()){Re.index>De?(Zt=Re,Re=null):Zt=Re.sibling;var Eo=ie(U,Re,Je.value,ue);if(Eo===null){Re===null&&(Re=Zt);break}i&&Re&&Eo.alternate===null&&a(U,Re),j=S(Eo,j,De),Pe===null?Ee=Eo:Pe.sibling=Eo,Pe=Eo,Re=Zt}if(Je.done)return h(U,Re),wt&&Aa(U,De),Ee;if(Re===null){for(;!Je.done;De++,Je=$.next())Je=se(U,Je.value,ue),Je!==null&&(j=S(Je,j,De),Pe===null?Ee=Je:Pe.sibling=Je,Pe=Je);return wt&&Aa(U,De),Ee}for(Re=g(U,Re);!Je.done;De++,Je=$.next())Je=pe(Re,U,De,Je.value,ue),Je!==null&&(i&&Je.alternate!==null&&Re.delete(Je.key===null?De:Je.key),j=S(Je,j,De),Pe===null?Ee=Je:Pe.sibling=Je,Pe=Je);return i&&Re.forEach(function(rP){return a(U,rP)}),wt&&Aa(U,De),Ee}function Mt(U,j,$,ue){if(typeof $=="object"&&$!==null&&$.type===O&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case F:e:{for(var Ee=$.key,Pe=j;Pe!==null;){if(Pe.key===Ee){if(Ee=$.type,Ee===O){if(Pe.tag===7){h(U,Pe.sibling),j=v(Pe,$.props.children),j.return=U,U=j;break e}}else if(Pe.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Z&&Vx(Ee)===Pe.type){h(U,Pe.sibling),j=v(Pe,$.props),j.ref=bh(U,Pe,$),j.return=U,U=j;break e}h(U,Pe);break}else a(U,Pe);Pe=Pe.sibling}$.type===O?(j=Ra($.props.children,U.mode,ue,$.key),j.return=U,U=j):(ue=cg($.type,$.key,$.props,null,U.mode,ue),ue.ref=bh(U,j,$),ue.return=U,U=ue)}return T(U);case I:e:{for(Pe=$.key;j!==null;){if(j.key===Pe)if(j.tag===4&&j.stateNode.containerInfo===$.containerInfo&&j.stateNode.implementation===$.implementation){h(U,j.sibling),j=v(j,$.children||[]),j.return=U,U=j;break e}else{h(U,j);break}else a(U,j);j=j.sibling}j=Fv($,U.mode,ue),j.return=U,U=j}return T(U);case Z:return Pe=$._init,Mt(U,j,Pe($._payload),ue)}if(Cr($))return xe(U,j,$,ue);if(he($))return Ae(U,j,$,ue);jp(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,j!==null&&j.tag===6?(h(U,j.sibling),j=v(j,$),j.return=U,U=j):(h(U,j),j=Nv($,U.mode,ue),j.return=U,U=j),T(U)):h(U,j)}return Mt}var mu=Wx(!0),Gx=Wx(!1),Hp=fo(null),Up=null,yu=null,Wy=null;function Gy(){Wy=yu=Up=null}function qy(i){var a=Hp.current;yt(Hp),i._currentValue=a}function Xy(i,a,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===h)break;i=i.return}}function vu(i,a){Up=i,Wy=yu=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(qn=!0),i.firstContext=null)}function Oi(i){var a=i._currentValue;if(Wy!==i)if(i={context:i,memoizedValue:a,next:null},yu===null){if(Up===null)throw Error(t(308));yu=i,Up.dependencies={lanes:0,firstContext:i}}else yu=yu.next=i;return a}var ba=null;function Yy(i){ba===null?ba=[i]:ba.push(i)}function qx(i,a,h,g){var v=a.interleaved;return v===null?(h.next=h,Yy(a)):(h.next=v.next,v.next=h),a.interleaved=h,ds(i,g)}function ds(i,a){i.lanes|=a;var h=i.alternate;for(h!==null&&(h.lanes|=a),h=i,i=i.return;i!==null;)i.childLanes|=a,h=i.alternate,h!==null&&(h.childLanes|=a),h=i,i=i.return;return h.tag===3?h.stateNode:null}var mo=!1;function Ky(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xx(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function fs(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function yo(i,a,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Ye&2)!==0){var v=g.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),g.pending=a,ds(i,h)}return v=g.interleaved,v===null?(a.next=a,Yy(g)):(a.next=v.next,v.next=a),g.interleaved=a,ds(i,h)}function $p(i,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,h|=g,a.lanes=h,cy(i,h)}}function Yx(i,a){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var v=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var T={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?v=S=T:S=S.next=T,h=h.next}while(h!==null);S===null?v=S=a:S=S.next=a}else v=S=a;h={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:g.shared,effects:g.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=a:i.next=a,h.lastBaseUpdate=a}function Vp(i,a,h,g){var v=i.updateQueue;mo=!1;var S=v.firstBaseUpdate,T=v.lastBaseUpdate,N=v.shared.pending;if(N!==null){v.shared.pending=null;var z=N,G=z.next;z.next=null,T===null?S=G:T.next=G,T=z;var re=i.alternate;re!==null&&(re=re.updateQueue,N=re.lastBaseUpdate,N!==T&&(N===null?re.firstBaseUpdate=G:N.next=G,re.lastBaseUpdate=z))}if(S!==null){var se=v.baseState;T=0,re=G=z=null,N=S;do{var ie=N.lane,pe=N.eventTime;if((g&ie)===ie){re!==null&&(re=re.next={eventTime:pe,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var xe=i,Ae=N;switch(ie=a,pe=h,Ae.tag){case 1:if(xe=Ae.payload,typeof xe=="function"){se=xe.call(pe,se,ie);break e}se=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ae.payload,ie=typeof xe=="function"?xe.call(pe,se,ie):xe,ie==null)break e;se=L({},se,ie);break e;case 2:mo=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,ie=v.effects,ie===null?v.effects=[N]:ie.push(N))}else pe={eventTime:pe,lane:ie,tag:N.tag,payload:N.payload,callback:N.callback,next:null},re===null?(G=re=pe,z=se):re=re.next=pe,T|=ie;if(N=N.next,N===null){if(N=v.shared.pending,N===null)break;ie=N,N=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);if(re===null&&(z=se),v.baseState=z,v.firstBaseUpdate=G,v.lastBaseUpdate=re,a=v.shared.interleaved,a!==null){v=a;do T|=v.lane,v=v.next;while(v!==a)}else S===null&&(v.shared.lanes=0);Ca|=T,i.lanes=T,i.memoizedState=se}}function Kx(i,a,h){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],v=g.callback;if(v!==null){if(g.callback=null,g=h,typeof v!="function")throw Error(t(191,v));v.call(g)}}}var Eh={},Rr=fo(Eh),kh=fo(Eh),Ch=fo(Eh);function Ea(i){if(i===Eh)throw Error(t(174));return i}function Qy(i,a){switch(ct(Ch,a),ct(kh,i),ct(Rr,Eh),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:oe(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=oe(a,i)}yt(Rr),ct(Rr,a)}function wu(){yt(Rr),yt(kh),yt(Ch)}function Qx(i){Ea(Ch.current);var a=Ea(Rr.current),h=oe(a,i.type);a!==h&&(ct(kh,i),ct(Rr,h))}function Jy(i){kh.current===i&&(yt(Rr),yt(kh))}var Et=fo(0);function Wp(i){for(var a=i;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Zy=[];function ev(){for(var i=0;i<Zy.length;i++)Zy[i]._workInProgressVersionPrimary=null;Zy.length=0}var Gp=D.ReactCurrentDispatcher,tv=D.ReactCurrentBatchConfig,ka=0,kt=null,Wt=null,Qt=null,qp=!1,_h=!1,Th=0,CT=0;function xn(){throw Error(t(321))}function nv(i,a){if(a===null)return!1;for(var h=0;h<a.length&&h<i.length;h++)if(!tr(i[h],a[h]))return!1;return!0}function iv(i,a,h,g,v,S){if(ka=S,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Gp.current=i===null||i.memoizedState===null?RT:LT,i=h(g,v),_h){S=0;do{if(_h=!1,Th=0,25<=S)throw Error(t(301));S+=1,Qt=Wt=null,a.updateQueue=null,Gp.current=IT,i=h(g,v)}while(_h)}if(Gp.current=Kp,a=Wt!==null&&Wt.next!==null,ka=0,Qt=Wt=kt=null,qp=!1,a)throw Error(t(300));return i}function rv(){var i=Th!==0;return Th=0,i}function Lr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?kt.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function zi(){if(Wt===null){var i=kt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var a=Qt===null?kt.memoizedState:Qt.next;if(a!==null)Qt=a,Wt=i;else{if(i===null)throw Error(t(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Qt===null?kt.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function Ph(i,a){return typeof a=="function"?a(i):a}function sv(i){var a=zi(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=Wt,v=g.baseQueue,S=h.pending;if(S!==null){if(v!==null){var T=v.next;v.next=S.next,S.next=T}g.baseQueue=v=S,h.pending=null}if(v!==null){S=v.next,g=g.baseState;var N=T=null,z=null,G=S;do{var re=G.lane;if((ka&re)===re)z!==null&&(z=z.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),g=G.hasEagerState?G.eagerState:i(g,G.action);else{var se={lane:re,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};z===null?(N=z=se,T=g):z=z.next=se,kt.lanes|=re,Ca|=re}G=G.next}while(G!==null&&G!==S);z===null?T=g:z.next=N,tr(g,a.memoizedState)||(qn=!0),a.memoizedState=g,a.baseState=T,a.baseQueue=z,h.lastRenderedState=g}if(i=h.interleaved,i!==null){v=i;do S=v.lane,kt.lanes|=S,Ca|=S,v=v.next;while(v!==i)}else v===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function ov(i){var a=zi(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=h.dispatch,v=h.pending,S=a.memoizedState;if(v!==null){h.pending=null;var T=v=v.next;do S=i(S,T.action),T=T.next;while(T!==v);tr(S,a.memoizedState)||(qn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),h.lastRenderedState=S}return[S,g]}function Jx(){}function Zx(i,a){var h=kt,g=zi(),v=a(),S=!tr(g.memoizedState,v);if(S&&(g.memoizedState=v,qn=!0),g=g.queue,av(nA.bind(null,h,g,i),[i]),g.getSnapshot!==a||S||Qt!==null&&Qt.memoizedState.tag&1){if(h.flags|=2048,Rh(9,tA.bind(null,h,g,v,a),void 0,null),Jt===null)throw Error(t(349));(ka&30)!==0||eA(h,a,v)}return v}function eA(i,a,h){i.flags|=16384,i={getSnapshot:a,value:h},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.stores=[i]):(h=a.stores,h===null?a.stores=[i]:h.push(i))}function tA(i,a,h,g){a.value=h,a.getSnapshot=g,iA(a)&&rA(i)}function nA(i,a,h){return h(function(){iA(a)&&rA(i)})}function iA(i){var a=i.getSnapshot;i=i.value;try{var h=a();return!tr(i,h)}catch{return!0}}function rA(i){var a=ds(i,1);a!==null&&or(a,i,1,-1)}function sA(i){var a=Lr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:i},a.queue=i,i=i.dispatch=PT.bind(null,kt,i),[a.memoizedState,i]}function Rh(i,a,h,g){return i={tag:i,create:a,destroy:h,deps:g,next:null},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.lastEffect=i.next=i):(h=a.lastEffect,h===null?a.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,a.lastEffect=i)),i}function oA(){return zi().memoizedState}function Xp(i,a,h,g){var v=Lr();kt.flags|=i,v.memoizedState=Rh(1|a,h,void 0,g===void 0?null:g)}function Yp(i,a,h,g){var v=zi();g=g===void 0?null:g;var S=void 0;if(Wt!==null){var T=Wt.memoizedState;if(S=T.destroy,g!==null&&nv(g,T.deps)){v.memoizedState=Rh(a,h,S,g);return}}kt.flags|=i,v.memoizedState=Rh(1|a,h,S,g)}function aA(i,a){return Xp(8390656,8,i,a)}function av(i,a){return Yp(2048,8,i,a)}function lA(i,a){return Yp(4,2,i,a)}function uA(i,a){return Yp(4,4,i,a)}function cA(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function hA(i,a,h){return h=h!=null?h.concat([i]):null,Yp(4,4,cA.bind(null,a,i),h)}function lv(){}function dA(i,a){var h=zi();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&nv(a,g[1])?g[0]:(h.memoizedState=[i,a],i)}function fA(i,a){var h=zi();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&nv(a,g[1])?g[0]:(i=i(),h.memoizedState=[i,a],i)}function pA(i,a,h){return(ka&21)===0?(i.baseState&&(i.baseState=!1,qn=!0),i.memoizedState=h):(tr(h,a)||(h=VS(),kt.lanes|=h,Ca|=h,i.baseState=!0),a)}function _T(i,a){var h=it;it=h!==0&&4>h?h:4,i(!0);var g=tv.transition;tv.transition={};try{i(!1),a()}finally{it=h,tv.transition=g}}function gA(){return zi().memoizedState}function TT(i,a,h){var g=xo(i);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},mA(i))yA(a,h);else if(h=qx(i,a,h,g),h!==null){var v=Mn();or(h,i,g,v),vA(h,a,g)}}function PT(i,a,h){var g=xo(i),v={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(mA(i))yA(a,v);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var T=a.lastRenderedState,N=S(T,h);if(v.hasEagerState=!0,v.eagerState=N,tr(N,T)){var z=a.interleaved;z===null?(v.next=v,Yy(a)):(v.next=z.next,z.next=v),a.interleaved=v;return}}catch{}finally{}h=qx(i,a,v,g),h!==null&&(v=Mn(),or(h,i,g,v),vA(h,a,g))}}function mA(i){var a=i.alternate;return i===kt||a!==null&&a===kt}function yA(i,a){_h=qp=!0;var h=i.pending;h===null?a.next=a:(a.next=h.next,h.next=a),i.pending=a}function vA(i,a,h){if((h&4194240)!==0){var g=a.lanes;g&=i.pendingLanes,h|=g,a.lanes=h,cy(i,h)}}var Kp={readContext:Oi,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},RT={readContext:Oi,useCallback:function(i,a){return Lr().memoizedState=[i,a===void 0?null:a],i},useContext:Oi,useEffect:aA,useImperativeHandle:function(i,a,h){return h=h!=null?h.concat([i]):null,Xp(4194308,4,cA.bind(null,a,i),h)},useLayoutEffect:function(i,a){return Xp(4194308,4,i,a)},useInsertionEffect:function(i,a){return Xp(4,2,i,a)},useMemo:function(i,a){var h=Lr();return a=a===void 0?null:a,i=i(),h.memoizedState=[i,a],i},useReducer:function(i,a,h){var g=Lr();return a=h!==void 0?h(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=TT.bind(null,kt,i),[g.memoizedState,i]},useRef:function(i){var a=Lr();return i={current:i},a.memoizedState=i},useState:sA,useDebugValue:lv,useDeferredValue:function(i){return Lr().memoizedState=i},useTransition:function(){var i=sA(!1),a=i[0];return i=_T.bind(null,i[1]),Lr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,h){var g=kt,v=Lr();if(wt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),Jt===null)throw Error(t(349));(ka&30)!==0||eA(g,a,h)}v.memoizedState=h;var S={value:h,getSnapshot:a};return v.queue=S,aA(nA.bind(null,g,S,i),[i]),g.flags|=2048,Rh(9,tA.bind(null,g,S,h,a),void 0,null),h},useId:function(){var i=Lr(),a=Jt.identifierPrefix;if(wt){var h=hs,g=cs;h=(g&~(1<<32-er(g)-1)).toString(32)+h,a=":"+a+"R"+h,h=Th++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=CT++,a=":"+a+"r"+h.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},LT={readContext:Oi,useCallback:dA,useContext:Oi,useEffect:av,useImperativeHandle:hA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:fA,useReducer:sv,useRef:oA,useState:function(){return sv(Ph)},useDebugValue:lv,useDeferredValue:function(i){var a=zi();return pA(a,Wt.memoizedState,i)},useTransition:function(){var i=sv(Ph)[0],a=zi().memoizedState;return[i,a]},useMutableSource:Jx,useSyncExternalStore:Zx,useId:gA,unstable_isNewReconciler:!1},IT={readContext:Oi,useCallback:dA,useContext:Oi,useEffect:av,useImperativeHandle:hA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:fA,useReducer:ov,useRef:oA,useState:function(){return ov(Ph)},useDebugValue:lv,useDeferredValue:function(i){var a=zi();return Wt===null?a.memoizedState=i:pA(a,Wt.memoizedState,i)},useTransition:function(){var i=ov(Ph)[0],a=zi().memoizedState;return[i,a]},useMutableSource:Jx,useSyncExternalStore:Zx,useId:gA,unstable_isNewReconciler:!1};function ir(i,a){if(i&&i.defaultProps){a=L({},a),i=i.defaultProps;for(var h in i)a[h]===void 0&&(a[h]=i[h]);return a}return a}function uv(i,a,h,g){a=i.memoizedState,h=h(g,a),h=h==null?a:L({},a,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var Qp={isMounted:function(i){return(i=i._reactInternals)?va(i)===i:!1},enqueueSetState:function(i,a,h){i=i._reactInternals;var g=Mn(),v=xo(i),S=fs(g,v);S.payload=a,h!=null&&(S.callback=h),a=yo(i,S,v),a!==null&&(or(a,i,v,g),$p(a,i,v))},enqueueReplaceState:function(i,a,h){i=i._reactInternals;var g=Mn(),v=xo(i),S=fs(g,v);S.tag=1,S.payload=a,h!=null&&(S.callback=h),a=yo(i,S,v),a!==null&&(or(a,i,v,g),$p(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var h=Mn(),g=xo(i),v=fs(h,g);v.tag=2,a!=null&&(v.callback=a),a=yo(i,v,g),a!==null&&(or(a,i,g,h),$p(a,i,g))}};function wA(i,a,h,g,v,S,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,T):a.prototype&&a.prototype.isPureReactComponent?!mh(h,g)||!mh(v,S):!0}function SA(i,a,h){var g=!1,v=po,S=a.contextType;return typeof S=="object"&&S!==null?S=Oi(S):(v=Gn(a)?Sa:Sn.current,g=a.contextTypes,S=(g=g!=null)?du(i,v):po),a=new a(h,S),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Qp,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=S),a}function xA(i,a,h,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,g),a.state!==i&&Qp.enqueueReplaceState(a,a.state,null)}function cv(i,a,h,g){var v=i.stateNode;v.props=h,v.state=i.memoizedState,v.refs={},Ky(i);var S=a.contextType;typeof S=="object"&&S!==null?v.context=Oi(S):(S=Gn(a)?Sa:Sn.current,v.context=du(i,S)),v.state=i.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(uv(i,a,S,h),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Qp.enqueueReplaceState(v,v.state,null),Vp(i,h,v,g),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Su(i,a){try{var h="",g=a;do h+=_e(g),g=g.return;while(g);var v=h}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:a,stack:v,digest:null}}function hv(i,a,h){return{value:i,source:null,stack:h??null,digest:a??null}}function dv(i,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var MT=typeof WeakMap=="function"?WeakMap:Map;function AA(i,a,h){h=fs(-1,h),h.tag=3,h.payload={element:null};var g=a.value;return h.callback=function(){rg||(rg=!0,_v=g),dv(i,a)},h}function bA(i,a,h){h=fs(-1,h),h.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var v=a.value;h.payload=function(){return g(v)},h.callback=function(){dv(i,a)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){dv(i,a),typeof g!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),h}function EA(i,a,h){var g=i.pingCache;if(g===null){g=i.pingCache=new MT;var v=new Set;g.set(a,v)}else v=g.get(a),v===void 0&&(v=new Set,g.set(a,v));v.has(h)||(v.add(h),i=qT.bind(null,i,a,h),a.then(i,i))}function kA(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function CA(i,a,h,g,v){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=fs(-1,1),a.tag=2,yo(h,a,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var DT=D.ReactCurrentOwner,qn=!1;function In(i,a,h,g){a.child=i===null?Gx(a,null,h,g):mu(a,i.child,h,g)}function _A(i,a,h,g,v){h=h.render;var S=a.ref;return vu(a,v),g=iv(i,a,h,g,S,v),h=rv(),i!==null&&!qn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,ps(i,a,v)):(wt&&h&&jy(a),a.flags|=1,In(i,a,g,v),a.child)}function TA(i,a,h,g,v){if(i===null){var S=h.type;return typeof S=="function"&&!Dv(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=S,PA(i,a,S,g,v)):(i=cg(h.type,null,g,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(S=i.child,(i.lanes&v)===0){var T=S.memoizedProps;if(h=h.compare,h=h!==null?h:mh,h(T,g)&&i.ref===a.ref)return ps(i,a,v)}return a.flags|=1,i=bo(S,g),i.ref=a.ref,i.return=a,a.child=i}function PA(i,a,h,g,v){if(i!==null){var S=i.memoizedProps;if(mh(S,g)&&i.ref===a.ref)if(qn=!1,a.pendingProps=g=S,(i.lanes&v)!==0)(i.flags&131072)!==0&&(qn=!0);else return a.lanes=i.lanes,ps(i,a,v)}return fv(i,a,h,g,v)}function RA(i,a,h){var g=a.pendingProps,v=g.children,S=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Au,hi),hi|=h;else{if((h&1073741824)===0)return i=S!==null?S.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,ct(Au,hi),hi|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:h,ct(Au,hi),hi|=g}else S!==null?(g=S.baseLanes|h,a.memoizedState=null):g=h,ct(Au,hi),hi|=g;return In(i,a,v,h),a.child}function LA(i,a){var h=a.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function fv(i,a,h,g,v){var S=Gn(h)?Sa:Sn.current;return S=du(a,S),vu(a,v),h=iv(i,a,h,g,S,v),g=rv(),i!==null&&!qn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,ps(i,a,v)):(wt&&g&&jy(a),a.flags|=1,In(i,a,h,v),a.child)}function IA(i,a,h,g,v){if(Gn(h)){var S=!0;Np(a)}else S=!1;if(vu(a,v),a.stateNode===null)Zp(i,a),SA(a,h,g),cv(a,h,g,v),g=!0;else if(i===null){var T=a.stateNode,N=a.memoizedProps;T.props=N;var z=T.context,G=h.contextType;typeof G=="object"&&G!==null?G=Oi(G):(G=Gn(h)?Sa:Sn.current,G=du(a,G));var re=h.getDerivedStateFromProps,se=typeof re=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==g||z!==G)&&xA(a,T,g,G),mo=!1;var ie=a.memoizedState;T.state=ie,Vp(a,g,T,v),z=a.memoizedState,N!==g||ie!==z||Wn.current||mo?(typeof re=="function"&&(uv(a,h,re,g),z=a.memoizedState),(N=mo||wA(a,h,N,g,ie,z,G))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=z),T.props=g,T.state=z,T.context=G,g=N):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{T=a.stateNode,Xx(i,a),N=a.memoizedProps,G=a.type===a.elementType?N:ir(a.type,N),T.props=G,se=a.pendingProps,ie=T.context,z=h.contextType,typeof z=="object"&&z!==null?z=Oi(z):(z=Gn(h)?Sa:Sn.current,z=du(a,z));var pe=h.getDerivedStateFromProps;(re=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==se||ie!==z)&&xA(a,T,g,z),mo=!1,ie=a.memoizedState,T.state=ie,Vp(a,g,T,v);var xe=a.memoizedState;N!==se||ie!==xe||Wn.current||mo?(typeof pe=="function"&&(uv(a,h,pe,g),xe=a.memoizedState),(G=mo||wA(a,h,G,g,ie,xe,z)||!1)?(re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,xe,z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,xe,z)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=xe),T.props=g,T.state=xe,T.context=z,g=G):(typeof T.componentDidUpdate!="function"||N===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),g=!1)}return pv(i,a,h,g,S,v)}function pv(i,a,h,g,v,S){LA(i,a);var T=(a.flags&128)!==0;if(!g&&!T)return v&&Ox(a,h,!1),ps(i,a,S);g=a.stateNode,DT.current=a;var N=T&&typeof h.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&T?(a.child=mu(a,i.child,null,S),a.child=mu(a,null,N,S)):In(i,a,N,S),a.memoizedState=g.state,v&&Ox(a,h,!0),a.child}function MA(i){var a=i.stateNode;a.pendingContext?Nx(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Nx(i,a.context,!1),Qy(i,a.containerInfo)}function DA(i,a,h,g,v){return gu(),Vy(v),a.flags|=256,In(i,a,h,g),a.child}var gv={dehydrated:null,treeContext:null,retryLane:0};function mv(i){return{baseLanes:i,cachePool:null,transitions:null}}function NA(i,a,h){var g=a.pendingProps,v=Et.current,S=!1,T=(a.flags&128)!==0,N;if((N=T)||(N=i!==null&&i.memoizedState===null?!1:(v&2)!==0),N?(S=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),ct(Et,v&1),i===null)return $y(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=g.children,i=g.fallback,S?(g=a.mode,S=a.child,T={mode:"hidden",children:T},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=T):S=hg(T,g,0,null),i=Ra(i,g,h,null),S.return=a,i.return=a,S.sibling=i,a.child=S,a.child.memoizedState=mv(h),a.memoizedState=gv,i):yv(a,T));if(v=i.memoizedState,v!==null&&(N=v.dehydrated,N!==null))return NT(i,a,T,g,N,v,h);if(S){S=g.fallback,T=a.mode,v=i.child,N=v.sibling;var z={mode:"hidden",children:g.children};return(T&1)===0&&a.child!==v?(g=a.child,g.childLanes=0,g.pendingProps=z,a.deletions=null):(g=bo(v,z),g.subtreeFlags=v.subtreeFlags&14680064),N!==null?S=bo(N,S):(S=Ra(S,T,h,null),S.flags|=2),S.return=a,g.return=a,g.sibling=S,a.child=g,g=S,S=a.child,T=i.child.memoizedState,T=T===null?mv(h):{baseLanes:T.baseLanes|h,cachePool:null,transitions:T.transitions},S.memoizedState=T,S.childLanes=i.childLanes&~h,a.memoizedState=gv,g}return S=i.child,i=S.sibling,g=bo(S,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=h),g.return=a,g.sibling=null,i!==null&&(h=a.deletions,h===null?(a.deletions=[i],a.flags|=16):h.push(i)),a.child=g,a.memoizedState=null,g}function yv(i,a){return a=hg({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Jp(i,a,h,g){return g!==null&&Vy(g),mu(a,i.child,null,h),i=yv(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function NT(i,a,h,g,v,S,T){if(h)return a.flags&256?(a.flags&=-257,g=hv(Error(t(422))),Jp(i,a,T,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(S=g.fallback,v=a.mode,g=hg({mode:"visible",children:g.children},v,0,null),S=Ra(S,v,T,null),S.flags|=2,g.return=a,S.return=a,g.sibling=S,a.child=g,(a.mode&1)!==0&&mu(a,i.child,null,T),a.child.memoizedState=mv(T),a.memoizedState=gv,S);if((a.mode&1)===0)return Jp(i,a,T,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var N=g.dgst;return g=N,S=Error(t(419)),g=hv(S,g,void 0),Jp(i,a,T,g)}if(N=(T&i.childLanes)!==0,qn||N){if(g=Jt,g!==null){switch(T&-T){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|T))!==0?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,ds(i,v),or(g,i,v,-1))}return Mv(),g=hv(Error(t(421))),Jp(i,a,T,g)}return v.data==="$?"?(a.flags|=128,a.child=i.child,a=XT.bind(null,i),v._reactRetry=a,null):(i=S.treeContext,ci=ho(v.nextSibling),ui=a,wt=!0,nr=null,i!==null&&(Ni[Fi++]=cs,Ni[Fi++]=hs,Ni[Fi++]=xa,cs=i.id,hs=i.overflow,xa=a),a=yv(a,g.children),a.flags|=4096,a)}function FA(i,a,h){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),Xy(i.return,a,h)}function vv(i,a,h,g,v){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:v}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=v)}function OA(i,a,h){var g=a.pendingProps,v=g.revealOrder,S=g.tail;if(In(i,a,g.children,h),g=Et.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&FA(i,h,a);else if(i.tag===19)FA(i,h,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(ct(Et,g),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(h=a.child,v=null;h!==null;)i=h.alternate,i!==null&&Wp(i)===null&&(v=h),h=h.sibling;h=v,h===null?(v=a.child,a.child=null):(v=h.sibling,h.sibling=null),vv(a,!1,v,h,S);break;case"backwards":for(h=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Wp(i)===null){a.child=v;break}i=v.sibling,v.sibling=h,h=v,v=i}vv(a,!0,h,null,S);break;case"together":vv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zp(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function ps(i,a,h){if(i!==null&&(a.dependencies=i.dependencies),Ca|=a.lanes,(h&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,h=bo(i,i.pendingProps),a.child=h,h.return=a;i.sibling!==null;)i=i.sibling,h=h.sibling=bo(i,i.pendingProps),h.return=a;h.sibling=null}return a.child}function FT(i,a,h){switch(a.tag){case 3:MA(a),gu();break;case 5:Qx(a);break;case 1:Gn(a.type)&&Np(a);break;case 4:Qy(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,v=a.memoizedProps.value;ct(Hp,g._currentValue),g._currentValue=v;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(ct(Et,Et.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?NA(i,a,h):(ct(Et,Et.current&1),i=ps(i,a,h),i!==null?i.sibling:null);ct(Et,Et.current&1);break;case 19:if(g=(h&a.childLanes)!==0,(i.flags&128)!==0){if(g)return OA(i,a,h);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ct(Et,Et.current),g)break;return null;case 22:case 23:return a.lanes=0,RA(i,a,h)}return ps(i,a,h)}var zA,wv,BA,jA;zA=function(i,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},wv=function(){},BA=function(i,a,h,g){var v=i.memoizedProps;if(v!==g){i=a.stateNode,Ea(Rr.current);var S=null;switch(h){case"input":v=tt(i,v),g=tt(i,g),S=[];break;case"select":v=L({},v,{value:void 0}),g=L({},g,{value:void 0}),S=[];break;case"textarea":v=ma(i,v),g=ma(i,g),S=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Ip)}cn(h,g);var T;h=null;for(G in v)if(!g.hasOwnProperty(G)&&v.hasOwnProperty(G)&&v[G]!=null)if(G==="style"){var N=v[G];for(T in N)N.hasOwnProperty(T)&&(h||(h={}),h[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?S||(S=[]):(S=S||[]).push(G,null));for(G in g){var z=g[G];if(N=v!=null?v[G]:void 0,g.hasOwnProperty(G)&&z!==N&&(z!=null||N!=null))if(G==="style")if(N){for(T in N)!N.hasOwnProperty(T)||z&&z.hasOwnProperty(T)||(h||(h={}),h[T]="");for(T in z)z.hasOwnProperty(T)&&N[T]!==z[T]&&(h||(h={}),h[T]=z[T])}else h||(S||(S=[]),S.push(G,h)),h=z;else G==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,N=N?N.__html:void 0,z!=null&&N!==z&&(S=S||[]).push(G,z)):G==="children"?typeof z!="string"&&typeof z!="number"||(S=S||[]).push(G,""+z):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(z!=null&&G==="onScroll"&&mt("scroll",i),S||N===z||(S=[])):(S=S||[]).push(G,z))}h&&(S=S||[]).push("style",h);var G=S;(a.updateQueue=G)&&(a.flags|=4)}},jA=function(i,a,h,g){h!==g&&(a.flags|=4)};function Lh(i,a){if(!wt)switch(i.tailMode){case"hidden":a=i.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function An(i){var a=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(a)for(var v=i.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=g,i.childLanes=h,a}function OT(i,a,h){var g=a.pendingProps;switch(Hy(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(a),null;case 1:return Gn(a.type)&&Dp(),An(a),null;case 3:return g=a.stateNode,wu(),yt(Wn),yt(Sn),ev(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Bp(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,nr!==null&&(Rv(nr),nr=null))),wv(i,a),An(a),null;case 5:Jy(a);var v=Ea(Ch.current);if(h=a.type,i!==null&&a.stateNode!=null)BA(i,a,h,g,v),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return An(a),null}if(i=Ea(Rr.current),Bp(a)){g=a.stateNode,h=a.type;var S=a.memoizedProps;switch(g[Pr]=a,g[xh]=S,i=(a.mode&1)!==0,h){case"dialog":mt("cancel",g),mt("close",g);break;case"iframe":case"object":case"embed":mt("load",g);break;case"video":case"audio":for(v=0;v<vh.length;v++)mt(vh[v],g);break;case"source":mt("error",g);break;case"img":case"image":case"link":mt("error",g),mt("load",g);break;case"details":mt("toggle",g);break;case"input":gt(g,S),mt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},mt("invalid",g);break;case"textarea":Jl(g,S),mt("invalid",g)}cn(h,S),v=null;for(var T in S)if(S.hasOwnProperty(T)){var N=S[T];T==="children"?typeof N=="string"?g.textContent!==N&&(S.suppressHydrationWarning!==!0&&Lp(g.textContent,N,i),v=["children",N]):typeof N=="number"&&g.textContent!==""+N&&(S.suppressHydrationWarning!==!0&&Lp(g.textContent,N,i),v=["children",""+N]):s.hasOwnProperty(T)&&N!=null&&T==="onScroll"&&mt("scroll",g)}switch(h){case"input":Vt(g),Er(g,S,!0);break;case"textarea":Vt(g),eu(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Ip)}g=v,a.updateQueue=g,g!==null&&(a.flags|=4)}else{T=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Q(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=T.createElement(h,{is:g.is}):(i=T.createElement(h),h==="select"&&(T=i,g.multiple?T.multiple=!0:g.size&&(T.size=g.size))):i=T.createElementNS(i,h),i[Pr]=a,i[xh]=g,zA(i,a,!1,!1),a.stateNode=i;e:{switch(T=_r(h,g),h){case"dialog":mt("cancel",i),mt("close",i),v=g;break;case"iframe":case"object":case"embed":mt("load",i),v=g;break;case"video":case"audio":for(v=0;v<vh.length;v++)mt(vh[v],i);v=g;break;case"source":mt("error",i),v=g;break;case"img":case"image":case"link":mt("error",i),mt("load",i),v=g;break;case"details":mt("toggle",i),v=g;break;case"input":gt(i,g),v=tt(i,g),mt("invalid",i);break;case"option":v=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},v=L({},g,{value:void 0}),mt("invalid",i);break;case"textarea":Jl(i,g),v=ma(i,g),mt("invalid",i);break;default:v=g}cn(h,v),N=v;for(S in N)if(N.hasOwnProperty(S)){var z=N[S];S==="style"?ro(i,z):S==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Me(i,z)):S==="children"?typeof z=="string"?(h!=="textarea"||z!=="")&&Ge(i,z):typeof z=="number"&&Ge(i,""+z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?z!=null&&S==="onScroll"&&mt("scroll",i):z!=null&&P(i,S,z,T))}switch(h){case"input":Vt(i),Er(i,g,!1);break;case"textarea":Vt(i),eu(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Ie(g.value));break;case"select":i.multiple=!!g.multiple,S=g.value,S!=null?oi(i,!!g.multiple,S,!1):g.defaultValue!=null&&oi(i,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=Ip)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return An(a),null;case 6:if(i&&a.stateNode!=null)jA(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(h=Ea(Ch.current),Ea(Rr.current),Bp(a)){if(g=a.stateNode,h=a.memoizedProps,g[Pr]=a,(S=g.nodeValue!==h)&&(i=ui,i!==null))switch(i.tag){case 3:Lp(g.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Lp(g.nodeValue,h,(i.mode&1)!==0)}S&&(a.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Pr]=a,a.stateNode=g}return An(a),null;case 13:if(yt(Et),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(wt&&ci!==null&&(a.mode&1)!==0&&(a.flags&128)===0)$x(),gu(),a.flags|=98560,S=!1;else if(S=Bp(a),g!==null&&g.dehydrated!==null){if(i===null){if(!S)throw Error(t(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[Pr]=a}else gu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;An(a),S=!1}else nr!==null&&(Rv(nr),nr=null),S=!0;if(!S)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Et.current&1)!==0?Gt===0&&(Gt=3):Mv())),a.updateQueue!==null&&(a.flags|=4),An(a),null);case 4:return wu(),wv(i,a),i===null&&wh(a.stateNode.containerInfo),An(a),null;case 10:return qy(a.type._context),An(a),null;case 17:return Gn(a.type)&&Dp(),An(a),null;case 19:if(yt(Et),S=a.memoizedState,S===null)return An(a),null;if(g=(a.flags&128)!==0,T=S.rendering,T===null)if(g)Lh(S,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(T=Wp(i),T!==null){for(a.flags|=128,Lh(S,!1),g=T.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=h,h=a.child;h!==null;)S=h,i=g,S.flags&=14680066,T=S.alternate,T===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=T.childLanes,S.lanes=T.lanes,S.child=T.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=T.memoizedProps,S.memoizedState=T.memoizedState,S.updateQueue=T.updateQueue,S.type=T.type,i=T.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return ct(Et,Et.current&1|2),a.child}i=i.sibling}S.tail!==null&&It()>bu&&(a.flags|=128,g=!0,Lh(S,!1),a.lanes=4194304)}else{if(!g)if(i=Wp(T),i!==null){if(a.flags|=128,g=!0,h=i.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),Lh(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!wt)return An(a),null}else 2*It()-S.renderingStartTime>bu&&h!==1073741824&&(a.flags|=128,g=!0,Lh(S,!1),a.lanes=4194304);S.isBackwards?(T.sibling=a.child,a.child=T):(h=S.last,h!==null?h.sibling=T:a.child=T,S.last=T)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=It(),a.sibling=null,h=Et.current,ct(Et,g?h&1|2:h&1),a):(An(a),null);case 22:case 23:return Iv(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(hi&1073741824)!==0&&(An(a),a.subtreeFlags&6&&(a.flags|=8192)):An(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function zT(i,a){switch(Hy(a),a.tag){case 1:return Gn(a.type)&&Dp(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return wu(),yt(Wn),yt(Sn),ev(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Jy(a),null;case 13:if(yt(Et),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));gu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return yt(Et),null;case 4:return wu(),null;case 10:return qy(a.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var eg=!1,bn=!1,BT=typeof WeakSet=="function"?WeakSet:Set,ve=null;function xu(i,a){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Pt(i,a,g)}else h.current=null}function Sv(i,a,h){try{h()}catch(g){Pt(i,a,g)}}var HA=!1;function jT(i,a){if(Iy=Sp,i=wx(),Ey(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var v=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var T=0,N=-1,z=-1,G=0,re=0,se=i,ie=null;t:for(;;){for(var pe;se!==h||v!==0&&se.nodeType!==3||(N=T+v),se!==S||g!==0&&se.nodeType!==3||(z=T+g),se.nodeType===3&&(T+=se.nodeValue.length),(pe=se.firstChild)!==null;)ie=se,se=pe;for(;;){if(se===i)break t;if(ie===h&&++G===v&&(N=T),ie===S&&++re===g&&(z=T),(pe=se.nextSibling)!==null)break;se=ie,ie=se.parentNode}se=pe}h=N===-1||z===-1?null:{start:N,end:z}}else h=null}h=h||{start:0,end:0}}else h=null;for(My={focusedElem:i,selectionRange:h},Sp=!1,ve=a;ve!==null;)if(a=ve,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ve=i;else for(;ve!==null;){a=ve;try{var xe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var Ae=xe.memoizedProps,Mt=xe.memoizedState,U=a.stateNode,j=U.getSnapshotBeforeUpdate(a.elementType===a.type?Ae:ir(a.type,Ae),Mt);U.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var $=a.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){Pt(a,a.return,ue)}if(i=a.sibling,i!==null){i.return=a.return,ve=i;break}ve=a.return}return xe=HA,HA=!1,xe}function Ih(i,a,h){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&i)===i){var S=v.destroy;v.destroy=void 0,S!==void 0&&Sv(a,h,S)}v=v.next}while(v!==g)}}function tg(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&i)===i){var g=h.create;h.destroy=g()}h=h.next}while(h!==a)}}function xv(i){var a=i.ref;if(a!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof a=="function"?a(i):a.current=i}}function UA(i){var a=i.alternate;a!==null&&(i.alternate=null,UA(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Pr],delete a[xh],delete a[Oy],delete a[AT],delete a[bT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function $A(i){return i.tag===5||i.tag===3||i.tag===4}function VA(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$A(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Av(i,a,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(i,a):h.insertBefore(i,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(i,h)):(a=h,a.appendChild(i)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Ip));else if(g!==4&&(i=i.child,i!==null))for(Av(i,a,h),i=i.sibling;i!==null;)Av(i,a,h),i=i.sibling}function bv(i,a,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?h.insertBefore(i,a):h.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(bv(i,a,h),i=i.sibling;i!==null;)bv(i,a,h),i=i.sibling}var hn=null,rr=!1;function vo(i,a,h){for(h=h.child;h!==null;)WA(i,a,h),h=h.sibling}function WA(i,a,h){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(pp,h)}catch{}switch(h.tag){case 5:bn||xu(h,a);case 6:var g=hn,v=rr;hn=null,vo(i,a,h),hn=g,rr=v,hn!==null&&(rr?(i=hn,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):hn.removeChild(h.stateNode));break;case 18:hn!==null&&(rr?(i=hn,h=h.stateNode,i.nodeType===8?Fy(i.parentNode,h):i.nodeType===1&&Fy(i,h),ch(i)):Fy(hn,h.stateNode));break;case 4:g=hn,v=rr,hn=h.stateNode.containerInfo,rr=!0,vo(i,a,h),hn=g,rr=v;break;case 0:case 11:case 14:case 15:if(!bn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var S=v,T=S.destroy;S=S.tag,T!==void 0&&((S&2)!==0||(S&4)!==0)&&Sv(h,a,T),v=v.next}while(v!==g)}vo(i,a,h);break;case 1:if(!bn&&(xu(h,a),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(N){Pt(h,a,N)}vo(i,a,h);break;case 21:vo(i,a,h);break;case 22:h.mode&1?(bn=(g=bn)||h.memoizedState!==null,vo(i,a,h),bn=g):vo(i,a,h);break;default:vo(i,a,h)}}function GA(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new BT),a.forEach(function(g){var v=YT.bind(null,i,g);h.has(g)||(h.add(g),g.then(v,v))})}}function sr(i,a){var h=a.deletions;if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];try{var S=i,T=a,N=T;e:for(;N!==null;){switch(N.tag){case 5:hn=N.stateNode,rr=!1;break e;case 3:hn=N.stateNode.containerInfo,rr=!0;break e;case 4:hn=N.stateNode.containerInfo,rr=!0;break e}N=N.return}if(hn===null)throw Error(t(160));WA(S,T,v),hn=null,rr=!1;var z=v.alternate;z!==null&&(z.return=null),v.return=null}catch(G){Pt(v,a,G)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)qA(a,i),a=a.sibling}function qA(i,a){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(sr(a,i),Ir(i),g&4){try{Ih(3,i,i.return),tg(3,i)}catch(Ae){Pt(i,i.return,Ae)}try{Ih(5,i,i.return)}catch(Ae){Pt(i,i.return,Ae)}}break;case 1:sr(a,i),Ir(i),g&512&&h!==null&&xu(h,h.return);break;case 5:if(sr(a,i),Ir(i),g&512&&h!==null&&xu(h,h.return),i.flags&32){var v=i.stateNode;try{Ge(v,"")}catch(Ae){Pt(i,i.return,Ae)}}if(g&4&&(v=i.stateNode,v!=null)){var S=i.memoizedProps,T=h!==null?h.memoizedProps:S,N=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{N==="input"&&S.type==="radio"&&S.name!=null&&vt(v,S),_r(N,T);var G=_r(N,S);for(T=0;T<z.length;T+=2){var re=z[T],se=z[T+1];re==="style"?ro(v,se):re==="dangerouslySetInnerHTML"?Me(v,se):re==="children"?Ge(v,se):P(v,re,se,G)}switch(N){case"input":si(v,S);break;case"textarea":Zl(v,S);break;case"select":var ie=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var pe=S.value;pe!=null?oi(v,!!S.multiple,pe,!1):ie!==!!S.multiple&&(S.defaultValue!=null?oi(v,!!S.multiple,S.defaultValue,!0):oi(v,!!S.multiple,S.multiple?[]:"",!1))}v[xh]=S}catch(Ae){Pt(i,i.return,Ae)}}break;case 6:if(sr(a,i),Ir(i),g&4){if(i.stateNode===null)throw Error(t(162));v=i.stateNode,S=i.memoizedProps;try{v.nodeValue=S}catch(Ae){Pt(i,i.return,Ae)}}break;case 3:if(sr(a,i),Ir(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{ch(a.containerInfo)}catch(Ae){Pt(i,i.return,Ae)}break;case 4:sr(a,i),Ir(i);break;case 13:sr(a,i),Ir(i),v=i.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(Cv=It())),g&4&&GA(i);break;case 22:if(re=h!==null&&h.memoizedState!==null,i.mode&1?(bn=(G=bn)||re,sr(a,i),bn=G):sr(a,i),Ir(i),g&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!re&&(i.mode&1)!==0)for(ve=i,re=i.child;re!==null;){for(se=ve=re;ve!==null;){switch(ie=ve,pe=ie.child,ie.tag){case 0:case 11:case 14:case 15:Ih(4,ie,ie.return);break;case 1:xu(ie,ie.return);var xe=ie.stateNode;if(typeof xe.componentWillUnmount=="function"){g=ie,h=ie.return;try{a=g,xe.props=a.memoizedProps,xe.state=a.memoizedState,xe.componentWillUnmount()}catch(Ae){Pt(g,h,Ae)}}break;case 5:xu(ie,ie.return);break;case 22:if(ie.memoizedState!==null){KA(se);continue}}pe!==null?(pe.return=ie,ve=pe):KA(se)}re=re.sibling}e:for(re=null,se=i;;){if(se.tag===5){if(re===null){re=se;try{v=se.stateNode,G?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(N=se.stateNode,z=se.memoizedProps.style,T=z!=null&&z.hasOwnProperty("display")?z.display:null,N.style.display=Di("display",T))}catch(Ae){Pt(i,i.return,Ae)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(Ae){Pt(i,i.return,Ae)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:sr(a,i),Ir(i),g&4&&GA(i);break;case 21:break;default:sr(a,i),Ir(i)}}function Ir(i){var a=i.flags;if(a&2){try{e:{for(var h=i.return;h!==null;){if($A(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(Ge(v,""),g.flags&=-33);var S=VA(i);bv(i,S,v);break;case 3:case 4:var T=g.stateNode.containerInfo,N=VA(i);Av(i,N,T);break;default:throw Error(t(161))}}catch(z){Pt(i,i.return,z)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function HT(i,a,h){ve=i,XA(i)}function XA(i,a,h){for(var g=(i.mode&1)!==0;ve!==null;){var v=ve,S=v.child;if(v.tag===22&&g){var T=v.memoizedState!==null||eg;if(!T){var N=v.alternate,z=N!==null&&N.memoizedState!==null||bn;N=eg;var G=bn;if(eg=T,(bn=z)&&!G)for(ve=v;ve!==null;)T=ve,z=T.child,T.tag===22&&T.memoizedState!==null?QA(v):z!==null?(z.return=T,ve=z):QA(v);for(;S!==null;)ve=S,XA(S),S=S.sibling;ve=v,eg=N,bn=G}YA(i)}else(v.subtreeFlags&8772)!==0&&S!==null?(S.return=v,ve=S):YA(i)}}function YA(i){for(;ve!==null;){var a=ve;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:bn||tg(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!bn)if(h===null)g.componentDidMount();else{var v=a.elementType===a.type?h.memoizedProps:ir(a.type,h.memoizedProps);g.componentDidUpdate(v,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&Kx(a,S,g);break;case 3:var T=a.updateQueue;if(T!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}Kx(a,T,h)}break;case 5:var N=a.stateNode;if(h===null&&a.flags&4){h=N;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&h.focus();break;case"img":z.src&&(h.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var G=a.alternate;if(G!==null){var re=G.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&ch(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bn||a.flags&512&&xv(a)}catch(ie){Pt(a,a.return,ie)}}if(a===i){ve=null;break}if(h=a.sibling,h!==null){h.return=a.return,ve=h;break}ve=a.return}}function KA(i){for(;ve!==null;){var a=ve;if(a===i){ve=null;break}var h=a.sibling;if(h!==null){h.return=a.return,ve=h;break}ve=a.return}}function QA(i){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{tg(4,a)}catch(z){Pt(a,h,z)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var v=a.return;try{g.componentDidMount()}catch(z){Pt(a,v,z)}}var S=a.return;try{xv(a)}catch(z){Pt(a,S,z)}break;case 5:var T=a.return;try{xv(a)}catch(z){Pt(a,T,z)}}}catch(z){Pt(a,a.return,z)}if(a===i){ve=null;break}var N=a.sibling;if(N!==null){N.return=a.return,ve=N;break}ve=a.return}}var UT=Math.ceil,ng=D.ReactCurrentDispatcher,Ev=D.ReactCurrentOwner,Bi=D.ReactCurrentBatchConfig,Ye=0,Jt=null,Bt=null,dn=0,hi=0,Au=fo(0),Gt=0,Mh=null,Ca=0,ig=0,kv=0,Dh=null,Xn=null,Cv=0,bu=1/0,gs=null,rg=!1,_v=null,wo=null,sg=!1,So=null,og=0,Nh=0,Tv=null,ag=-1,lg=0;function Mn(){return(Ye&6)!==0?It():ag!==-1?ag:ag=It()}function xo(i){return(i.mode&1)===0?1:(Ye&2)!==0&&dn!==0?dn&-dn:kT.transition!==null?(lg===0&&(lg=VS()),lg):(i=it,i!==0||(i=window.event,i=i===void 0?16:ZS(i.type)),i)}function or(i,a,h,g){if(50<Nh)throw Nh=0,Tv=null,Error(t(185));sh(i,h,g),((Ye&2)===0||i!==Jt)&&(i===Jt&&((Ye&2)===0&&(ig|=h),Gt===4&&Ao(i,dn)),Yn(i,g),h===1&&Ye===0&&(a.mode&1)===0&&(bu=It()+500,Fp&&go()))}function Yn(i,a){var h=i.callbackNode;k_(i,a);var g=yp(i,i===Jt?dn:0);if(g===0)h!==null&&HS(h),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(h!=null&&HS(h),a===1)i.tag===0?ET(ZA.bind(null,i)):zx(ZA.bind(null,i)),ST(function(){(Ye&6)===0&&go()}),h=null;else{switch(WS(g)){case 1:h=ay;break;case 4:h=US;break;case 16:h=fp;break;case 536870912:h=$S;break;default:h=fp}h=ab(h,JA.bind(null,i))}i.callbackPriority=a,i.callbackNode=h}}function JA(i,a){if(ag=-1,lg=0,(Ye&6)!==0)throw Error(t(327));var h=i.callbackNode;if(Eu()&&i.callbackNode!==h)return null;var g=yp(i,i===Jt?dn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||a)a=ug(i,g);else{a=g;var v=Ye;Ye|=2;var S=tb();(Jt!==i||dn!==a)&&(gs=null,bu=It()+500,Ta(i,a));do try{WT();break}catch(N){eb(i,N)}while(!0);Gy(),ng.current=S,Ye=v,Bt!==null?a=0:(Jt=null,dn=0,a=Gt)}if(a!==0){if(a===2&&(v=ly(i),v!==0&&(g=v,a=Pv(i,v))),a===1)throw h=Mh,Ta(i,0),Ao(i,g),Yn(i,It()),h;if(a===6)Ao(i,g);else{if(v=i.current.alternate,(g&30)===0&&!$T(v)&&(a=ug(i,g),a===2&&(S=ly(i),S!==0&&(g=S,a=Pv(i,S))),a===1))throw h=Mh,Ta(i,0),Ao(i,g),Yn(i,It()),h;switch(i.finishedWork=v,i.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:Pa(i,Xn,gs);break;case 3:if(Ao(i,g),(g&130023424)===g&&(a=Cv+500-It(),10<a)){if(yp(i,0)!==0)break;if(v=i.suspendedLanes,(v&g)!==g){Mn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Ny(Pa.bind(null,i,Xn,gs),a);break}Pa(i,Xn,gs);break;case 4:if(Ao(i,g),(g&4194240)===g)break;for(a=i.eventTimes,v=-1;0<g;){var T=31-er(g);S=1<<T,T=a[T],T>v&&(v=T),g&=~S}if(g=v,g=It()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*UT(g/1960))-g,10<g){i.timeoutHandle=Ny(Pa.bind(null,i,Xn,gs),g);break}Pa(i,Xn,gs);break;case 5:Pa(i,Xn,gs);break;default:throw Error(t(329))}}}return Yn(i,It()),i.callbackNode===h?JA.bind(null,i):null}function Pv(i,a){var h=Dh;return i.current.memoizedState.isDehydrated&&(Ta(i,a).flags|=256),i=ug(i,a),i!==2&&(a=Xn,Xn=h,a!==null&&Rv(a)),i}function Rv(i){Xn===null?Xn=i:Xn.push.apply(Xn,i)}function $T(i){for(var a=i;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var v=h[g],S=v.getSnapshot;v=v.value;try{if(!tr(S(),v))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ao(i,a){for(a&=~kv,a&=~ig,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var h=31-er(a),g=1<<h;i[h]=-1,a&=~g}}function ZA(i){if((Ye&6)!==0)throw Error(t(327));Eu();var a=yp(i,0);if((a&1)===0)return Yn(i,It()),null;var h=ug(i,a);if(i.tag!==0&&h===2){var g=ly(i);g!==0&&(a=g,h=Pv(i,g))}if(h===1)throw h=Mh,Ta(i,0),Ao(i,a),Yn(i,It()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Pa(i,Xn,gs),Yn(i,It()),null}function Lv(i,a){var h=Ye;Ye|=1;try{return i(a)}finally{Ye=h,Ye===0&&(bu=It()+500,Fp&&go())}}function _a(i){So!==null&&So.tag===0&&(Ye&6)===0&&Eu();var a=Ye;Ye|=1;var h=Bi.transition,g=it;try{if(Bi.transition=null,it=1,i)return i()}finally{it=g,Bi.transition=h,Ye=a,(Ye&6)===0&&go()}}function Iv(){hi=Au.current,yt(Au)}function Ta(i,a){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,wT(h)),Bt!==null)for(h=Bt.return;h!==null;){var g=h;switch(Hy(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Dp();break;case 3:wu(),yt(Wn),yt(Sn),ev();break;case 5:Jy(g);break;case 4:wu();break;case 13:yt(Et);break;case 19:yt(Et);break;case 10:qy(g.type._context);break;case 22:case 23:Iv()}h=h.return}if(Jt=i,Bt=i=bo(i.current,null),dn=hi=a,Gt=0,Mh=null,kv=ig=Ca=0,Xn=Dh=null,ba!==null){for(a=0;a<ba.length;a++)if(h=ba[a],g=h.interleaved,g!==null){h.interleaved=null;var v=g.next,S=h.pending;if(S!==null){var T=S.next;S.next=v,g.next=T}h.pending=g}ba=null}return i}function eb(i,a){do{var h=Bt;try{if(Gy(),Gp.current=Kp,qp){for(var g=kt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}qp=!1}if(ka=0,Qt=Wt=kt=null,_h=!1,Th=0,Ev.current=null,h===null||h.return===null){Gt=1,Mh=a,Bt=null;break}e:{var S=i,T=h.return,N=h,z=a;if(a=dn,N.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var G=z,re=N,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ie=re.alternate;ie?(re.updateQueue=ie.updateQueue,re.memoizedState=ie.memoizedState,re.lanes=ie.lanes):(re.updateQueue=null,re.memoizedState=null)}var pe=kA(T);if(pe!==null){pe.flags&=-257,CA(pe,T,N,S,a),pe.mode&1&&EA(S,G,a),a=pe,z=G;var xe=a.updateQueue;if(xe===null){var Ae=new Set;Ae.add(z),a.updateQueue=Ae}else xe.add(z);break e}else{if((a&1)===0){EA(S,G,a),Mv();break e}z=Error(t(426))}}else if(wt&&N.mode&1){var Mt=kA(T);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),CA(Mt,T,N,S,a),Vy(Su(z,N));break e}}S=z=Su(z,N),Gt!==4&&(Gt=2),Dh===null?Dh=[S]:Dh.push(S),S=T;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var U=AA(S,z,a);Yx(S,U);break e;case 1:N=z;var j=S.type,$=S.stateNode;if((S.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(wo===null||!wo.has($)))){S.flags|=65536,a&=-a,S.lanes|=a;var ue=bA(S,N,a);Yx(S,ue);break e}}S=S.return}while(S!==null)}ib(h)}catch(Ee){a=Ee,Bt===h&&h!==null&&(Bt=h=h.return);continue}break}while(!0)}function tb(){var i=ng.current;return ng.current=Kp,i===null?Kp:i}function Mv(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Jt===null||(Ca&268435455)===0&&(ig&268435455)===0||Ao(Jt,dn)}function ug(i,a){var h=Ye;Ye|=2;var g=tb();(Jt!==i||dn!==a)&&(gs=null,Ta(i,a));do try{VT();break}catch(v){eb(i,v)}while(!0);if(Gy(),Ye=h,ng.current=g,Bt!==null)throw Error(t(261));return Jt=null,dn=0,Gt}function VT(){for(;Bt!==null;)nb(Bt)}function WT(){for(;Bt!==null&&!m_();)nb(Bt)}function nb(i){var a=ob(i.alternate,i,hi);i.memoizedProps=i.pendingProps,a===null?ib(i):Bt=a,Ev.current=null}function ib(i){var a=i;do{var h=a.alternate;if(i=a.return,(a.flags&32768)===0){if(h=OT(h,a,hi),h!==null){Bt=h;return}}else{if(h=zT(h,a),h!==null){h.flags&=32767,Bt=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Gt=6,Bt=null;return}}if(a=a.sibling,a!==null){Bt=a;return}Bt=a=i}while(a!==null);Gt===0&&(Gt=5)}function Pa(i,a,h){var g=it,v=Bi.transition;try{Bi.transition=null,it=1,GT(i,a,h,g)}finally{Bi.transition=v,it=g}return null}function GT(i,a,h,g){do Eu();while(So!==null);if((Ye&6)!==0)throw Error(t(327));h=i.finishedWork;var v=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var S=h.lanes|h.childLanes;if(C_(i,S),i===Jt&&(Bt=Jt=null,dn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||sg||(sg=!0,ab(fp,function(){return Eu(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=Bi.transition,Bi.transition=null;var T=it;it=1;var N=Ye;Ye|=4,Ev.current=null,jT(i,h),qA(h,i),dT(My),Sp=!!Iy,My=Iy=null,i.current=h,HT(h),y_(),Ye=N,it=T,Bi.transition=S}else i.current=h;if(sg&&(sg=!1,So=i,og=v),S=i.pendingLanes,S===0&&(wo=null),S_(h.stateNode),Yn(i,It()),a!==null)for(g=i.onRecoverableError,h=0;h<a.length;h++)v=a[h],g(v.value,{componentStack:v.stack,digest:v.digest});if(rg)throw rg=!1,i=_v,_v=null,i;return(og&1)!==0&&i.tag!==0&&Eu(),S=i.pendingLanes,(S&1)!==0?i===Tv?Nh++:(Nh=0,Tv=i):Nh=0,go(),null}function Eu(){if(So!==null){var i=WS(og),a=Bi.transition,h=it;try{if(Bi.transition=null,it=16>i?16:i,So===null)var g=!1;else{if(i=So,So=null,og=0,(Ye&6)!==0)throw Error(t(331));var v=Ye;for(Ye|=4,ve=i.current;ve!==null;){var S=ve,T=S.child;if((ve.flags&16)!==0){var N=S.deletions;if(N!==null){for(var z=0;z<N.length;z++){var G=N[z];for(ve=G;ve!==null;){var re=ve;switch(re.tag){case 0:case 11:case 15:Ih(8,re,S)}var se=re.child;if(se!==null)se.return=re,ve=se;else for(;ve!==null;){re=ve;var ie=re.sibling,pe=re.return;if(UA(re),re===G){ve=null;break}if(ie!==null){ie.return=pe,ve=ie;break}ve=pe}}}var xe=S.alternate;if(xe!==null){var Ae=xe.child;if(Ae!==null){xe.child=null;do{var Mt=Ae.sibling;Ae.sibling=null,Ae=Mt}while(Ae!==null)}}ve=S}}if((S.subtreeFlags&2064)!==0&&T!==null)T.return=S,ve=T;else e:for(;ve!==null;){if(S=ve,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Ih(9,S,S.return)}var U=S.sibling;if(U!==null){U.return=S.return,ve=U;break e}ve=S.return}}var j=i.current;for(ve=j;ve!==null;){T=ve;var $=T.child;if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,ve=$;else e:for(T=j;ve!==null;){if(N=ve,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:tg(9,N)}}catch(Ee){Pt(N,N.return,Ee)}if(N===T){ve=null;break e}var ue=N.sibling;if(ue!==null){ue.return=N.return,ve=ue;break e}ve=N.return}}if(Ye=v,go(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(pp,i)}catch{}g=!0}return g}finally{it=h,Bi.transition=a}}return!1}function rb(i,a,h){a=Su(h,a),a=AA(i,a,1),i=yo(i,a,1),a=Mn(),i!==null&&(sh(i,1,a),Yn(i,a))}function Pt(i,a,h){if(i.tag===3)rb(i,i,h);else for(;a!==null;){if(a.tag===3){rb(a,i,h);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(wo===null||!wo.has(g))){i=Su(h,i),i=bA(a,i,1),a=yo(a,i,1),i=Mn(),a!==null&&(sh(a,1,i),Yn(a,i));break}}a=a.return}}function qT(i,a,h){var g=i.pingCache;g!==null&&g.delete(a),a=Mn(),i.pingedLanes|=i.suspendedLanes&h,Jt===i&&(dn&h)===h&&(Gt===4||Gt===3&&(dn&130023424)===dn&&500>It()-Cv?Ta(i,0):kv|=h),Yn(i,a)}function sb(i,a){a===0&&((i.mode&1)===0?a=1:(a=mp,mp<<=1,(mp&130023424)===0&&(mp=4194304)));var h=Mn();i=ds(i,a),i!==null&&(sh(i,a,h),Yn(i,h))}function XT(i){var a=i.memoizedState,h=0;a!==null&&(h=a.retryLane),sb(i,h)}function YT(i,a){var h=0;switch(i.tag){case 13:var g=i.stateNode,v=i.memoizedState;v!==null&&(h=v.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),sb(i,h)}var ob;ob=function(i,a,h){if(i!==null)if(i.memoizedProps!==a.pendingProps||Wn.current)qn=!0;else{if((i.lanes&h)===0&&(a.flags&128)===0)return qn=!1,FT(i,a,h);qn=(i.flags&131072)!==0}else qn=!1,wt&&(a.flags&1048576)!==0&&Bx(a,zp,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;Zp(i,a),i=a.pendingProps;var v=du(a,Sn.current);vu(a,h),v=iv(null,a,g,i,v,h);var S=rv();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Gn(g)?(S=!0,Np(a)):S=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Ky(a),v.updater=Qp,a.stateNode=v,v._reactInternals=a,cv(a,g,i,h),a=pv(null,a,g,!0,S,h)):(a.tag=0,wt&&S&&jy(a),In(null,a,v,h),a=a.child),a;case 16:g=a.elementType;e:{switch(Zp(i,a),i=a.pendingProps,v=g._init,g=v(g._payload),a.type=g,v=a.tag=QT(g),i=ir(g,i),v){case 0:a=fv(null,a,g,i,h);break e;case 1:a=IA(null,a,g,i,h);break e;case 11:a=_A(null,a,g,i,h);break e;case 14:a=TA(null,a,g,ir(g.type,i),h);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:ir(g,v),fv(i,a,g,v,h);case 1:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:ir(g,v),IA(i,a,g,v,h);case 3:e:{if(MA(a),i===null)throw Error(t(387));g=a.pendingProps,S=a.memoizedState,v=S.element,Xx(i,a),Vp(a,g,null,h);var T=a.memoizedState;if(g=T.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){v=Su(Error(t(423)),a),a=DA(i,a,g,h,v);break e}else if(g!==v){v=Su(Error(t(424)),a),a=DA(i,a,g,h,v);break e}else for(ci=ho(a.stateNode.containerInfo.firstChild),ui=a,wt=!0,nr=null,h=Gx(a,null,g,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(gu(),g===v){a=ps(i,a,h);break e}In(i,a,g,h)}a=a.child}return a;case 5:return Qx(a),i===null&&$y(a),g=a.type,v=a.pendingProps,S=i!==null?i.memoizedProps:null,T=v.children,Dy(g,v)?T=null:S!==null&&Dy(g,S)&&(a.flags|=32),LA(i,a),In(i,a,T,h),a.child;case 6:return i===null&&$y(a),null;case 13:return NA(i,a,h);case 4:return Qy(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=mu(a,null,g,h):In(i,a,g,h),a.child;case 11:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:ir(g,v),_A(i,a,g,v,h);case 7:return In(i,a,a.pendingProps,h),a.child;case 8:return In(i,a,a.pendingProps.children,h),a.child;case 12:return In(i,a,a.pendingProps.children,h),a.child;case 10:e:{if(g=a.type._context,v=a.pendingProps,S=a.memoizedProps,T=v.value,ct(Hp,g._currentValue),g._currentValue=T,S!==null)if(tr(S.value,T)){if(S.children===v.children&&!Wn.current){a=ps(i,a,h);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var N=S.dependencies;if(N!==null){T=S.child;for(var z=N.firstContext;z!==null;){if(z.context===g){if(S.tag===1){z=fs(-1,h&-h),z.tag=2;var G=S.updateQueue;if(G!==null){G=G.shared;var re=G.pending;re===null?z.next=z:(z.next=re.next,re.next=z),G.pending=z}}S.lanes|=h,z=S.alternate,z!==null&&(z.lanes|=h),Xy(S.return,h,a),N.lanes|=h;break}z=z.next}}else if(S.tag===10)T=S.type===a.type?null:S.child;else if(S.tag===18){if(T=S.return,T===null)throw Error(t(341));T.lanes|=h,N=T.alternate,N!==null&&(N.lanes|=h),Xy(T,h,a),T=S.sibling}else T=S.child;if(T!==null)T.return=S;else for(T=S;T!==null;){if(T===a){T=null;break}if(S=T.sibling,S!==null){S.return=T.return,T=S;break}T=T.return}S=T}In(i,a,v.children,h),a=a.child}return a;case 9:return v=a.type,g=a.pendingProps.children,vu(a,h),v=Oi(v),g=g(v),a.flags|=1,In(i,a,g,h),a.child;case 14:return g=a.type,v=ir(g,a.pendingProps),v=ir(g.type,v),TA(i,a,g,v,h);case 15:return PA(i,a,a.type,a.pendingProps,h);case 17:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:ir(g,v),Zp(i,a),a.tag=1,Gn(g)?(i=!0,Np(a)):i=!1,vu(a,h),SA(a,g,v),cv(a,g,v,h),pv(null,a,g,!0,i,h);case 19:return OA(i,a,h);case 22:return RA(i,a,h)}throw Error(t(156,a.tag))};function ab(i,a){return jS(i,a)}function KT(i,a,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(i,a,h,g){return new KT(i,a,h,g)}function Dv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function QT(i){if(typeof i=="function")return Dv(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ne)return 11;if(i===ce)return 14}return 2}function bo(i,a){var h=i.alternate;return h===null?(h=ji(i.tag,a,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=a,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,a=i.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function cg(i,a,h,g,v,S){var T=2;if(g=i,typeof i=="function")Dv(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case O:return Ra(h.children,v,S,a);case V:T=8,v|=8;break;case W:return i=ji(12,h,a,v|2),i.elementType=W,i.lanes=S,i;case ee:return i=ji(13,h,a,v),i.elementType=ee,i.lanes=S,i;case K:return i=ji(19,h,a,v),i.elementType=K,i.lanes=S,i;case J:return hg(h,v,S,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:T=10;break e;case q:T=9;break e;case ne:T=11;break e;case ce:T=14;break e;case Z:T=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=ji(T,h,a,v),a.elementType=i,a.type=g,a.lanes=S,a}function Ra(i,a,h,g){return i=ji(7,i,g,a),i.lanes=h,i}function hg(i,a,h,g){return i=ji(22,i,g,a),i.elementType=J,i.lanes=h,i.stateNode={isHidden:!1},i}function Nv(i,a,h){return i=ji(6,i,null,a),i.lanes=h,i}function Fv(i,a,h){return a=ji(4,i.children!==null?i.children:[],i.key,a),a.lanes=h,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function JT(i,a,h,g,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uy(0),this.expirationTimes=uy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uy(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Ov(i,a,h,g,v,S,T,N,z){return i=new JT(i,a,h,N,z),a===1?(a=1,S===!0&&(a|=8)):a=0,S=ji(3,null,null,a),i.current=S,S.stateNode=i,S.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ky(S),i}function ZT(i,a,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:g==null?null:""+g,children:i,containerInfo:a,implementation:h}}function lb(i){if(!i)return po;i=i._reactInternals;e:{if(va(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Gn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(Gn(h))return Fx(i,h,a)}return a}function ub(i,a,h,g,v,S,T,N,z){return i=Ov(h,g,!0,i,v,S,T,N,z),i.context=lb(null),h=i.current,g=Mn(),v=xo(h),S=fs(g,v),S.callback=a??null,yo(h,S,v),i.current.lanes=v,sh(i,v,g),Yn(i,g),i}function dg(i,a,h,g){var v=a.current,S=Mn(),T=xo(v);return h=lb(h),a.context===null?a.context=h:a.pendingContext=h,a=fs(S,T),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=yo(v,a,T),i!==null&&(or(i,v,T,S),$p(i,v,T)),T}function fg(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function cb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<a?h:a}}function zv(i,a){cb(i,a),(i=i.alternate)&&cb(i,a)}function eP(){return null}var hb=typeof reportError=="function"?reportError:function(i){console.error(i)};function Bv(i){this._internalRoot=i}pg.prototype.render=Bv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));dg(i,a,null,null)},pg.prototype.unmount=Bv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;_a(function(){dg(null,i,null,null)}),a[ls]=null}};function pg(i){this._internalRoot=i}pg.prototype.unstable_scheduleHydration=function(i){if(i){var a=XS();i={blockedOn:null,target:i,priority:a};for(var h=0;h<lo.length&&a!==0&&a<lo[h].priority;h++);lo.splice(h,0,i),h===0&&QS(i)}};function jv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function gg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function db(){}function tP(i,a,h,g,v){if(v){if(typeof g=="function"){var S=g;g=function(){var G=fg(T);S.call(G)}}var T=ub(a,g,i,0,null,!1,!1,"",db);return i._reactRootContainer=T,i[ls]=T.current,wh(i.nodeType===8?i.parentNode:i),_a(),T}for(;v=i.lastChild;)i.removeChild(v);if(typeof g=="function"){var N=g;g=function(){var G=fg(z);N.call(G)}}var z=Ov(i,0,!1,null,null,!1,!1,"",db);return i._reactRootContainer=z,i[ls]=z.current,wh(i.nodeType===8?i.parentNode:i),_a(function(){dg(a,z,h,g)}),z}function mg(i,a,h,g,v){var S=h._reactRootContainer;if(S){var T=S;if(typeof v=="function"){var N=v;v=function(){var z=fg(T);N.call(z)}}dg(a,T,i,v)}else T=tP(h,a,i,v,g);return fg(T)}GS=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var h=rh(a.pendingLanes);h!==0&&(cy(a,h|1),Yn(a,It()),(Ye&6)===0&&(bu=It()+500,go()))}break;case 13:_a(function(){var g=ds(i,1);if(g!==null){var v=Mn();or(g,i,1,v)}}),zv(i,1)}},hy=function(i){if(i.tag===13){var a=ds(i,134217728);if(a!==null){var h=Mn();or(a,i,134217728,h)}zv(i,134217728)}},qS=function(i){if(i.tag===13){var a=xo(i),h=ds(i,a);if(h!==null){var g=Mn();or(h,i,a,g)}zv(i,a)}},XS=function(){return it},YS=function(i,a){var h=it;try{return it=i,a()}finally{it=h}},iy=function(i,a,h){switch(a){case"input":if(si(i,h),a=h.name,h.type==="radio"&&a!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var g=h[a];if(g!==i&&g.form===i.form){var v=Mp(g);if(!v)throw Error(t(90));Vn(g),si(g,v)}}}break;case"textarea":Zl(i,h);break;case"select":a=h.value,a!=null&&oi(i,!!h.multiple,a,!1)}},MS=Lv,DS=_a;var nP={usingClientEntryPoint:!1,Events:[Ah,cu,Mp,LS,IS,Lv]},Fh={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iP={bundleType:Fh.bundleType,version:Fh.version,rendererPackageName:Fh.rendererPackageName,rendererConfig:Fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=zS(i),i===null?null:i.stateNode},findFiberByHostInstance:Fh.findFiberByHostInstance||eP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{pp=yg.inject(iP),Tr=yg}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nP,Kn.createPortal=function(i,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jv(a))throw Error(t(200));return ZT(i,a,null,h)},Kn.createRoot=function(i,a){if(!jv(i))throw Error(t(299));var h=!1,g="",v=hb;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Ov(i,1,!1,null,null,h,!1,g,v),i[ls]=a.current,wh(i.nodeType===8?i.parentNode:i),new Bv(a)},Kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=zS(a),i=i===null?null:i.stateNode,i},Kn.flushSync=function(i){return _a(i)},Kn.hydrate=function(i,a,h){if(!gg(a))throw Error(t(200));return mg(null,i,a,!0,h)},Kn.hydrateRoot=function(i,a,h){if(!jv(i))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,v=!1,S="",T=hb;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),a=ub(a,null,i,1,h??null,v,!1,S,T),i[ls]=a.current,wh(i),g)for(i=0;i<g.length;i++)h=g[i],v=h._getVersion,v=v(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,v]:a.mutableSourceEagerHydrationData.push(h,v);return new pg(a)},Kn.render=function(i,a,h){if(!gg(a))throw Error(t(200));return mg(null,i,a,!1,h)},Kn.unmountComponentAtNode=function(i){if(!gg(i))throw Error(t(40));return i._reactRootContainer?(_a(function(){mg(null,null,i,!1,function(){i._reactRootContainer=null,i[ls]=null})}),!0):!1},Kn.unstable_batchedUpdates=Lv,Kn.unstable_renderSubtreeIntoContainer=function(i,a,h,g){if(!gg(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return mg(i,a,h,!1,g)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var xb;function fP(){if(xb)return Vv.exports;xb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vv.exports=dP(),Vv.exports}var Ab;function pP(){if(Ab)return vg;Ab=1;var r=fP();return vg.createRoot=r.createRoot,vg.hydrateRoot=r.hydrateRoot,vg}var gP=pP();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bb="popstate";function mP(r={}){function e(s,o){let{pathname:l="/",search:u="",hash:d=""}=ql(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),yw("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof o=="string"?o:pd(o))}function n(s,o){xr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return vP(e,t,n,r)}function Tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yP(){return Math.random().toString(36).substring(2,10)}function Eb(r,e){return{usr:r.state,key:r.key,idx:e}}function yw(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ql(e):e,state:t,key:e&&e.key||n||yP()}}function pd({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ql(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function vP(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let k=p(),E=k==null?null:k-f;f=k,d&&d({action:u,location:A.location,delta:E})}function y(k,E){u="PUSH";let R=yw(A.location,k,E);t&&t(R,k),f=p()+1;let P=Eb(R,f),D=A.createHref(R);try{l.pushState(P,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(D)}o&&d&&d({action:u,location:A.location,delta:1})}function w(k,E){u="REPLACE";let R=yw(A.location,k,E);t&&t(R,k),f=p();let P=Eb(R,f),D=A.createHref(R);l.replaceState(P,"",D),o&&d&&d({action:u,location:A.location,delta:0})}function b(k){return wP(k)}let A={get action(){return u},get location(){return r(s,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(bb,m),d=k,()=>{s.removeEventListener(bb,m),d=null}},createHref(k){return e(s,k)},createURL:b,encodeLocation(k){let E=b(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:w,go(k){return l.go(k)}};return A}function wP(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:pd(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function $1(r,e,t="/"){return SP(r,e,t,!1)}function SP(r,e,t,n){let s=typeof e=="string"?ql(e):e,o=eo(s.pathname||"/",t);if(o==null)return null;let l=V1(r);xP(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=IP(o);u=RP(l[d],f,n)}return u}function V1(r,e=[],t=[],n="",s=!1){let o=(l,u,d=s,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;Tt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let m=Qs([n,p.relativePath]),y=t.concat(p);l.children&&l.children.length>0&&(Tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),V1(l.children,e,y,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:TP(m,l.index),routesMeta:y})};return r.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of W1(l.path))o(l,u,!0,f)}),e}function W1(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=W1(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>r.startsWith("/")&&d===""?"/":d)}function xP(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:PP(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var AP=/^:[\w-]+$/,bP=3,EP=2,kP=1,CP=10,_P=-2,kb=r=>r==="*";function TP(r,e){let t=r.split("/"),n=t.length;return t.some(kb)&&(n+=_P),e&&(n+=EP),t.filter(s=>!kb(s)).reduce((s,o)=>s+(AP.test(o)?bP:o===""?kP:CP),n)}function PP(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function RP(r,e,t=!1){let{routesMeta:n}=r,s={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=cm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!m&&f&&t&&!n[n.length-1].route.index&&(m=cm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Qs([o,m.pathname]),pathnameBase:FP(Qs([o,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(o=Qs([o,m.pathnameBase]))}return l}function cm(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=LP(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:m},y)=>{if(p==="*"){let b=u[y]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const w=u[y];return m&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:r}}function LP(r,e=!1,t=!0){xr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function IP(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function eo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function MP(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?ql(r):r;return{pathname:t?t.startsWith("/")?t:DP(t,e):e,search:OP(n),hash:zP(s)}}function DP(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function qv(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NP(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G1(r){let e=NP(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function q1(r,e,t,n=!1){let s;typeof r=="string"?s=ql(r):(s={...r},Tt(!s.pathname||!s.pathname.includes("?"),qv("?","pathname","search",s)),Tt(!s.pathname||!s.pathname.includes("#"),qv("#","pathname","hash",s)),Tt(!s.search||!s.search.includes("#"),qv("#","search","hash",s)));let o=r===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=t;else{let m=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}u=m>=0?e[m]:"/"}let d=MP(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Qs=r=>r.join("/").replace(/\/\/+/g,"/"),FP=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),OP=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zP=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function BP(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var X1=["POST","PUT","PATCH","DELETE"];new Set(X1);var jP=["GET",...X1];new Set(jP);var Qc=H.createContext(null);Qc.displayName="DataRouter";var jm=H.createContext(null);jm.displayName="DataRouterState";H.createContext(!1);var Y1=H.createContext({isTransitioning:!1});Y1.displayName="ViewTransition";var HP=H.createContext(new Map);HP.displayName="Fetchers";var UP=H.createContext(null);UP.displayName="Await";var ss=H.createContext(null);ss.displayName="Navigation";var Jf=H.createContext(null);Jf.displayName="Location";var os=H.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var W0=H.createContext(null);W0.displayName="RouteError";function $P(r,{relative:e}={}){Tt(Zf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=H.useContext(ss),{hash:s,pathname:o,search:l}=ep(r,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Qs([t,o])),n.createHref({pathname:u,search:l,hash:s})}function Zf(){return H.useContext(Jf)!=null}function Xl(){return Tt(Zf(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Jf).location}var K1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q1(r){H.useContext(ss).static||H.useLayoutEffect(r)}function VP(){let{isDataRoute:r}=H.useContext(os);return r?rR():WP()}function WP(){Tt(Zf(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(Qc),{basename:e,navigator:t}=H.useContext(ss),{matches:n}=H.useContext(os),{pathname:s}=Xl(),o=JSON.stringify(G1(n)),l=H.useRef(!1);return Q1(()=>{l.current=!0}),H.useCallback((d,f={})=>{if(xr(l.current,K1),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=q1(d,JSON.parse(o),s,f.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Qs([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,o,s,r])}H.createContext(null);function GP(){let{matches:r}=H.useContext(os),e=r[r.length-1];return e?e.params:{}}function ep(r,{relative:e}={}){let{matches:t}=H.useContext(os),{pathname:n}=Xl(),s=JSON.stringify(G1(t));return H.useMemo(()=>q1(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function qP(r,e){return J1(r,e)}function J1(r,e,t,n,s){var R;Tt(Zf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(ss),{matches:l}=H.useContext(os),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let P=m&&m.path||"";Z1(f,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Xl(),w;if(e){let P=typeof e=="string"?ql(e):e;Tt(p==="/"||((R=P.pathname)==null?void 0:R.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=y;let b=w.pathname||"/",A=b;if(p!=="/"){let P=p.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=$1(r,{pathname:A});xr(m||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),xr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=JP(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Qs([p,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Qs([p,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,t,n,s);return e&&E?H.createElement(Jf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function XP(){let r=iR(),e=BP(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:o},"ErrorBoundary")," or"," ",H.createElement("code",{style:o},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:s},t):null,l)}var YP=H.createElement(XP,null),KP=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?H.createElement(os.Provider,{value:this.props.routeContext},H.createElement(W0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QP({routeContext:r,match:e,children:t}){let n=H.useContext(Qc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(os.Provider,{value:r},t)}function JP(r,e=[],t=null,n=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Tt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:y}=t,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,m)=>{let y,w=!1,b=null,A=null;t&&(y=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||YP,u&&(d<0&&m===0?(Z1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):d===m&&(w=!0,A=p.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,m+1)),E=()=>{let R;return y?R=b:w?R=A:p.route.Component?R=H.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=f,H.createElement(QP,{match:p,routeContext:{outlet:f,matches:k,isDataRoute:t!=null},children:R})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?H.createElement(KP,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:E(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:n}):E()},null)}function G0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZP(r){let e=H.useContext(Qc);return Tt(e,G0(r)),e}function eR(r){let e=H.useContext(jm);return Tt(e,G0(r)),e}function tR(r){let e=H.useContext(os);return Tt(e,G0(r)),e}function q0(r){let e=tR(r),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function nR(){return q0("useRouteId")}function iR(){var n;let r=H.useContext(W0),e=eR("useRouteError"),t=q0("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function rR(){let{router:r}=ZP("useNavigate"),e=q0("useNavigate"),t=H.useRef(!1);return Q1(()=>{t.current=!0}),H.useCallback(async(s,o={})=>{xr(t.current,K1),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var Cb={};function Z1(r,e,t){!e&&!Cb[r]&&(Cb[r]=!0,xr(!1,t))}H.memo(sR);function sR({routes:r,future:e,state:t,unstable_onError:n}){return J1(r,void 0,t,n,e)}function Rg(r){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oR({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:o=!1}){Tt(!Zf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),u=H.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=ql(t));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:y="default"}=t,w=H.useMemo(()=>{let b=eo(d,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:y},navigationType:n}},[l,d,f,p,m,y,n]);return xr(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:H.createElement(ss.Provider,{value:u},H.createElement(Jf.Provider,{children:e,value:w}))}function aR({children:r,location:e}){return qP(vw(r),e)}function vw(r,e=[]){let t=[];return H.Children.forEach(r,(n,s)=>{if(!H.isValidElement(n))return;let o=[...e,s];if(n.type===H.Fragment){t.push.apply(t,vw(n.props.children,o));return}Tt(n.type===Rg,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=vw(n.props.children,o)),t.push(l)}),t}var Lg="get",Ig="application/x-www-form-urlencoded";function Hm(r){return r!=null&&typeof r.tagName=="string"}function lR(r){return Hm(r)&&r.tagName.toLowerCase()==="button"}function uR(r){return Hm(r)&&r.tagName.toLowerCase()==="form"}function cR(r){return Hm(r)&&r.tagName.toLowerCase()==="input"}function hR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dR(r,e){return r.button===0&&(!e||e==="_self")&&!hR(r)}var wg=null;function fR(){if(wg===null)try{new FormData(document.createElement("form"),0),wg=!1}catch{wg=!0}return wg}var pR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xv(r){return r!=null&&!pR.has(r)?(xr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ig}"`),null):r}function gR(r,e){let t,n,s,o,l;if(uR(r)){let u=r.getAttribute("action");n=u?eo(u,e):null,t=r.getAttribute("method")||Lg,s=Xv(r.getAttribute("enctype"))||Ig,o=new FormData(r)}else if(lR(r)||cR(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||u.getAttribute("action");if(n=d?eo(d,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||Lg,s=Xv(r.getAttribute("formenctype"))||Xv(u.getAttribute("enctype"))||Ig,o=new FormData(u,r),!fR()){let{name:f,type:p,value:m}=r;if(p==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,m)}}else{if(Hm(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lg,n=null,s=Ig,l=r}return o&&s==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function X0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mR(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&eo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function yR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wR(r,e,t){let n=await Promise.all(r.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await yR(o,t);return l.links?l.links():[]}return[]}));return bR(n.flat(1).filter(vR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _b(r,e,t,n,s,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{var m;let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function SR(r,e,{includeHydrateFallback:t}={}){return xR(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function xR(r){return[...new Set(r)]}function AR(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function bR(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let o=JSON.stringify(AR(s));return t.has(o)||(t.add(o),n.push({key:o,link:s})),n},[])}function eE(){let r=H.useContext(Qc);return X0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ER(){let r=H.useContext(jm);return X0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Y0=H.createContext(void 0);Y0.displayName="FrameworkContext";function tE(){let r=H.useContext(Y0);return X0(r,"You must render this element inside a <HydratedRouter> element"),r}function kR(r,e){let t=H.useContext(Y0),[n,s]=H.useState(!1),[o,l]=H.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,y=H.useRef(null);H.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let A=E=>{E.forEach(R=>{l(R.isIntersecting)})},k=new IntersectionObserver(A,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[r]),H.useEffect(()=>{if(n){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[n]);let w=()=>{s(!0)},b=()=>{s(!1),l(!1)};return t?r!=="intent"?[o,y,{}]:[o,y,{onFocus:zh(u,w),onBlur:zh(d,b),onMouseEnter:zh(f,w),onMouseLeave:zh(p,b),onTouchStart:zh(m,w)}]:[!1,y,{}]}function zh(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function CR({page:r,...e}){let{router:t}=eE(),n=H.useMemo(()=>$1(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?H.createElement(TR,{page:r,matches:n,...e}):null}function _R(r){let{manifest:e,routeModules:t}=tE(),[n,s]=H.useState([]);return H.useEffect(()=>{let o=!1;return wR(r,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[r,e,t]),n}function TR({page:r,matches:e,...t}){let n=Xl(),{manifest:s,routeModules:o}=tE(),{basename:l}=eE(),{loaderData:u,matches:d}=ER(),f=H.useMemo(()=>_b(r,e,d,s,n,"data"),[r,e,d,s,n]),p=H.useMemo(()=>_b(r,e,d,s,n,"assets"),[r,e,d,s,n]),m=H.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let b=new Set,A=!1;if(e.forEach(E=>{var P;let R=s.routes[E.route.id];!R||!R.hasLoader||(!f.some(D=>D.route.id===E.route.id)&&E.route.id in u&&((P=o[E.route.id])!=null&&P.shouldRevalidate)||R.hasClientLoader?A=!0:b.add(E.route.id))}),b.size===0)return[];let k=mR(r,l,"data");return A&&b.size>0&&k.searchParams.set("_routes",e.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[l,u,n,s,f,e,r,o]),y=H.useMemo(()=>SR(p,s),[p,s]),w=_R(p);return H.createElement(H.Fragment,null,m.map(b=>H.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),y.map(b=>H.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),w.map(({key:b,link:A})=>H.createElement("link",{key:b,nonce:t.nonce,...A})))}function PR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nE&&(window.__reactRouterVersion="7.9.1")}catch{}function RR({basename:r,children:e,window:t}){let n=H.useRef();n.current==null&&(n.current=mP({window:t,v5Compat:!0}));let s=n.current,[o,l]=H.useState({action:s.action,location:s.location}),u=H.useCallback(d=>{H.startTransition(()=>l(d))},[l]);return H.useLayoutEffect(()=>s.listen(u),[s,u]),H.createElement(oR,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:s})}var iE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ou=H.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,...y},w){let{basename:b}=H.useContext(ss),A=typeof f=="string"&&iE.test(f),k,E=!1;if(typeof f=="string"&&A&&(k=f,nE))try{let W=new URL(window.location.href),Y=f.startsWith("//")?new URL(W.protocol+f):new URL(f),q=eo(Y.pathname,b);Y.origin===W.origin&&q!=null?f=q+Y.search+Y.hash:E=!0}catch{xr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=$P(f,{relative:s}),[P,D,F]=kR(n,y),I=DR(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:m});function O(W){e&&e(W),W.defaultPrevented||I(W)}let V=H.createElement("a",{...y,...F,href:k||R,onClick:E||o?e:O,ref:PR(w,D),target:d,"data-discover":!A&&t==="render"?"true":void 0});return P&&!A?H.createElement(H.Fragment,null,V,H.createElement(CR,{page:R})):V});Ou.displayName="Link";var LR=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let m=ep(l,{relative:f.relative}),y=Xl(),w=H.useContext(jm),{navigator:b,basename:A}=H.useContext(ss),k=w!=null&&BR(m)&&u===!0,E=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,R=y.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(R=R.toLowerCase(),P=P?P.toLowerCase():null,E=E.toLowerCase()),P&&A&&(P=eo(P,A)||P);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let F=R===E||!s&&R.startsWith(E)&&R.charAt(D)==="/",I=P!=null&&(P===E||!s&&P.startsWith(E)&&P.charAt(E.length)==="/"),O={isActive:F,isPending:I,isTransitioning:k},V=F?e:void 0,W;typeof n=="function"?W=n(O):W=[n,F?"active":null,I?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(O):o;return H.createElement(Ou,{...f,"aria-current":V,className:W,ref:p,style:Y,to:l,viewTransition:u},typeof d=="function"?d(O):d)});LR.displayName="NavLink";var IR=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:o,method:l=Lg,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...y},w)=>{let b=OR(),A=zR(u,{relative:f}),k=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&iE.test(u),R=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let D=P.nativeEvent.submitter,F=(D==null?void 0:D.getAttribute("formmethod"))||l;b(D||P.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return H.createElement("form",{ref:w,method:k,action:A,onSubmit:n?d:R,...y,"data-discover":!E&&r==="render"?"true":void 0})});IR.displayName="Form";function MR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(r){let e=H.useContext(Qc);return Tt(e,MR(r)),e}function DR(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=VP(),d=Xl(),f=ep(r,{relative:o});return H.useCallback(p=>{if(dR(p,e)){p.preventDefault();let m=t!==void 0?t:pd(d)===pd(f);u(r,{replace:m,state:n,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,f,t,n,e,r,s,o,l])}var NR=0,FR=()=>`__${String(++NR)}__`;function OR(){let{router:r}=rE("useSubmit"),{basename:e}=H.useContext(ss),t=nR();return H.useCallback(async(n,s={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=gR(n,e);if(s.navigate===!1){let p=s.fetcherKey||FR();await r.fetch(p,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await r.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function zR(r,{relative:e}={}){let{basename:t}=H.useContext(ss),n=H.useContext(os);Tt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...ep(r||".",{relative:e})},l=Xl();if(r==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!r||r===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Qs([t,o.pathname])),pd(o)}function BR(r,{relative:e}={}){let t=H.useContext(Y1);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rE("useViewTransitionState"),s=ep(r,{relative:e});if(!t.isTransitioning)return!1;let o=eo(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=eo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return cm(s.pathname,l)!=null||cm(s.pathname,o)!=null}const jR=()=>fe.jsx("header",{className:"header",children:fe.jsxs("div",{className:"header-content",children:[fe.jsx(Ou,{to:"/",children:fe.jsx("h1",{className:"name",children:"Eden Hen"})}),fe.jsxs("nav",{className:"nav",children:[fe.jsx(Ou,{to:"/about",children:"About"}),fe.jsx(Ou,{to:"/",children:"Projects"})]})]})}),HR="/assets/profilephoto-DxFecliF.jpg",UR="/assets/otherphoto-9nSHMhX0.jpg",$R=()=>fe.jsx("section",{id:"about",className:"about",children:fe.jsxs("div",{className:"about-content",children:[fe.jsxs("div",{className:"about-image",children:[fe.jsx("img",{src:HR,alt:"Your Name"}),fe.jsx("div",{className:"alternate-image",children:fe.jsx("img",{src:UR,alt:"Your Name"})})]}),fe.jsxs("div",{className:"about-text",children:[fe.jsx("h2",{children:"About Me"}),fe.jsx("p",{children:"Hi there! My name is Eden, and I'm an undergraduate student at MIT pursuing a B.S. in electrical engineering and computer science. I love to play with robots and get others excited about engineering!"}),fe.jsx("p",{children:"I made this website in order to document and showcase my work, and it's been a fun coding project all on its own! I used React.js to make this website, with two main goals: create a website that (1) has an organized, concise codebase and (2) is easy to update and add new projects/features. I accomplished this by having all of my project pages be written in Markdown, which was definitely an interesting challenge to implement. You can check out the code on GitHub to see more!"}),fe.jsx("p",{children:"Please feel free to reach out at ehen@mit.edu! I'd love to talk more about anything STEM-related. :)"})]})]})}),VR="/pages/BeaverWorks/beaverworks.jpg",WR="/pages/GoCart/gocartdrive.jpg",GR="/pages/HackerFab/hackerfab.png",qR="/pages/ChromoLCD/chromolcd.png",XR="/pages/EELabs/eelabs.jpg",YR="/pages/Automata/flowerautomata.jpg",KR="/pages/FIRSTRobotics/firstrobotics.png",QR="/pages/Garcia/garcia.jpg",JR="/pages/OldWebsite/oldwebsite.png",ZR="/pages/BlueStamp2/bluestamp2.jpg",eL="/pages/BlueStamp1/bluestamp1.jpg",tL=()=>{const r=[{title:"MIT Beaver Works <Ongoing>",description:"Working as a teaching assistant at MIT Beaver Works for the Autonomous RACECAR course!",link:"/beaverworks",directoryPrefix:"/BeaverWorks",imageURL:VR},{title:"Go Cart Drive",description:"Designing and building a go cart drive!",link:"/gocart",directoryPrefix:"/GoCart",imageURL:WR},{title:"Hacker Fab <Ongoing>",description:"Co-founding an MIT chapter of Hacker Fab to create a DIY nanofabrication machine.",link:"/hackerfab",directoryPrefix:"/HackerFab",imageURL:GR},{title:"ChromoLCD",description:"Creating a device for reprogramming photochromatic surfaces at the MIT Human Computer Interaction Engineering Lab!",link:"/chromolcd",directoryPrefix:"/ChromoLCD",imageURL:qR},{title:"Electronic and Circuits Labs",description:"Documentation of various labs related to electronics and circuits!",link:"/eelabs",directoryPrefix:"/EELabs",imageURL:XR},{title:"Flower Automata",description:"Building a flower automata that simulates the opening and closing of petals.",link:"/automata",directoryPrefix:"/Automata",imageURL:YR},{title:"NYC FIRST Robotics Internship",description:"Interning at the NYC FIRST STEM Center at Cornell Tech!",link:"/firstrobotics",directoryPrefix:"/FIRSTRobotics",imageURL:KR},{title:"Garcia Summer Scholars",description:"Working at Stony Brook University on an integrated virtual reality, learning from demonstration pipeline.",link:"/garcia",directoryPrefix:"/Garcia",imageURL:QR},{title:"Old Website",description:"My old website, coded from scratch in JavaScript, CSS, and HTML.",link:"/oldwebsite",directoryPrefix:"/OldWebsite",imageURL:JR},{title:"Light-Following, Line-Tracking Robot Car",description:"A BlueStamp Engineering project.",link:"/bluestamp2",directoryPrefix:"/BlueStamp2",imageURL:ZR},{title:"Gesture-Controlled Robot Car",description:"A BlueStamp engineering project.",link:"/bluestamp1",directoryPrefix:"/BlueStamp1",imageURL:eL}];return fe.jsx("section",{id:"projects",className:"projects",children:fe.jsxs("div",{className:"projects-content",children:[fe.jsx("h2",{children:"My Projects"}),fe.jsx("div",{className:"project-grid",children:r.map((e,t)=>fe.jsxs(Ou,{to:e.directoryPrefix+e.link,children:[" ",fe.jsxs("div",{className:"project-card",children:[fe.jsx("img",{src:e.imageURL,alt:e.title}),fe.jsx("h3",{children:e.title}),fe.jsx("p",{children:e.description})]},t)]}))})]})})};function nL(r,e){const t={};return(r[r.length-1]===""?[...r,""]:r).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const iL=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rL=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sL={};function Tb(r,e){return(sL.jsx?rL:iL).test(r)}const oL=/[ \t\n\f\r]/g;function aL(r){return typeof r=="object"?r.type==="text"?Pb(r.value):!1:Pb(r)}function Pb(r){return r.replace(oL,"")===""}class tp{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}tp.prototype.property={};tp.prototype.normal={};tp.prototype.space=null;function sE(r,e){const t={},n={};let s=-1;for(;++s<r.length;)Object.assign(t,r[s].property),Object.assign(n,r[s].normal);return new tp(t,n,e)}function ww(r){return r.toLowerCase()}class Zi{constructor(e,t){this.property=e,this.attribute=t}}Zi.prototype.space=null;Zi.prototype.boolean=!1;Zi.prototype.booleanish=!1;Zi.prototype.overloadedBoolean=!1;Zi.prototype.number=!1;Zi.prototype.commaSeparated=!1;Zi.prototype.spaceSeparated=!1;Zi.prototype.commaOrSpaceSeparated=!1;Zi.prototype.mustUseProperty=!1;Zi.prototype.defined=!1;let lL=0;const je=Yl(),Ht=Yl(),oE=Yl(),ae=Yl(),dt=Yl(),zu=Yl(),di=Yl();function Yl(){return 2**++lL}const Sw=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:Ht,commaOrSpaceSeparated:di,commaSeparated:zu,number:ae,overloadedBoolean:oE,spaceSeparated:dt},Symbol.toStringTag,{value:"Module"})),Yv=Object.keys(Sw);class K0 extends Zi{constructor(e,t,n,s){let o=-1;if(super(e,t),Rb(this,"space",s),typeof n=="number")for(;++o<Yv.length;){const l=Yv[o];Rb(this,Yv[o],(n&Sw[l])===Sw[l])}}}K0.prototype.defined=!0;function Rb(r,e,t){t&&(r[e]=t)}const uL={}.hasOwnProperty;function Jc(r){const e={},t={};let n;for(n in r.properties)if(uL.call(r.properties,n)){const s=r.properties[n],o=new K0(n,r.transform(r.attributes||{},n),s,r.space);r.mustUseProperty&&r.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),e[n]=o,t[ww(n)]=n,t[ww(o.attribute)]=n}return new tp(e,t,r.space)}const aE=Jc({space:"xlink",transform(r,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),lE=Jc({space:"xml",transform(r,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function uE(r,e){return e in r?r[e]:e}function cE(r,e){return uE(r,e.toLowerCase())}const hE=Jc({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:cE,properties:{xmlns:null,xmlnsXLink:null}}),dE=Jc({transform(r,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ht,ariaAutoComplete:null,ariaBusy:Ht,ariaChecked:Ht,ariaColCount:ae,ariaColIndex:ae,ariaColSpan:ae,ariaControls:dt,ariaCurrent:null,ariaDescribedBy:dt,ariaDetails:null,ariaDisabled:Ht,ariaDropEffect:dt,ariaErrorMessage:null,ariaExpanded:Ht,ariaFlowTo:dt,ariaGrabbed:Ht,ariaHasPopup:null,ariaHidden:Ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:dt,ariaLevel:ae,ariaLive:null,ariaModal:Ht,ariaMultiLine:Ht,ariaMultiSelectable:Ht,ariaOrientation:null,ariaOwns:dt,ariaPlaceholder:null,ariaPosInSet:ae,ariaPressed:Ht,ariaReadOnly:Ht,ariaRelevant:null,ariaRequired:Ht,ariaRoleDescription:dt,ariaRowCount:ae,ariaRowIndex:ae,ariaRowSpan:ae,ariaSelected:Ht,ariaSetSize:ae,ariaSort:null,ariaValueMax:ae,ariaValueMin:ae,ariaValueNow:ae,ariaValueText:null,role:null}}),cL=Jc({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:cE,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zu,acceptCharset:dt,accessKey:dt,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:dt,autoFocus:je,autoPlay:je,blocking:dt,capture:null,charSet:null,checked:je,cite:null,className:dt,cols:ae,colSpan:null,content:null,contentEditable:Ht,controls:je,controlsList:dt,coords:ae|zu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:oE,draggable:Ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:dt,height:ae,hidden:je,high:ae,href:null,hrefLang:null,htmlFor:dt,httpEquiv:dt,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:dt,itemRef:dt,itemScope:je,itemType:dt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:ae,manifest:null,max:null,maxLength:ae,media:null,method:null,min:null,minLength:ae,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:ae,pattern:null,ping:dt,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:dt,required:je,reversed:je,rows:ae,rowSpan:ae,sandbox:dt,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:ae,sizes:null,slot:null,span:ae,spellCheck:Ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ae,step:null,style:null,tabIndex:ae,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:Ht,width:ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:dt,axis:null,background:null,bgColor:null,border:ae,borderColor:null,bottomMargin:ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:ae,leftMargin:ae,link:null,longDesc:null,lowSrc:null,marginHeight:ae,marginWidth:ae,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:ae,rules:null,scheme:null,scrolling:Ht,standby:null,summary:null,text:null,topMargin:ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:ae,security:null,unselectable:null}}),hL=Jc({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:uE,properties:{about:di,accentHeight:ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ae,amplitude:ae,arabicForm:null,ascent:ae,attributeName:null,attributeType:null,azimuth:ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ae,by:null,calcMode:null,capHeight:ae,className:dt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ae,diffuseConstant:ae,direction:null,display:null,dur:null,divisor:ae,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:ae,enableBackground:null,end:null,event:null,exponent:ae,externalResourcesRequired:null,fill:null,fillOpacity:ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zu,g2:zu,glyphName:zu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ae,horizOriginX:ae,horizOriginY:ae,id:null,ideographic:ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ae,k:ae,k1:ae,k2:ae,k3:ae,k4:ae,kernelMatrix:di,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ae,overlineThickness:ae,paintOrder:null,panose1:null,path:null,pathLength:ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:dt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ae,pointsAtY:ae,pointsAtZ:ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:di,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:di,rev:di,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:di,requiredFeatures:di,requiredFonts:di,requiredFormats:di,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ae,specularExponent:ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ae,strikethroughThickness:ae,string:null,stroke:null,strokeDashArray:di,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ae,strokeOpacity:ae,strokeWidth:null,style:null,surfaceScale:ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:di,tabIndex:ae,tableValues:null,target:null,targetX:ae,targetY:ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:di,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ae,underlineThickness:ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ae,values:null,vAlphabetic:ae,vMathematical:ae,vectorEffect:null,vHanging:ae,vIdeographic:ae,version:null,vertAdvY:ae,vertOriginX:ae,vertOriginY:ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),dL=/^data[-\w.:]+$/i,Lb=/-[a-z]/g,fL=/[A-Z]/g;function pL(r,e){const t=ww(e);let n=e,s=Zi;if(t in r.normal)return r.property[r.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&dL.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Lb,mL);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Lb.test(o)){let l=o.replace(fL,gL);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}s=K0}return new s(n,e)}function gL(r){return"-"+r.toLowerCase()}function mL(r){return r.charAt(1).toUpperCase()}const yL={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},vL=sE([lE,aE,hE,dE,cL],"html"),Q0=sE([lE,aE,hE,dE,hL],"svg");function wL(r){return r.join(" ").trim()}var ku={},Kv,Ib;function SL(){if(Ib)return Kv;Ib=1;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",y="comment",w="declaration";Kv=function(A,k){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];k=k||{};var E=1,R=1;function P(ee){var K=ee.match(e);K&&(E+=K.length);var ce=ee.lastIndexOf(d);R=~ce?ee.length-ce:R+ee.length}function D(){var ee={line:E,column:R};return function(K){return K.position=new F(ee),V(),K}}function F(ee){this.start=ee,this.end={line:E,column:R},this.source=k.source}F.prototype.content=A;function I(ee){var K=new Error(k.source+":"+E+":"+R+": "+ee);if(K.reason=ee,K.filename=k.source,K.line=E,K.column=R,K.source=A,!k.silent)throw K}function O(ee){var K=ee.exec(A);if(K){var ce=K[0];return P(ce),A=A.slice(ce.length),K}}function V(){O(t)}function W(ee){var K;for(ee=ee||[];K=Y();)K!==!1&&ee.push(K);return ee}function Y(){var ee=D();if(!(f!=A.charAt(0)||p!=A.charAt(1))){for(var K=2;m!=A.charAt(K)&&(p!=A.charAt(K)||f!=A.charAt(K+1));)++K;if(K+=2,m===A.charAt(K-1))return I("End of comment missing");var ce=A.slice(2,K-2);return R+=2,P(ce),A=A.slice(K),R+=2,ee({type:y,comment:ce})}}function q(){var ee=D(),K=O(n);if(K){if(Y(),!O(s))return I("property missing ':'");var ce=O(o),Z=ee({type:w,property:b(K[0].replace(r,m)),value:ce?b(ce[0].replace(r,m)):m});return O(l),Z}}function ne(){var ee=[];W(ee);for(var K;K=q();)K!==!1&&(ee.push(K),W(ee));return ee}return V(),ne()};function b(A){return A?A.replace(u,m):m}return Kv}var Mb;function xL(){if(Mb)return ku;Mb=1;var r=ku&&ku.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ku,"__esModule",{value:!0}),ku.default=t;var e=r(SL());function t(n,s){var o=null;if(!n||typeof n!="string")return o;var l=(0,e.default)(n),u=typeof s=="function";return l.forEach(function(d){if(d.type==="declaration"){var f=d.property,p=d.value;u?s(f,p,d):p&&(o=o||{},o[f]=p)}}),o}return ku}var AL=xL();const Db=$0(AL),bL=Db.default||Db,fE=pE("end"),J0=pE("start");function pE(r){return e;function e(t){const n=t&&t.position&&t.position[r]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function EL(r){const e=J0(r),t=fE(r);if(e&&t)return{start:e,end:t}}function cd(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?Nb(r.position):"start"in r||"end"in r?Nb(r):"line"in r||"column"in r?xw(r):""}function xw(r){return Fb(r&&r.line)+":"+Fb(r&&r.column)}function Nb(r){return xw(r&&r.start)+"-"+xw(r&&r.end)}function Fb(r){return r&&typeof r=="number"?r:1}class Ln extends Error{constructor(e,t,n){super(),typeof t=="string"&&(n=t,t=void 0);let s="",o={},l=!1;if(t&&("line"in t&&"column"in t?o={place:t}:"start"in t&&"end"in t?o={place:t}:"type"in t?o={ancestors:[t],place:t.position}:o={...t}),typeof e=="string"?s=e:!o.cause&&e&&(l=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof n=="string"){const d=n.indexOf(":");d===-1?o.ruleId=n:(o.source=n.slice(0,d),o.ruleId=n.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=u?u.line:void 0,this.name=cd(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ln.prototype.file="";Ln.prototype.name="";Ln.prototype.reason="";Ln.prototype.message="";Ln.prototype.stack="";Ln.prototype.column=void 0;Ln.prototype.line=void 0;Ln.prototype.ancestors=void 0;Ln.prototype.cause=void 0;Ln.prototype.fatal=void 0;Ln.prototype.place=void 0;Ln.prototype.ruleId=void 0;Ln.prototype.source=void 0;const Z0={}.hasOwnProperty,kL=new Map,CL=/[A-Z]/g,_L=/-([a-z])/g,TL=new Set(["table","tbody","thead","tfoot","tr"]),PL=new Set(["td","th"]),gE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function RL(r,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=zL(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=OL(t,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Q0:vL,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=mE(s,r,void 0);return o&&typeof o!="string"?o:s.create(r,s.Fragment,{children:o||void 0},void 0)}function mE(r,e,t){if(e.type==="element")return LL(r,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return IL(r,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return DL(r,e,t);if(e.type==="mdxjsEsm")return ML(r,e);if(e.type==="root")return NL(r,e,t);if(e.type==="text")return FL(r,e)}function LL(r,e,t){const n=r.schema;let s=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(s=Q0,r.schema=s),r.ancestors.push(e);const o=vE(r,e.tagName,!1),l=BL(r,e);let u=tS(r,e);return TL.has(e.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!aL(d):!0})),yE(r,l,o,e),eS(l,u),r.ancestors.pop(),r.schema=n,r.create(e,o,l,t)}function IL(r,e){if(e.data&&e.data.estree&&r.evaluater){const n=e.data.estree.body[0];return n.type,r.evaluater.evaluateExpression(n.expression)}gd(r,e.position)}function ML(r,e){if(e.data&&e.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(e.data.estree);gd(r,e.position)}function DL(r,e,t){const n=r.schema;let s=n;e.name==="svg"&&n.space==="html"&&(s=Q0,r.schema=s),r.ancestors.push(e);const o=e.name===null?r.Fragment:vE(r,e.name,!0),l=jL(r,e),u=tS(r,e);return yE(r,l,o,e),eS(l,u),r.ancestors.pop(),r.schema=n,r.create(e,o,l,t)}function NL(r,e,t){const n={};return eS(n,tS(r,e)),r.create(e,r.Fragment,n,t)}function FL(r,e){return e.value}function yE(r,e,t,n){typeof t!="string"&&t!==r.Fragment&&r.passNode&&(e.node=n)}function eS(r,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(r.children=t)}}function OL(r,e,t){return n;function n(s,o,l,u){const f=Array.isArray(l.children)?t:e;return u?f(o,l,u):f(o,l)}}function zL(r,e){return t;function t(n,s,o,l){const u=Array.isArray(o.children),d=J0(n);return e(s,o,l,u,{columnNumber:d?d.column-1:void 0,fileName:r,lineNumber:d?d.line:void 0},void 0)}}function BL(r,e){const t={};let n,s;for(s in e.properties)if(s!=="children"&&Z0.call(e.properties,s)){const o=HL(r,s,e.properties[s]);if(o){const[l,u]=o;r.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&PL.has(e.tagName)?n=u:t[l]=u}}if(n){const o=t.style||(t.style={});o[r.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return t}function jL(r,e){const t={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&r.evaluater){const o=n.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(t,r.evaluater.evaluateExpression(u.argument))}else gd(r,e.position);else{const s=n.name;let o;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&r.evaluater){const u=n.value.data.estree.body[0];u.type,o=r.evaluater.evaluateExpression(u.expression)}else gd(r,e.position);else o=n.value===null?!0:n.value;t[s]=o}return t}function tS(r,e){const t=[];let n=-1;const s=r.passKeys?new Map:kL;for(;++n<e.children.length;){const o=e.children[n];let l;if(r.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const f=s.get(d)||0;l=d+"-"+f,s.set(d,f+1)}}const u=mE(r,o,l);u!==void 0&&t.push(u)}return t}function HL(r,e,t){const n=pL(r.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=n.commaSeparated?nL(t):wL(t)),n.property==="style"){let s=typeof t=="object"?t:UL(r,String(t));return r.stylePropertyNameCase==="css"&&(s=$L(s)),["style",s]}return[r.elementAttributeNameCase==="react"&&n.space?yL[n.property]||n.property:n.attribute,t]}}function UL(r,e){const t={};try{bL(e,n)}catch(s){if(!r.ignoreInvalidStyle){const o=s,l=new Ln("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=r.filePath||void 0,l.url=gE+"#cannot-parse-style-attribute",l}}return t;function n(s,o){let l=s;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace(_L,WL)),t[l]=o}}function vE(r,e,t){let n;if(!t)n={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,l;for(;++o<s.length;){const u=Tb(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}n=l}else n=Tb(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const s=n.value;return Z0.call(r.components,s)?r.components[s]:s}if(r.evaluater)return r.evaluater.evaluateExpression(n);gd(r)}function gd(r,e){const t=new Ln("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=r.filePath||void 0,t.url=gE+"#cannot-handle-mdx-estrees-without-createevaluater",t}function $L(r){const e={};let t;for(t in r)Z0.call(r,t)&&(e[VL(t)]=r[t]);return e}function VL(r){let e=r.replace(CL,GL);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function WL(r,e){return e.toUpperCase()}function GL(r){return"-"+r.toLowerCase()}const Qv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qL={};function XL(r,e){const t=qL,n=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,s=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return wE(r,n,s)}function wE(r,e,t){if(YL(r)){if("value"in r)return r.type==="html"&&!t?"":r.value;if(e&&"alt"in r&&r.alt)return r.alt;if("children"in r)return Ob(r.children,e,t)}return Array.isArray(r)?Ob(r,e,t):""}function Ob(r,e,t){const n=[];let s=-1;for(;++s<r.length;)n[s]=wE(r[s],e,t);return n.join("")}function YL(r){return!!(r&&typeof r=="object")}const zb=document.createElement("i");function nS(r){const e="&"+r+";";zb.innerHTML=e;const t=zb.textContent;return t.charCodeAt(t.length-1)===59&&r!=="semi"||t===e?!1:t}function is(r,e,t,n){const s=r.length;let o=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,t=t>0?t:0,n.length<1e4)l=Array.from(n),l.unshift(e,t),r.splice(...l);else for(t&&r.splice(e,t);o<n.length;)l=n.slice(o,o+1e4),l.unshift(e,0),r.splice(...l),o+=1e4,e+=1e4}function Yi(r,e){return r.length>0?(is(r,r.length,0,e),r):e}const Bb={}.hasOwnProperty;function KL(r){const e={};let t=-1;for(;++t<r.length;)QL(e,r[t]);return e}function QL(r,e){let t;for(t in e){const s=(Bb.call(r,t)?r[t]:void 0)||(r[t]={}),o=e[t];let l;if(o)for(l in o){Bb.call(s,l)||(s[l]=[]);const u=o[l];JL(s[l],Array.isArray(u)?u:u?[u]:[])}}}function JL(r,e){let t=-1;const n=[];for(;++t<e.length;)(e[t].add==="after"?r:n).push(e[t]);is(r,0,0,n)}function SE(r,e){const t=Number.parseInt(r,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Bu(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const es=ga(/[A-Za-z]/),Ii=ga(/[\dA-Za-z]/),ZL=ga(/[#-'*+\--9=?A-Z^-~]/);function Aw(r){return r!==null&&(r<32||r===127)}const bw=ga(/\d/),eI=ga(/[\dA-Fa-f]/),tI=ga(/[!-/:-@[-`{-~]/);function Ne(r){return r!==null&&r<-2}function ri(r){return r!==null&&(r<0||r===32)}function et(r){return r===-2||r===-1||r===32}const nI=ga(new RegExp("\\p{P}|\\p{S}","u")),iI=ga(/\s/);function ga(r){return e;function e(t){return t!==null&&t>-1&&r.test(String.fromCharCode(t))}}function Zc(r){const e=[];let t=-1,n=0,s=0;for(;++t<r.length;){const o=r.charCodeAt(t);let l="";if(o===37&&Ii(r.charCodeAt(t+1))&&Ii(r.charCodeAt(t+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=r.charCodeAt(t+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),s=1):l=""}else l=String.fromCharCode(o);l&&(e.push(r.slice(n,t),encodeURIComponent(l)),n=t+s+1,l=""),s&&(t+=s,s=0)}return e.join("")+r.slice(n)}function ft(r,e,t,n){const s=n?n-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(d){return et(d)?(r.enter(t),u(d)):e(d)}function u(d){return et(d)&&o++<s?(r.consume(d),u):(r.exit(t),e(d))}}const rI={tokenize:sI};function sI(r){const e=r.attempt(this.parser.constructs.contentInitial,n,s);let t;return e;function n(u){if(u===null){r.consume(u);return}return r.enter("lineEnding"),r.consume(u),r.exit("lineEnding"),ft(r,e,"linePrefix")}function s(u){return r.enter("paragraph"),o(u)}function o(u){const d=r.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=d),t=d,l(u)}function l(u){if(u===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(u);return}return Ne(u)?(r.consume(u),r.exit("chunkText"),o):(r.consume(u),l)}}const oI={tokenize:aI},jb={tokenize:lI};function aI(r){const e=this,t=[];let n=0,s,o,l;return u;function u(P){if(n<t.length){const D=t[n];return e.containerState=D[1],r.attempt(D[0].continuation,d,f)(P)}return f(P)}function d(P){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&R();const D=e.events.length;let F=D,I;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){I=e.events[F][1].end;break}E(n);let O=D;for(;O<e.events.length;)e.events[O][1].end={...I},O++;return is(e.events,F+1,0,e.events.slice(D)),e.events.length=O,f(P)}return u(P)}function f(P){if(n===t.length){if(!s)return y(P);if(s.currentConstruct&&s.currentConstruct.concrete)return b(P);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},r.check(jb,p,m)(P)}function p(P){return s&&R(),E(n),y(P)}function m(P){return e.parser.lazy[e.now().line]=n!==t.length,l=e.now().offset,b(P)}function y(P){return e.containerState={},r.attempt(jb,w,b)(P)}function w(P){return n++,t.push([e.currentConstruct,e.containerState]),y(P)}function b(P){if(P===null){s&&R(),E(0),r.consume(P);return}return s=s||e.parser.flow(e.now()),r.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),A(P)}function A(P){if(P===null){k(r.exit("chunkFlow"),!0),E(0),r.consume(P);return}return Ne(P)?(r.consume(P),k(r.exit("chunkFlow")),n=0,e.interrupt=void 0,u):(r.consume(P),A)}function k(P,D){const F=e.sliceStream(P);if(D&&F.push(null),P.previous=o,o&&(o.next=P),o=P,s.defineSkip(P.start),s.write(F),e.parser.lazy[P.start.line]){let I=s.events.length;for(;I--;)if(s.events[I][1].start.offset<l&&(!s.events[I][1].end||s.events[I][1].end.offset>l))return;const O=e.events.length;let V=O,W,Y;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){if(W){Y=e.events[V][1].end;break}W=!0}for(E(n),I=O;I<e.events.length;)e.events[I][1].end={...Y},I++;is(e.events,V+1,0,e.events.slice(O)),e.events.length=I}}function E(P){let D=t.length;for(;D-- >P;){const F=t[D];e.containerState=F[1],F[0].exit.call(e,r)}t.length=P}function R(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function lI(r,e,t){return ft(r,r.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Hb(r){if(r===null||ri(r)||iI(r))return 1;if(nI(r))return 2}function iS(r,e,t){const n=[];let s=-1;for(;++s<r.length;){const o=r[s].resolveAll;o&&!n.includes(o)&&(e=o(e,t),n.push(o))}return e}const Ew={name:"attention",resolveAll:uI,tokenize:cI};function uI(r,e){let t=-1,n,s,o,l,u,d,f,p;for(;++t<r.length;)if(r[t][0]==="enter"&&r[t][1].type==="attentionSequence"&&r[t][1]._close){for(n=t;n--;)if(r[n][0]==="exit"&&r[n][1].type==="attentionSequence"&&r[n][1]._open&&e.sliceSerialize(r[n][1]).charCodeAt(0)===e.sliceSerialize(r[t][1]).charCodeAt(0)){if((r[n][1]._close||r[t][1]._open)&&(r[t][1].end.offset-r[t][1].start.offset)%3&&!((r[n][1].end.offset-r[n][1].start.offset+r[t][1].end.offset-r[t][1].start.offset)%3))continue;d=r[n][1].end.offset-r[n][1].start.offset>1&&r[t][1].end.offset-r[t][1].start.offset>1?2:1;const m={...r[n][1].end},y={...r[t][1].start};Ub(m,-d),Ub(y,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...r[n][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...r[t][1].start},end:y},o={type:d>1?"strongText":"emphasisText",start:{...r[n][1].end},end:{...r[t][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},r[n][1].end={...l.start},r[t][1].start={...u.end},f=[],r[n][1].end.offset-r[n][1].start.offset&&(f=Yi(f,[["enter",r[n][1],e],["exit",r[n][1],e]])),f=Yi(f,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",o,e]]),f=Yi(f,iS(e.parser.constructs.insideSpan.null,r.slice(n+1,t),e)),f=Yi(f,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",s,e]]),r[t][1].end.offset-r[t][1].start.offset?(p=2,f=Yi(f,[["enter",r[t][1],e],["exit",r[t][1],e]])):p=0,is(r,n-1,t-n+3,f),t=n+f.length-p-2;break}}for(t=-1;++t<r.length;)r[t][1].type==="attentionSequence"&&(r[t][1].type="data");return r}function cI(r,e){const t=this.parser.constructs.attentionMarkers.null,n=this.previous,s=Hb(n);let o;return l;function l(d){return o=d,r.enter("attentionSequence"),u(d)}function u(d){if(d===o)return r.consume(d),u;const f=r.exit("attentionSequence"),p=Hb(d),m=!p||p===2&&s||t.includes(d),y=!s||s===2&&p||t.includes(n);return f._open=!!(o===42?m:m&&(s||!y)),f._close=!!(o===42?y:y&&(p||!m)),e(d)}}function Ub(r,e){r.column+=e,r.offset+=e,r._bufferIndex+=e}const hI={name:"autolink",tokenize:dI};function dI(r,e,t){let n=0;return s;function s(w){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(w),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),o}function o(w){return es(w)?(r.consume(w),l):w===64?t(w):f(w)}function l(w){return w===43||w===45||w===46||Ii(w)?(n=1,u(w)):f(w)}function u(w){return w===58?(r.consume(w),n=0,d):(w===43||w===45||w===46||Ii(w))&&n++<32?(r.consume(w),u):(n=0,f(w))}function d(w){return w===62?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(w),r.exit("autolinkMarker"),r.exit("autolink"),e):w===null||w===32||w===60||Aw(w)?t(w):(r.consume(w),d)}function f(w){return w===64?(r.consume(w),p):ZL(w)?(r.consume(w),f):t(w)}function p(w){return Ii(w)?m(w):t(w)}function m(w){return w===46?(r.consume(w),n=0,p):w===62?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(w),r.exit("autolinkMarker"),r.exit("autolink"),e):y(w)}function y(w){if((w===45||Ii(w))&&n++<63){const b=w===45?y:m;return r.consume(w),b}return t(w)}}const Um={partial:!0,tokenize:fI};function fI(r,e,t){return n;function n(o){return et(o)?ft(r,s,"linePrefix")(o):s(o)}function s(o){return o===null||Ne(o)?e(o):t(o)}}const xE={continuation:{tokenize:gI},exit:mI,name:"blockQuote",tokenize:pI};function pI(r,e,t){const n=this;return s;function s(l){if(l===62){const u=n.containerState;return u.open||(r.enter("blockQuote",{_container:!0}),u.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume(l),r.exit("blockQuoteMarker"),o}return t(l)}function o(l){return et(l)?(r.enter("blockQuotePrefixWhitespace"),r.consume(l),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),e):(r.exit("blockQuotePrefix"),e(l))}}function gI(r,e,t){const n=this;return s;function s(l){return et(l)?ft(r,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return r.attempt(xE,e,t)(l)}}function mI(r){r.exit("blockQuote")}const AE={name:"characterEscape",tokenize:yI};function yI(r,e,t){return n;function n(o){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(o),r.exit("escapeMarker"),s}function s(o){return tI(o)?(r.enter("characterEscapeValue"),r.consume(o),r.exit("characterEscapeValue"),r.exit("characterEscape"),e):t(o)}}const bE={name:"characterReference",tokenize:vI};function vI(r,e,t){const n=this;let s=0,o,l;return u;function u(m){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(m),r.exit("characterReferenceMarker"),d}function d(m){return m===35?(r.enter("characterReferenceMarkerNumeric"),r.consume(m),r.exit("characterReferenceMarkerNumeric"),f):(r.enter("characterReferenceValue"),o=31,l=Ii,p(m))}function f(m){return m===88||m===120?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(m),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),o=6,l=eI,p):(r.enter("characterReferenceValue"),o=7,l=bw,p(m))}function p(m){if(m===59&&s){const y=r.exit("characterReferenceValue");return l===Ii&&!nS(n.sliceSerialize(y))?t(m):(r.enter("characterReferenceMarker"),r.consume(m),r.exit("characterReferenceMarker"),r.exit("characterReference"),e)}return l(m)&&s++<o?(r.consume(m),p):t(m)}}const $b={partial:!0,tokenize:SI},Vb={concrete:!0,name:"codeFenced",tokenize:wI};function wI(r,e,t){const n=this,s={partial:!0,tokenize:F};let o=0,l=0,u;return d;function d(I){return f(I)}function f(I){const O=n.events[n.events.length-1];return o=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,u=I,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),p(I)}function p(I){return I===u?(l++,r.consume(I),p):l<3?t(I):(r.exit("codeFencedFenceSequence"),et(I)?ft(r,m,"whitespace")(I):m(I))}function m(I){return I===null||Ne(I)?(r.exit("codeFencedFence"),n.interrupt?e(I):r.check($b,A,D)(I)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),y(I))}function y(I){return I===null||Ne(I)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),m(I)):et(I)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),ft(r,w,"whitespace")(I)):I===96&&I===u?t(I):(r.consume(I),y)}function w(I){return I===null||Ne(I)?m(I):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),b(I))}function b(I){return I===null||Ne(I)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),m(I)):I===96&&I===u?t(I):(r.consume(I),b)}function A(I){return r.attempt(s,D,k)(I)}function k(I){return r.enter("lineEnding"),r.consume(I),r.exit("lineEnding"),E}function E(I){return o>0&&et(I)?ft(r,R,"linePrefix",o+1)(I):R(I)}function R(I){return I===null||Ne(I)?r.check($b,A,D)(I):(r.enter("codeFlowValue"),P(I))}function P(I){return I===null||Ne(I)?(r.exit("codeFlowValue"),R(I)):(r.consume(I),P)}function D(I){return r.exit("codeFenced"),e(I)}function F(I,O,V){let W=0;return Y;function Y(ce){return I.enter("lineEnding"),I.consume(ce),I.exit("lineEnding"),q}function q(ce){return I.enter("codeFencedFence"),et(ce)?ft(I,ne,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):ne(ce)}function ne(ce){return ce===u?(I.enter("codeFencedFenceSequence"),ee(ce)):V(ce)}function ee(ce){return ce===u?(W++,I.consume(ce),ee):W>=l?(I.exit("codeFencedFenceSequence"),et(ce)?ft(I,K,"whitespace")(ce):K(ce)):V(ce)}function K(ce){return ce===null||Ne(ce)?(I.exit("codeFencedFence"),O(ce)):V(ce)}}}function SI(r,e,t){const n=this;return s;function s(l){return l===null?t(l):(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),o)}function o(l){return n.parser.lazy[n.now().line]?t(l):e(l)}}const Jv={name:"codeIndented",tokenize:AI},xI={partial:!0,tokenize:bI};function AI(r,e,t){const n=this;return s;function s(f){return r.enter("codeIndented"),ft(r,o,"linePrefix",5)(f)}function o(f){const p=n.events[n.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):t(f)}function l(f){return f===null?d(f):Ne(f)?r.attempt(xI,l,d)(f):(r.enter("codeFlowValue"),u(f))}function u(f){return f===null||Ne(f)?(r.exit("codeFlowValue"),l(f)):(r.consume(f),u)}function d(f){return r.exit("codeIndented"),e(f)}}function bI(r,e,t){const n=this;return s;function s(l){return n.parser.lazy[n.now().line]?t(l):Ne(l)?(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),s):ft(r,o,"linePrefix",5)(l)}function o(l){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):Ne(l)?s(l):t(l)}}const EI={name:"codeText",previous:CI,resolve:kI,tokenize:_I};function kI(r){let e=r.length-4,t=3,n,s;if((r[t][1].type==="lineEnding"||r[t][1].type==="space")&&(r[e][1].type==="lineEnding"||r[e][1].type==="space")){for(n=t;++n<e;)if(r[n][1].type==="codeTextData"){r[t][1].type="codeTextPadding",r[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(n=t-1,e++;++n<=e;)s===void 0?n!==e&&r[n][1].type!=="lineEnding"&&(s=n):(n===e||r[n][1].type==="lineEnding")&&(r[s][1].type="codeTextData",n!==s+2&&(r[s][1].end=r[n-1][1].end,r.splice(s+2,n-s-2),e-=n-s-2,n=s+2),s=void 0);return r}function CI(r){return r!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _I(r,e,t){let n=0,s,o;return l;function l(m){return r.enter("codeText"),r.enter("codeTextSequence"),u(m)}function u(m){return m===96?(r.consume(m),n++,u):(r.exit("codeTextSequence"),d(m))}function d(m){return m===null?t(m):m===32?(r.enter("space"),r.consume(m),r.exit("space"),d):m===96?(o=r.enter("codeTextSequence"),s=0,p(m)):Ne(m)?(r.enter("lineEnding"),r.consume(m),r.exit("lineEnding"),d):(r.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Ne(m)?(r.exit("codeTextData"),d(m)):(r.consume(m),f)}function p(m){return m===96?(r.consume(m),s++,p):s===n?(r.exit("codeTextSequence"),r.exit("codeText"),e(m)):(o.type="codeTextData",f(m))}}class TI{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=t??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const s=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return n&&Bh(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Bh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Bh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Bh(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Bh(this.left,t.reverse())}}}function Bh(r,e){let t=0;if(e.length<1e4)r.push(...e);else for(;t<e.length;)r.push(...e.slice(t,t+1e4)),t+=1e4}function EE(r){const e={};let t=-1,n,s,o,l,u,d,f;const p=new TI(r);for(;++t<p.length;){for(;t in e;)t=e[t];if(n=p.get(t),t&&n[1].type==="chunkFlow"&&p.get(t-1)[1].type==="listItemPrefix"&&(d=n[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,PI(p,t)),t=e[t],f=!0);else if(n[1]._container){for(o=t,s=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=o);else if(l[1].type!=="linePrefix")break;s&&(n[1].end={...p.get(s)[1].start},u=p.slice(s,t),u.unshift(n),p.splice(s,t-s+1,u))}}return is(r,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function PI(r,e){const t=r.get(e)[1],n=r.get(e)[2];let s=e-1;const o=[],l=t._tokenizer||n.parser[t.contentType](t.start),u=l.events,d=[],f={};let p,m,y=-1,w=t,b=0,A=0;const k=[A];for(;w;){for(;r.get(++s)[1]!==w;);o.push(s),w._tokenizer||(p=n.sliceStream(w),w.next||p.push(null),m&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=w,w=w.next}for(w=t;++y<u.length;)u[y][0]==="exit"&&u[y-1][0]==="enter"&&u[y][1].type===u[y-1][1].type&&u[y][1].start.line!==u[y][1].end.line&&(A=y+1,k.push(A),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):k.pop(),y=k.length;y--;){const E=u.slice(k[y],k[y+1]),R=o.pop();d.push([R,R+E.length-1]),r.splice(R,2,E)}for(d.reverse(),y=-1;++y<d.length;)f[b+d[y][0]]=b+d[y][1],b+=d[y][1]-d[y][0]-1;return f}const RI={resolve:II,tokenize:MI},LI={partial:!0,tokenize:DI};function II(r){return EE(r),r}function MI(r,e){let t;return n;function n(u){return r.enter("content"),t=r.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?o(u):Ne(u)?r.check(LI,l,o)(u):(r.consume(u),s)}function o(u){return r.exit("chunkContent"),r.exit("content"),e(u)}function l(u){return r.consume(u),r.exit("chunkContent"),t.next=r.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,s}}function DI(r,e,t){const n=this;return s;function s(l){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),ft(r,o,"linePrefix")}function o(l){if(l===null||Ne(l))return t(l);const u=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):r.interrupt(n.parser.constructs.flow,t,e)(l)}}function kE(r,e,t,n,s,o,l,u,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(E){return E===60?(r.enter(n),r.enter(s),r.enter(o),r.consume(E),r.exit(o),y):E===null||E===32||E===41||Aw(E)?t(E):(r.enter(n),r.enter(l),r.enter(u),r.enter("chunkString",{contentType:"string"}),A(E))}function y(E){return E===62?(r.enter(o),r.consume(E),r.exit(o),r.exit(s),r.exit(n),e):(r.enter(u),r.enter("chunkString",{contentType:"string"}),w(E))}function w(E){return E===62?(r.exit("chunkString"),r.exit(u),y(E)):E===null||E===60||Ne(E)?t(E):(r.consume(E),E===92?b:w)}function b(E){return E===60||E===62||E===92?(r.consume(E),w):w(E)}function A(E){return!p&&(E===null||E===41||ri(E))?(r.exit("chunkString"),r.exit(u),r.exit(l),r.exit(n),e(E)):p<f&&E===40?(r.consume(E),p++,A):E===41?(r.consume(E),p--,A):E===null||E===32||E===40||Aw(E)?t(E):(r.consume(E),E===92?k:A)}function k(E){return E===40||E===41||E===92?(r.consume(E),A):A(E)}}function CE(r,e,t,n,s,o){const l=this;let u=0,d;return f;function f(w){return r.enter(n),r.enter(s),r.consume(w),r.exit(s),r.enter(o),p}function p(w){return u>999||w===null||w===91||w===93&&!d||w===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?t(w):w===93?(r.exit(o),r.enter(s),r.consume(w),r.exit(s),r.exit(n),e):Ne(w)?(r.enter("lineEnding"),r.consume(w),r.exit("lineEnding"),p):(r.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===null||w===91||w===93||Ne(w)||u++>999?(r.exit("chunkString"),p(w)):(r.consume(w),d||(d=!et(w)),w===92?y:m)}function y(w){return w===91||w===92||w===93?(r.consume(w),u++,m):m(w)}}function _E(r,e,t,n,s,o){let l;return u;function u(y){return y===34||y===39||y===40?(r.enter(n),r.enter(s),r.consume(y),r.exit(s),l=y===40?41:y,d):t(y)}function d(y){return y===l?(r.enter(s),r.consume(y),r.exit(s),r.exit(n),e):(r.enter(o),f(y))}function f(y){return y===l?(r.exit(o),d(l)):y===null?t(y):Ne(y)?(r.enter("lineEnding"),r.consume(y),r.exit("lineEnding"),ft(r,f,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===l||y===null||Ne(y)?(r.exit("chunkString"),f(y)):(r.consume(y),y===92?m:p)}function m(y){return y===l||y===92?(r.consume(y),p):p(y)}}function hd(r,e){let t;return n;function n(s){return Ne(s)?(r.enter("lineEnding"),r.consume(s),r.exit("lineEnding"),t=!0,n):et(s)?ft(r,n,t?"linePrefix":"lineSuffix")(s):e(s)}}const NI={name:"definition",tokenize:OI},FI={partial:!0,tokenize:zI};function OI(r,e,t){const n=this;let s;return o;function o(w){return r.enter("definition"),l(w)}function l(w){return CE.call(n,r,u,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function u(w){return s=Bu(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),w===58?(r.enter("definitionMarker"),r.consume(w),r.exit("definitionMarker"),d):t(w)}function d(w){return ri(w)?hd(r,f)(w):f(w)}function f(w){return kE(r,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function p(w){return r.attempt(FI,m,m)(w)}function m(w){return et(w)?ft(r,y,"whitespace")(w):y(w)}function y(w){return w===null||Ne(w)?(r.exit("definition"),n.parser.defined.push(s),e(w)):t(w)}}function zI(r,e,t){return n;function n(u){return ri(u)?hd(r,s)(u):t(u)}function s(u){return _E(r,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return et(u)?ft(r,l,"whitespace")(u):l(u)}function l(u){return u===null||Ne(u)?e(u):t(u)}}const BI={name:"hardBreakEscape",tokenize:jI};function jI(r,e,t){return n;function n(o){return r.enter("hardBreakEscape"),r.consume(o),s}function s(o){return Ne(o)?(r.exit("hardBreakEscape"),e(o)):t(o)}}const HI={name:"headingAtx",resolve:UI,tokenize:$I};function UI(r,e){let t=r.length-2,n=3,s,o;return r[n][1].type==="whitespace"&&(n+=2),t-2>n&&r[t][1].type==="whitespace"&&(t-=2),r[t][1].type==="atxHeadingSequence"&&(n===t-1||t-4>n&&r[t-2][1].type==="whitespace")&&(t-=n+1===t?2:4),t>n&&(s={type:"atxHeadingText",start:r[n][1].start,end:r[t][1].end},o={type:"chunkText",start:r[n][1].start,end:r[t][1].end,contentType:"text"},is(r,n,t-n+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),r}function $I(r,e,t){let n=0;return s;function s(p){return r.enter("atxHeading"),o(p)}function o(p){return r.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&n++<6?(r.consume(p),l):p===null||ri(p)?(r.exit("atxHeadingSequence"),u(p)):t(p)}function u(p){return p===35?(r.enter("atxHeadingSequence"),d(p)):p===null||Ne(p)?(r.exit("atxHeading"),e(p)):et(p)?ft(r,u,"whitespace")(p):(r.enter("atxHeadingText"),f(p))}function d(p){return p===35?(r.consume(p),d):(r.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||ri(p)?(r.exit("atxHeadingText"),u(p)):(r.consume(p),f)}}const VI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Wb=["pre","script","style","textarea"],WI={concrete:!0,name:"htmlFlow",resolveTo:XI,tokenize:YI},GI={partial:!0,tokenize:QI},qI={partial:!0,tokenize:KI};function XI(r){let e=r.length;for(;e--&&!(r[e][0]==="enter"&&r[e][1].type==="htmlFlow"););return e>1&&r[e-2][1].type==="linePrefix"&&(r[e][1].start=r[e-2][1].start,r[e+1][1].start=r[e-2][1].start,r.splice(e-2,2)),r}function YI(r,e,t){const n=this;let s,o,l,u,d;return f;function f(M){return p(M)}function p(M){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(M),m}function m(M){return M===33?(r.consume(M),y):M===47?(r.consume(M),o=!0,A):M===63?(r.consume(M),s=3,n.interrupt?e:L):es(M)?(r.consume(M),l=String.fromCharCode(M),k):t(M)}function y(M){return M===45?(r.consume(M),s=2,w):M===91?(r.consume(M),s=5,u=0,b):es(M)?(r.consume(M),s=4,n.interrupt?e:L):t(M)}function w(M){return M===45?(r.consume(M),n.interrupt?e:L):t(M)}function b(M){const Se="CDATA[";return M===Se.charCodeAt(u++)?(r.consume(M),u===Se.length?n.interrupt?e:ne:b):t(M)}function A(M){return es(M)?(r.consume(M),l=String.fromCharCode(M),k):t(M)}function k(M){if(M===null||M===47||M===62||ri(M)){const Se=M===47,_e=l.toLowerCase();return!Se&&!o&&Wb.includes(_e)?(s=1,n.interrupt?e(M):ne(M)):VI.includes(l.toLowerCase())?(s=6,Se?(r.consume(M),E):n.interrupt?e(M):ne(M)):(s=7,n.interrupt&&!n.parser.lazy[n.now().line]?t(M):o?R(M):P(M))}return M===45||Ii(M)?(r.consume(M),l+=String.fromCharCode(M),k):t(M)}function E(M){return M===62?(r.consume(M),n.interrupt?e:ne):t(M)}function R(M){return et(M)?(r.consume(M),R):Y(M)}function P(M){return M===47?(r.consume(M),Y):M===58||M===95||es(M)?(r.consume(M),D):et(M)?(r.consume(M),P):Y(M)}function D(M){return M===45||M===46||M===58||M===95||Ii(M)?(r.consume(M),D):F(M)}function F(M){return M===61?(r.consume(M),I):et(M)?(r.consume(M),F):P(M)}function I(M){return M===null||M===60||M===61||M===62||M===96?t(M):M===34||M===39?(r.consume(M),d=M,O):et(M)?(r.consume(M),I):V(M)}function O(M){return M===d?(r.consume(M),d=null,W):M===null||Ne(M)?t(M):(r.consume(M),O)}function V(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||ri(M)?F(M):(r.consume(M),V)}function W(M){return M===47||M===62||et(M)?P(M):t(M)}function Y(M){return M===62?(r.consume(M),q):t(M)}function q(M){return M===null||Ne(M)?ne(M):et(M)?(r.consume(M),q):t(M)}function ne(M){return M===45&&s===2?(r.consume(M),Z):M===60&&s===1?(r.consume(M),J):M===62&&s===4?(r.consume(M),B):M===63&&s===3?(r.consume(M),L):M===93&&s===5?(r.consume(M),he):Ne(M)&&(s===6||s===7)?(r.exit("htmlFlowData"),r.check(GI,X,ee)(M)):M===null||Ne(M)?(r.exit("htmlFlowData"),ee(M)):(r.consume(M),ne)}function ee(M){return r.check(qI,K,X)(M)}function K(M){return r.enter("lineEnding"),r.consume(M),r.exit("lineEnding"),ce}function ce(M){return M===null||Ne(M)?ee(M):(r.enter("htmlFlowData"),ne(M))}function Z(M){return M===45?(r.consume(M),L):ne(M)}function J(M){return M===47?(r.consume(M),l="",te):ne(M)}function te(M){if(M===62){const Se=l.toLowerCase();return Wb.includes(Se)?(r.consume(M),B):ne(M)}return es(M)&&l.length<8?(r.consume(M),l+=String.fromCharCode(M),te):ne(M)}function he(M){return M===93?(r.consume(M),L):ne(M)}function L(M){return M===62?(r.consume(M),B):M===45&&s===2?(r.consume(M),L):ne(M)}function B(M){return M===null||Ne(M)?(r.exit("htmlFlowData"),X(M)):(r.consume(M),B)}function X(M){return r.exit("htmlFlow"),e(M)}}function KI(r,e,t){const n=this;return s;function s(l){return Ne(l)?(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),o):t(l)}function o(l){return n.parser.lazy[n.now().line]?t(l):e(l)}}function QI(r,e,t){return n;function n(s){return r.enter("lineEnding"),r.consume(s),r.exit("lineEnding"),r.attempt(Um,e,t)}}const JI={name:"htmlText",tokenize:ZI};function ZI(r,e,t){const n=this;let s,o,l;return u;function u(L){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(L),d}function d(L){return L===33?(r.consume(L),f):L===47?(r.consume(L),F):L===63?(r.consume(L),P):es(L)?(r.consume(L),V):t(L)}function f(L){return L===45?(r.consume(L),p):L===91?(r.consume(L),o=0,b):es(L)?(r.consume(L),R):t(L)}function p(L){return L===45?(r.consume(L),w):t(L)}function m(L){return L===null?t(L):L===45?(r.consume(L),y):Ne(L)?(l=m,J(L)):(r.consume(L),m)}function y(L){return L===45?(r.consume(L),w):m(L)}function w(L){return L===62?Z(L):L===45?y(L):m(L)}function b(L){const B="CDATA[";return L===B.charCodeAt(o++)?(r.consume(L),o===B.length?A:b):t(L)}function A(L){return L===null?t(L):L===93?(r.consume(L),k):Ne(L)?(l=A,J(L)):(r.consume(L),A)}function k(L){return L===93?(r.consume(L),E):A(L)}function E(L){return L===62?Z(L):L===93?(r.consume(L),E):A(L)}function R(L){return L===null||L===62?Z(L):Ne(L)?(l=R,J(L)):(r.consume(L),R)}function P(L){return L===null?t(L):L===63?(r.consume(L),D):Ne(L)?(l=P,J(L)):(r.consume(L),P)}function D(L){return L===62?Z(L):P(L)}function F(L){return es(L)?(r.consume(L),I):t(L)}function I(L){return L===45||Ii(L)?(r.consume(L),I):O(L)}function O(L){return Ne(L)?(l=O,J(L)):et(L)?(r.consume(L),O):Z(L)}function V(L){return L===45||Ii(L)?(r.consume(L),V):L===47||L===62||ri(L)?W(L):t(L)}function W(L){return L===47?(r.consume(L),Z):L===58||L===95||es(L)?(r.consume(L),Y):Ne(L)?(l=W,J(L)):et(L)?(r.consume(L),W):Z(L)}function Y(L){return L===45||L===46||L===58||L===95||Ii(L)?(r.consume(L),Y):q(L)}function q(L){return L===61?(r.consume(L),ne):Ne(L)?(l=q,J(L)):et(L)?(r.consume(L),q):W(L)}function ne(L){return L===null||L===60||L===61||L===62||L===96?t(L):L===34||L===39?(r.consume(L),s=L,ee):Ne(L)?(l=ne,J(L)):et(L)?(r.consume(L),ne):(r.consume(L),K)}function ee(L){return L===s?(r.consume(L),s=void 0,ce):L===null?t(L):Ne(L)?(l=ee,J(L)):(r.consume(L),ee)}function K(L){return L===null||L===34||L===39||L===60||L===61||L===96?t(L):L===47||L===62||ri(L)?W(L):(r.consume(L),K)}function ce(L){return L===47||L===62||ri(L)?W(L):t(L)}function Z(L){return L===62?(r.consume(L),r.exit("htmlTextData"),r.exit("htmlText"),e):t(L)}function J(L){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(L),r.exit("lineEnding"),te}function te(L){return et(L)?ft(r,he,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):he(L)}function he(L){return r.enter("htmlTextData"),l(L)}}const rS={name:"labelEnd",resolveAll:iM,resolveTo:rM,tokenize:sM},eM={tokenize:oM},tM={tokenize:aM},nM={tokenize:lM};function iM(r){let e=-1;const t=[];for(;++e<r.length;){const n=r[e][1];if(t.push(r[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const s=n.type==="labelImage"?4:2;n.type="data",e+=s}}return r.length!==t.length&&is(r,0,r.length,t),r}function rM(r,e){let t=r.length,n=0,s,o,l,u;for(;t--;)if(s=r[t][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;r[t][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(r[t][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=t,s.type!=="labelLink")){n=2;break}}else s.type==="labelEnd"&&(l=t);const d={type:r[o][1].type==="labelLink"?"link":"image",start:{...r[o][1].start},end:{...r[r.length-1][1].end}},f={type:"label",start:{...r[o][1].start},end:{...r[l][1].end}},p={type:"labelText",start:{...r[o+n+2][1].end},end:{...r[l-2][1].start}};return u=[["enter",d,e],["enter",f,e]],u=Yi(u,r.slice(o+1,o+n+3)),u=Yi(u,[["enter",p,e]]),u=Yi(u,iS(e.parser.constructs.insideSpan.null,r.slice(o+n+4,l-3),e)),u=Yi(u,[["exit",p,e],r[l-2],r[l-1],["exit",f,e]]),u=Yi(u,r.slice(l+1)),u=Yi(u,[["exit",d,e]]),is(r,o,r.length,u),r}function sM(r,e,t){const n=this;let s=n.events.length,o,l;for(;s--;)if((n.events[s][1].type==="labelImage"||n.events[s][1].type==="labelLink")&&!n.events[s][1]._balanced){o=n.events[s][1];break}return u;function u(y){return o?o._inactive?m(y):(l=n.parser.defined.includes(Bu(n.sliceSerialize({start:o.end,end:n.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(y),r.exit("labelMarker"),r.exit("labelEnd"),d):t(y)}function d(y){return y===40?r.attempt(eM,p,l?p:m)(y):y===91?r.attempt(tM,p,l?f:m)(y):l?p(y):m(y)}function f(y){return r.attempt(nM,p,m)(y)}function p(y){return e(y)}function m(y){return o._balanced=!0,t(y)}}function oM(r,e,t){return n;function n(m){return r.enter("resource"),r.enter("resourceMarker"),r.consume(m),r.exit("resourceMarker"),s}function s(m){return ri(m)?hd(r,o)(m):o(m)}function o(m){return m===41?p(m):kE(r,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return ri(m)?hd(r,d)(m):p(m)}function u(m){return t(m)}function d(m){return m===34||m===39||m===40?_E(r,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return ri(m)?hd(r,p)(m):p(m)}function p(m){return m===41?(r.enter("resourceMarker"),r.consume(m),r.exit("resourceMarker"),r.exit("resource"),e):t(m)}}function aM(r,e,t){const n=this;return s;function s(u){return CE.call(n,r,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return n.parser.defined.includes(Bu(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(u):t(u)}function l(u){return t(u)}}function lM(r,e,t){return n;function n(o){return r.enter("reference"),r.enter("referenceMarker"),r.consume(o),r.exit("referenceMarker"),s}function s(o){return o===93?(r.enter("referenceMarker"),r.consume(o),r.exit("referenceMarker"),r.exit("reference"),e):t(o)}}const uM={name:"labelStartImage",resolveAll:rS.resolveAll,tokenize:cM};function cM(r,e,t){const n=this;return s;function s(u){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(u),r.exit("labelImageMarker"),o}function o(u){return u===91?(r.enter("labelMarker"),r.consume(u),r.exit("labelMarker"),r.exit("labelImage"),l):t(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(u):e(u)}}const hM={name:"labelStartLink",resolveAll:rS.resolveAll,tokenize:dM};function dM(r,e,t){const n=this;return s;function s(l){return r.enter("labelLink"),r.enter("labelMarker"),r.consume(l),r.exit("labelMarker"),r.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(l):e(l)}}const Zv={name:"lineEnding",tokenize:fM};function fM(r,e){return t;function t(n){return r.enter("lineEnding"),r.consume(n),r.exit("lineEnding"),ft(r,e,"linePrefix")}}const Mg={name:"thematicBreak",tokenize:pM};function pM(r,e,t){let n=0,s;return o;function o(f){return r.enter("thematicBreak"),l(f)}function l(f){return s=f,u(f)}function u(f){return f===s?(r.enter("thematicBreakSequence"),d(f)):n>=3&&(f===null||Ne(f))?(r.exit("thematicBreak"),e(f)):t(f)}function d(f){return f===s?(r.consume(f),n++,d):(r.exit("thematicBreakSequence"),et(f)?ft(r,u,"whitespace")(f):u(f))}}const Qn={continuation:{tokenize:vM},exit:SM,name:"list",tokenize:yM},gM={partial:!0,tokenize:xM},mM={partial:!0,tokenize:wM};function yM(r,e,t){const n=this,s=n.events[n.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return u;function u(w){const b=n.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!n.containerState.marker||w===n.containerState.marker:bw(w)){if(n.containerState.type||(n.containerState.type=b,r.enter(b,{_container:!0})),b==="listUnordered")return r.enter("listItemPrefix"),w===42||w===45?r.check(Mg,t,f)(w):f(w);if(!n.interrupt||w===49)return r.enter("listItemPrefix"),r.enter("listItemValue"),d(w)}return t(w)}function d(w){return bw(w)&&++l<10?(r.consume(w),d):(!n.interrupt||l<2)&&(n.containerState.marker?w===n.containerState.marker:w===41||w===46)?(r.exit("listItemValue"),f(w)):t(w)}function f(w){return r.enter("listItemMarker"),r.consume(w),r.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||w,r.check(Um,n.interrupt?t:p,r.attempt(gM,y,m))}function p(w){return n.containerState.initialBlankLine=!0,o++,y(w)}function m(w){return et(w)?(r.enter("listItemPrefixWhitespace"),r.consume(w),r.exit("listItemPrefixWhitespace"),y):t(w)}function y(w){return n.containerState.size=o+n.sliceSerialize(r.exit("listItemPrefix"),!0).length,e(w)}}function vM(r,e,t){const n=this;return n.containerState._closeFlow=void 0,r.check(Um,s,o);function s(u){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,ft(r,e,"listItemIndent",n.containerState.size+1)(u)}function o(u){return n.containerState.furtherBlankLines||!et(u)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(u)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,r.attempt(mM,e,l)(u))}function l(u){return n.containerState._closeFlow=!0,n.interrupt=void 0,ft(r,r.attempt(Qn,e,t),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function wM(r,e,t){const n=this;return ft(r,s,"listItemIndent",n.containerState.size+1);function s(o){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?e(o):t(o)}}function SM(r){r.exit(this.containerState.type)}function xM(r,e,t){const n=this;return ft(r,s,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const l=n.events[n.events.length-1];return!et(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):t(o)}}const Gb={name:"setextUnderline",resolveTo:AM,tokenize:bM};function AM(r,e){let t=r.length,n,s,o;for(;t--;)if(r[t][0]==="enter"){if(r[t][1].type==="content"){n=t;break}r[t][1].type==="paragraph"&&(s=t)}else r[t][1].type==="content"&&r.splice(t,1),!o&&r[t][1].type==="definition"&&(o=t);const l={type:"setextHeading",start:{...r[s][1].start},end:{...r[r.length-1][1].end}};return r[s][1].type="setextHeadingText",o?(r.splice(s,0,["enter",l,e]),r.splice(o+1,0,["exit",r[n][1],e]),r[n][1].end={...r[o][1].end}):r[n][1]=l,r.push(["exit",l,e]),r}function bM(r,e,t){const n=this;let s;return o;function o(f){let p=n.events.length,m;for(;p--;)if(n.events[p][1].type!=="lineEnding"&&n.events[p][1].type!=="linePrefix"&&n.events[p][1].type!=="content"){m=n.events[p][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||m)?(r.enter("setextHeadingLine"),s=f,l(f)):t(f)}function l(f){return r.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===s?(r.consume(f),u):(r.exit("setextHeadingLineSequence"),et(f)?ft(r,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Ne(f)?(r.exit("setextHeadingLine"),e(f)):t(f)}}const EM={tokenize:kM};function kM(r){const e=this,t=r.attempt(Um,n,r.attempt(this.parser.constructs.flowInitial,s,ft(r,r.attempt(this.parser.constructs.flow,s,r.attempt(RI,s)),"linePrefix")));return t;function n(o){if(o===null){r.consume(o);return}return r.enter("lineEndingBlank"),r.consume(o),r.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function s(o){if(o===null){r.consume(o);return}return r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),e.currentConstruct=void 0,t}}const CM={resolveAll:PE()},_M=TE("string"),TM=TE("text");function TE(r){return{resolveAll:PE(r==="text"?PM:void 0),tokenize:e};function e(t){const n=this,s=this.parser.constructs[r],o=t.attempt(s,l,u);return l;function l(p){return f(p)?o(p):u(p)}function u(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),d}function d(p){return f(p)?(t.exit("data"),o(p)):(t.consume(p),d)}function f(p){if(p===null)return!0;const m=s[p];let y=-1;if(m)for(;++y<m.length;){const w=m[y];if(!w.previous||w.previous.call(n,n.previous))return!0}return!1}}}function PE(r){return e;function e(t,n){let s=-1,o;for(;++s<=t.length;)o===void 0?t[s]&&t[s][1].type==="data"&&(o=s,s++):(!t[s]||t[s][1].type!=="data")&&(s!==o+2&&(t[o][1].end=t[s-1][1].end,t.splice(o+2,s-o-2),s=o+2),o=void 0);return r?r(t,n):t}}function PM(r,e){let t=0;for(;++t<=r.length;)if((t===r.length||r[t][1].type==="lineEnding")&&r[t-1][1].type==="data"){const n=r[t-1][1],s=e.sliceStream(n);let o=s.length,l=-1,u=0,d;for(;o--;){const f=s[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)d=!0,u++;else if(f!==-1){o++;break}}if(u){const f={type:t===r.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:n.start._bufferIndex+l,_index:n.start._index+o,line:n.end.line,column:n.end.column-u,offset:n.end.offset-u},end:{...n.end}};n.end={...f.start},n.start.offset===n.end.offset?Object.assign(n,f):(r.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return r}const RM={42:Qn,43:Qn,45:Qn,48:Qn,49:Qn,50:Qn,51:Qn,52:Qn,53:Qn,54:Qn,55:Qn,56:Qn,57:Qn,62:xE},LM={91:NI},IM={[-2]:Jv,[-1]:Jv,32:Jv},MM={35:HI,42:Mg,45:[Gb,Mg],60:WI,61:Gb,95:Mg,96:Vb,126:Vb},DM={38:bE,92:AE},NM={[-5]:Zv,[-4]:Zv,[-3]:Zv,33:uM,38:bE,42:Ew,60:[hI,JI],91:hM,92:[BI,AE],93:rS,95:Ew,96:EI},FM={null:[Ew,CM]},OM={null:[42,95]},zM={null:[]},BM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:OM,contentInitial:LM,disable:zM,document:RM,flow:MM,flowInitial:IM,insideSpan:FM,string:DM,text:NM},Symbol.toStringTag,{value:"Module"}));function jM(r,e,t){let n={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const s={},o=[];let l=[],u=[];const d={attempt:O(F),check:O(I),consume:R,enter:P,exit:D,interrupt:O(I,{interrupt:!0})},f={code:null,containerState:{},defineSkip:A,events:[],now:b,parser:r,previous:null,sliceSerialize:y,sliceStream:w,write:m};let p=e.tokenize.call(f,d);return e.resolveAll&&o.push(e),f;function m(q){return l=Yi(l,q),k(),l[l.length-1]!==null?[]:(V(e,0),f.events=iS(o,f.events,f),f.events)}function y(q,ne){return UM(w(q),ne)}function w(q){return HM(l,q)}function b(){const{_bufferIndex:q,_index:ne,line:ee,column:K,offset:ce}=n;return{_bufferIndex:q,_index:ne,line:ee,column:K,offset:ce}}function A(q){s[q.line]=q.column,Y()}function k(){let q;for(;n._index<l.length;){const ne=l[n._index];if(typeof ne=="string")for(q=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===q&&n._bufferIndex<ne.length;)E(ne.charCodeAt(n._bufferIndex));else E(ne)}}function E(q){p=p(q)}function R(q){Ne(q)?(n.line++,n.column=1,n.offset+=q===-3?2:1,Y()):q!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),f.previous=q}function P(q,ne){const ee=ne||{};return ee.type=q,ee.start=b(),f.events.push(["enter",ee,f]),u.push(ee),ee}function D(q){const ne=u.pop();return ne.end=b(),f.events.push(["exit",ne,f]),ne}function F(q,ne){V(q,ne.from)}function I(q,ne){ne.restore()}function O(q,ne){return ee;function ee(K,ce,Z){let J,te,he,L;return Array.isArray(K)?X(K):"tokenize"in K?X([K]):B(K);function B(ye){return be;function be(Ie){const Be=Ie!==null&&ye[Ie],Oe=Ie!==null&&ye.null,Vt=[...Array.isArray(Be)?Be:Be?[Be]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return X(Vt)(Ie)}}function X(ye){return J=ye,te=0,ye.length===0?Z:M(ye[te])}function M(ye){return be;function be(Ie){return L=W(),he=ye,ye.partial||(f.currentConstruct=ye),ye.name&&f.parser.constructs.disable.null.includes(ye.name)?_e():ye.tokenize.call(ne?Object.assign(Object.create(f),ne):f,d,Se,_e)(Ie)}}function Se(ye){return q(he,L),ce}function _e(ye){return L.restore(),++te<J.length?M(J[te]):Z}}}function V(q,ne){q.resolveAll&&!o.includes(q)&&o.push(q),q.resolve&&is(f.events,ne,f.events.length-ne,q.resolve(f.events.slice(ne),f)),q.resolveTo&&(f.events=q.resolveTo(f.events,f))}function W(){const q=b(),ne=f.previous,ee=f.currentConstruct,K=f.events.length,ce=Array.from(u);return{from:K,restore:Z};function Z(){n=q,f.previous=ne,f.currentConstruct=ee,f.events.length=K,u=ce,Y()}}function Y(){n.line in s&&n.column<2&&(n.column=s[n.line],n.offset+=s[n.line]-1)}}function HM(r,e){const t=e.start._index,n=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let l;if(t===s)l=[r[t].slice(n,o)];else{if(l=r.slice(t,s),n>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(n):l.shift()}o>0&&l.push(r[s].slice(0,o))}return l}function UM(r,e){let t=-1;const n=[];let s;for(;++t<r.length;){const o=r[t];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(o)}s=o===-2,n.push(l)}return n.join("")}function $M(r){const n={constructs:KL([BM,...(r||{}).extensions||[]]),content:s(rI),defined:[],document:s(oI),flow:s(EM),lazy:{},string:s(_M),text:s(TM)};return n;function s(o){return l;function l(u){return jM(n,o,u)}}}function VM(r){for(;!EE(r););return r}const qb=/[\0\t\n\r]/g;function WM(){let r=1,e="",t=!0,n;return s;function s(o,l,u){const d=[];let f,p,m,y,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,e="",t&&(o.charCodeAt(0)===65279&&m++,t=void 0);m<o.length;){if(qb.lastIndex=m,f=qb.exec(o),y=f&&f.index!==void 0?f.index:o.length,w=o.charCodeAt(y),!f){e=o.slice(m);break}if(w===10&&m===y&&n)d.push(-3),n=void 0;else switch(n&&(d.push(-5),n=void 0),m<y&&(d.push(o.slice(m,y)),r+=y-m),w){case 0:{d.push(65533),r++;break}case 9:{for(p=Math.ceil(r/4)*4,d.push(-2);r++<p;)d.push(-1);break}case 10:{d.push(-4),r=1;break}default:n=!0,r=1}m=y+1}return u&&(n&&d.push(-5),e&&d.push(e),d.push(null)),d}}const GM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qM(r){return r.replace(GM,XM)}function XM(r,e,t){if(e)return e;if(t.charCodeAt(0)===35){const s=t.charCodeAt(1),o=s===120||s===88;return SE(t.slice(o?2:1),o?16:10)}return nS(t)||r}const RE={}.hasOwnProperty;function YM(r,e,t){return typeof e!="string"&&(t=e,e=void 0),KM(t)(VM($M(t).document().write(WM()(r,e,!0))))}function KM(r){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(kr),autolinkProtocol:W,autolinkEmail:W,atxHeading:o(gt),blockQuote:o(Oe),characterEscape:W,characterReference:W,codeFenced:o(Vt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Vt,l),codeText:o(Vn,l),codeTextData:W,data:W,codeFlowValue:W,definition:o($e),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(tt),hardBreakEscape:o(vt),hardBreakTrailing:o(vt),htmlFlow:o(si,l),htmlFlowData:W,htmlText:o(si,l),htmlTextData:W,image:o(Er),label:l,link:o(kr),listItem:o(oi),listItemValue:y,listOrdered:o(Cr,m),listUnordered:o(Cr),paragraph:o(ma),reference:M,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(gt),strong:o(Jl),thematicBreak:o(eu)},exit:{atxHeading:d(),atxHeadingSequence:F,autolink:d(),autolinkEmail:Be,autolinkProtocol:Ie,blockQuote:d(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:ye,characterReference:be,codeFenced:d(k),codeFencedFence:A,codeFencedFenceInfo:w,codeFencedFenceMeta:b,codeFlowValue:Y,codeIndented:d(E),codeText:d(ce),codeTextData:Y,data:Y,definition:d(),definitionDestinationString:D,definitionLabelString:R,definitionTitleString:P,emphasis:d(),hardBreakEscape:d(ne),hardBreakTrailing:d(ne),htmlFlow:d(ee),htmlFlowData:Y,htmlText:d(K),htmlTextData:Y,image:d(J),label:he,labelText:te,lineEnding:q,link:d(Z),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Se,resourceDestinationString:L,resourceTitleString:B,resource:X,setextHeading:d(V),setextHeadingLineSequence:O,setextHeadingText:I,strong:d(),thematicBreak:d()}};LE(e,(r||{}).mdastExtensions||[]);const t={};return n;function n(Q){let oe={type:"root",children:[]};const Te={stack:[oe],tokenStack:[],config:e,enter:u,exit:f,buffer:l,resume:p,data:t},Me=[];let Ge=-1;for(;++Ge<Q.length;)if(Q[Ge][1].type==="listOrdered"||Q[Ge][1].type==="listUnordered")if(Q[Ge][0]==="enter")Me.push(Ge);else{const un=Me.pop();Ge=s(Q,un,Ge)}for(Ge=-1;++Ge<Q.length;){const un=e[Q[Ge][0]];RE.call(un,Q[Ge][1].type)&&un[Q[Ge][1].type].call(Object.assign({sliceSerialize:Q[Ge][2].sliceSerialize},Te),Q[Ge][1])}if(Te.tokenStack.length>0){const un=Te.tokenStack[Te.tokenStack.length-1];(un[1]||Xb).call(Te,void 0,un[0])}for(oe.position={start:ko(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:ko(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<e.transforms.length;)oe=e.transforms[Ge](oe)||oe;return oe}function s(Q,oe,Te){let Me=oe-1,Ge=-1,un=!1,as,Di,ro,ya;for(;++Me<=Te;){const cn=Q[Me];switch(cn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{cn[0]==="enter"?Ge++:Ge--,ya=void 0;break}case"lineEndingBlank":{cn[0]==="enter"&&(as&&!ya&&!Ge&&!ro&&(ro=Me),ya=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ya=void 0}if(!Ge&&cn[0]==="enter"&&cn[1].type==="listItemPrefix"||Ge===-1&&cn[0]==="exit"&&(cn[1].type==="listUnordered"||cn[1].type==="listOrdered")){if(as){let _r=Me;for(Di=void 0;_r--;){const ai=Q[_r];if(ai[1].type==="lineEnding"||ai[1].type==="lineEndingBlank"){if(ai[0]==="exit")continue;Di&&(Q[Di][1].type="lineEndingBlank",un=!0),ai[1].type="lineEnding",Di=_r}else if(!(ai[1].type==="linePrefix"||ai[1].type==="blockQuotePrefix"||ai[1].type==="blockQuotePrefixWhitespace"||ai[1].type==="blockQuoteMarker"||ai[1].type==="listItemIndent"))break}ro&&(!Di||ro<Di)&&(as._spread=!0),as.end=Object.assign({},Di?Q[Di][1].start:cn[1].end),Q.splice(Di||Me,0,["exit",as,cn[2]]),Me++,Te++}if(cn[1].type==="listItemPrefix"){const _r={type:"listItem",_spread:!1,start:Object.assign({},cn[1].start),end:void 0};as=_r,Q.splice(Me,0,["enter",_r,cn[2]]),Me++,Te++,ro=void 0,ya=!0}}}return Q[oe][1]._spread=un,Te}function o(Q,oe){return Te;function Te(Me){u.call(this,Q(Me),Me),oe&&oe.call(this,Me)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(Q,oe,Te){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([oe,Te||void 0]),Q.position={start:ko(oe.start),end:void 0}}function d(Q){return oe;function oe(Te){Q&&Q.call(this,Te),f.call(this,Te)}}function f(Q,oe){const Te=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==Q.type&&(oe?oe.call(this,Q,Me[0]):(Me[1]||Xb).call(this,Q,Me[0]));else throw new Error("Cannot close `"+Q.type+"` ("+cd({start:Q.start,end:Q.end})+"): its not open");Te.position.end=ko(Q.end)}function p(){return XL(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(Q){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function w(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Q}function b(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Q}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q.replace(/(\r?\n|\r)$/g,"")}function R(Q){const oe=this.resume(),Te=this.stack[this.stack.length-1];Te.label=oe,Te.identifier=Bu(this.sliceSerialize(Q)).toLowerCase()}function P(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Q}function D(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Q}function F(Q){const oe=this.stack[this.stack.length-1];if(!oe.depth){const Te=this.sliceSerialize(Q).length;oe.depth=Te}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function O(Q){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function W(Q){const Te=this.stack[this.stack.length-1].children;let Me=Te[Te.length-1];(!Me||Me.type!=="text")&&(Me=Zl(),Me.position={start:ko(Q.start),end:void 0},Te.push(Me)),this.stack.push(Me)}function Y(Q){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Q),oe.position.end=ko(Q.end)}function q(Q){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=oe.children[oe.children.length-1];Te.position.end=ko(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(oe.type)&&(W.call(this,Q),Y.call(this,Q))}function ne(){this.data.atHardBreak=!0}function ee(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function K(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function ce(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function Z(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=oe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function J(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=oe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function te(Q){const oe=this.sliceSerialize(Q),Te=this.stack[this.stack.length-2];Te.label=qM(oe),Te.identifier=Bu(oe).toLowerCase()}function he(){const Q=this.stack[this.stack.length-1],oe=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const Me=Q.children;Te.children=Me}else Te.alt=oe}function L(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Q}function B(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Q}function X(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function Se(Q){const oe=this.resume(),Te=this.stack[this.stack.length-1];Te.label=oe,Te.identifier=Bu(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function _e(Q){this.data.characterReferenceType=Q.type}function ye(Q){const oe=this.sliceSerialize(Q),Te=this.data.characterReferenceType;let Me;Te?(Me=SE(oe,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=nS(oe);const Ge=this.stack[this.stack.length-1];Ge.value+=Me}function be(Q){const oe=this.stack.pop();oe.position.end=ko(Q.end)}function Ie(Q){Y.call(this,Q);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Q)}function Be(Q){Y.call(this,Q);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Q)}function Oe(){return{type:"blockquote",children:[]}}function Vt(){return{type:"code",lang:null,meta:null,value:""}}function Vn(){return{type:"inlineCode",value:""}}function $e(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function tt(){return{type:"emphasis",children:[]}}function gt(){return{type:"heading",depth:0,children:[]}}function vt(){return{type:"break"}}function si(){return{type:"html",value:""}}function Er(){return{type:"image",title:null,url:"",alt:null}}function kr(){return{type:"link",title:null,url:"",children:[]}}function Cr(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function oi(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function ma(){return{type:"paragraph",children:[]}}function Jl(){return{type:"strong",children:[]}}function Zl(){return{type:"text",value:""}}function eu(){return{type:"thematicBreak"}}}function ko(r){return{line:r.line,column:r.column,offset:r.offset}}function LE(r,e){let t=-1;for(;++t<e.length;){const n=e[t];Array.isArray(n)?LE(r,n):QM(r,n)}}function QM(r,e){let t;for(t in e)if(RE.call(e,t))switch(t){case"canContainEols":{const n=e[t];n&&r[t].push(...n);break}case"transforms":{const n=e[t];n&&r[t].push(...n);break}case"enter":case"exit":{const n=e[t];n&&Object.assign(r[t],n);break}}}function Xb(r,e){throw r?new Error("Cannot close `"+r.type+"` ("+cd({start:r.start,end:r.end})+"): a different token (`"+e.type+"`, "+cd({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+cd({start:e.start,end:e.end})+") is still open")}function JM(r){const e=this;e.parser=t;function t(n){return YM(n,{...e.data("settings"),...r,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ZM(r,e){const t={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(e),!0)};return r.patch(e,t),r.applyData(e,t)}function eD(r,e){const t={type:"element",tagName:"br",properties:{},children:[]};return r.patch(e,t),[r.applyData(e,t),{type:"text",value:`
`}]}function tD(r,e){const t=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),r.patch(e,s),s=r.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},r.patch(e,s),s}function nD(r,e){const t={type:"element",tagName:"del",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function iD(r,e){const t={type:"element",tagName:"em",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function rD(r,e){const t=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),s=Zc(n.toLowerCase()),o=r.footnoteOrder.indexOf(n);let l,u=r.footnoteCounts.get(n);u===void 0?(u=0,r.footnoteOrder.push(n),l=r.footnoteOrder.length):l=o+1,u+=1,r.footnoteCounts.set(n,u);const d={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+s,id:t+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};r.patch(e,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return r.patch(e,f),r.applyData(e,f)}function sD(r,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function oD(r,e){if(r.options.allowDangerousHtml){const t={type:"raw",value:e.value};return r.patch(e,t),r.applyData(e,t)}}function IE(r,e){const t=e.referenceType;let n="]";if(t==="collapsed"?n+="[]":t==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const s=r.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=n:s.push({type:"text",value:n}),s}function aD(r,e){const t=String(e.identifier).toUpperCase(),n=r.definitionById.get(t);if(!n)return IE(r,e);const s={src:Zc(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(s.title=n.title);const o={type:"element",tagName:"img",properties:s,children:[]};return r.patch(e,o),r.applyData(e,o)}function lD(r,e){const t={src:Zc(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"img",properties:t,children:[]};return r.patch(e,n),r.applyData(e,n)}function uD(r,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};r.patch(e,t);const n={type:"element",tagName:"code",properties:{},children:[t]};return r.patch(e,n),r.applyData(e,n)}function cD(r,e){const t=String(e.identifier).toUpperCase(),n=r.definitionById.get(t);if(!n)return IE(r,e);const s={href:Zc(n.url||"")};n.title!==null&&n.title!==void 0&&(s.title=n.title);const o={type:"element",tagName:"a",properties:s,children:r.all(e)};return r.patch(e,o),r.applyData(e,o)}function hD(r,e){const t={href:Zc(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"a",properties:t,children:r.all(e)};return r.patch(e,n),r.applyData(e,n)}function dD(r,e,t){const n=r.all(e),s=t?fD(t):ME(e),o={},l=[];if(typeof e.checked=="boolean"){const p=n[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},n.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<n.length;){const p=n[u];(s||u!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?l.push(...p.children):l.push(p)}const d=n[n.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return r.patch(e,f),r.applyData(e,f)}function fD(r){let e=!1;if(r.type==="list"){e=r.spread||!1;const t=r.children;let n=-1;for(;!e&&++n<t.length;)e=ME(t[n])}return e}function ME(r){const e=r.spread;return e??r.children.length>1}function pD(r,e){const t={},n=r.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++s<n.length;){const l=n[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:r.wrap(n,!0)};return r.patch(e,o),r.applyData(e,o)}function gD(r,e){const t={type:"element",tagName:"p",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function mD(r,e){const t={type:"root",children:r.wrap(r.all(e))};return r.patch(e,t),r.applyData(e,t)}function yD(r,e){const t={type:"element",tagName:"strong",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function vD(r,e){const t=r.all(e),n=t.shift(),s=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:r.wrap([n],!0)};r.patch(e.children[0],l),s.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:r.wrap(t,!0)},u=J0(e.children[1]),d=fE(e.children[e.children.length-1]);u&&d&&(l.position={start:u,end:d}),s.push(l)}const o={type:"element",tagName:"table",properties:{},children:r.wrap(s,!0)};return r.patch(e,o),r.applyData(e,o)}function wD(r,e,t){const n=t?t.children:void 0,o=(n?n.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,u=l?l.length:e.children.length;let d=-1;const f=[];for(;++d<u;){const m=e.children[d],y={},w=l?l[d]:void 0;w&&(y.align=w);let b={type:"element",tagName:o,properties:y,children:[]};m&&(b.children=r.all(m),r.patch(m,b),b=r.applyData(m,b)),f.push(b)}const p={type:"element",tagName:"tr",properties:{},children:r.wrap(f,!0)};return r.patch(e,p),r.applyData(e,p)}function SD(r,e){const t={type:"element",tagName:"td",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}const Yb=9,Kb=32;function xD(r){const e=String(r),t=/\r?\n|\r/g;let n=t.exec(e),s=0;const o=[];for(;n;)o.push(Qb(e.slice(s,n.index),s>0,!0),n[0]),s=n.index+n[0].length,n=t.exec(e);return o.push(Qb(e.slice(s),s>0,!1)),o.join("")}function Qb(r,e,t){let n=0,s=r.length;if(e){let o=r.codePointAt(n);for(;o===Yb||o===Kb;)n++,o=r.codePointAt(n)}if(t){let o=r.codePointAt(s-1);for(;o===Yb||o===Kb;)s--,o=r.codePointAt(s-1)}return s>n?r.slice(n,s):""}function AD(r,e){const t={type:"text",value:xD(String(e.value))};return r.patch(e,t),r.applyData(e,t)}function bD(r,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(e,t),r.applyData(e,t)}const ED={blockquote:ZM,break:eD,code:tD,delete:nD,emphasis:iD,footnoteReference:rD,heading:sD,html:oD,imageReference:aD,image:lD,inlineCode:uD,linkReference:cD,link:hD,listItem:dD,list:pD,paragraph:gD,root:mD,strong:yD,table:vD,tableCell:SD,tableRow:wD,text:AD,thematicBreak:bD,toml:Sg,yaml:Sg,definition:Sg,footnoteDefinition:Sg};function Sg(){}const DE=-1,$m=0,dd=1,hm=2,sS=3,oS=4,aS=5,lS=6,NE=7,FE=8,Jb=typeof self=="object"?self:globalThis,kD=(r,e)=>{const t=(s,o)=>(r.set(o,s),s),n=s=>{if(r.has(s))return r.get(s);const[o,l]=e[s];switch(o){case $m:case DE:return t(l,s);case dd:{const u=t([],s);for(const d of l)u.push(n(d));return u}case hm:{const u=t({},s);for(const[d,f]of l)u[n(d)]=n(f);return u}case sS:return t(new Date(l),s);case oS:{const{source:u,flags:d}=l;return t(new RegExp(u,d),s)}case aS:{const u=t(new Map,s);for(const[d,f]of l)u.set(n(d),n(f));return u}case lS:{const u=t(new Set,s);for(const d of l)u.add(n(d));return u}case NE:{const{name:u,message:d}=l;return t(new Jb[u](d),s)}case FE:return t(BigInt(l),s);case"BigInt":return t(Object(BigInt(l)),s);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return t(new DataView(u),l)}}return t(new Jb[o](l),s)};return n},Zb=r=>kD(new Map,r)(0),Cu="",{toString:CD}={},{keys:_D}=Object,jh=r=>{const e=typeof r;if(e!=="object"||!r)return[$m,e];const t=CD.call(r).slice(8,-1);switch(t){case"Array":return[dd,Cu];case"Object":return[hm,Cu];case"Date":return[sS,Cu];case"RegExp":return[oS,Cu];case"Map":return[aS,Cu];case"Set":return[lS,Cu];case"DataView":return[dd,t]}return t.includes("Array")?[dd,t]:t.includes("Error")?[NE,t]:[hm,t]},xg=([r,e])=>r===$m&&(e==="function"||e==="symbol"),TD=(r,e,t,n)=>{const s=(l,u)=>{const d=n.push(l)-1;return t.set(u,d),d},o=l=>{if(t.has(l))return t.get(l);let[u,d]=jh(l);switch(u){case $m:{let p=l;switch(d){case"bigint":u=FE,p=l.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return s([DE],l)}return s([u,p],l)}case dd:{if(d){let y=l;return d==="DataView"?y=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(y=new Uint8Array(l)),s([d,[...y]],l)}const p=[],m=s([u,p],l);for(const y of l)p.push(o(y));return m}case hm:{if(d)switch(d){case"BigInt":return s([d,l.toString()],l);case"Boolean":case"Number":case"String":return s([d,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const p=[],m=s([u,p],l);for(const y of _D(l))(r||!xg(jh(l[y])))&&p.push([o(y),o(l[y])]);return m}case sS:return s([u,l.toISOString()],l);case oS:{const{source:p,flags:m}=l;return s([u,{source:p,flags:m}],l)}case aS:{const p=[],m=s([u,p],l);for(const[y,w]of l)(r||!(xg(jh(y))||xg(jh(w))))&&p.push([o(y),o(w)]);return m}case lS:{const p=[],m=s([u,p],l);for(const y of l)(r||!xg(jh(y)))&&p.push(o(y));return m}}const{message:f}=l;return s([u,{name:d,message:f}],l)};return o},e1=(r,{json:e,lossy:t}={})=>{const n=[];return TD(!(e||t),!!e,new Map,n)(r),n},dm=typeof structuredClone=="function"?(r,e)=>e&&("json"in e||"lossy"in e)?Zb(e1(r,e)):structuredClone(r):(r,e)=>Zb(e1(r,e));function PD(r,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function RD(r,e){return"Back to reference "+(r+1)+(e>1?"-"+e:"")}function LD(r){const e=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",t=r.options.footnoteBackContent||PD,n=r.options.footnoteBackLabel||RD,s=r.options.footnoteLabel||"Footnotes",o=r.options.footnoteLabelTagName||"h2",l=r.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<r.footnoteOrder.length;){const f=r.footnoteById.get(r.footnoteOrder[d]);if(!f)continue;const p=r.all(f),m=String(f.identifier).toUpperCase(),y=Zc(m.toLowerCase());let w=0;const b=[],A=r.footnoteCounts.get(m);for(;A!==void 0&&++w<=A;){b.length>0&&b.push({type:"text",value:" "});let R=typeof t=="string"?t:t(d,w);typeof R=="string"&&(R={type:"text",value:R}),b.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(d,w),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const k=p[p.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const R=k.children[k.children.length-1];R&&R.type==="text"?R.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...b)}else p.push(...b);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:r.wrap(p,!0)};r.patch(f,E),u.push(E)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...dm(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:r.wrap(u,!0)},{type:"text",value:`
`}]}}const OE=(function(r){if(r==null)return ND;if(typeof r=="function")return Vm(r);if(typeof r=="object")return Array.isArray(r)?ID(r):MD(r);if(typeof r=="string")return DD(r);throw new Error("Expected function, string, or object as test")});function ID(r){const e=[];let t=-1;for(;++t<r.length;)e[t]=OE(r[t]);return Vm(n);function n(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function MD(r){const e=r;return Vm(t);function t(n){const s=n;let o;for(o in r)if(s[o]!==e[o])return!1;return!0}}function DD(r){return Vm(e);function e(t){return t&&t.type===r}}function Vm(r){return e;function e(t,n,s){return!!(FD(t)&&r.call(this,t,typeof n=="number"?n:void 0,s||void 0))}}function ND(){return!0}function FD(r){return r!==null&&typeof r=="object"&&"type"in r}const zE=[],OD=!0,t1=!1,zD="skip";function BD(r,e,t,n){let s;typeof e=="function"&&typeof t!="function"?(n=t,t=e):s=e;const o=OE(s),l=n?-1:1;u(r,void 0,[])();function u(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const w=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(d.type+(w?"<"+w+">":""))+")"})}return y;function y(){let w=zE,b,A,k;if((!e||o(d,f,p[p.length-1]||void 0))&&(w=jD(t(d,p)),w[0]===t1))return w;if("children"in d&&d.children){const E=d;if(E.children&&w[0]!==zD)for(A=(n?E.children.length:-1)+l,k=p.concat(E);A>-1&&A<E.children.length;){const R=E.children[A];if(b=u(R,A,k)(),b[0]===t1)return b;A=typeof b[1]=="number"?b[1]:A+l}}return w}}}function jD(r){return Array.isArray(r)?r:typeof r=="number"?[OD,r]:r==null?zE:[r]}function BE(r,e,t,n){let s,o,l;typeof e=="function"&&typeof t!="function"?(o=void 0,l=e,s=t):(o=e,l=t,s=n),BD(r,o,u,s);function u(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return l(d,m,p)}}const kw={}.hasOwnProperty,HD={};function UD(r,e){const t=e||HD,n=new Map,s=new Map,o=new Map,l={...ED,...t.handlers},u={all:f,applyData:VD,definitionById:n,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:l,one:d,options:t,patch:$D,wrap:GD};return BE(r,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?n:s,y=String(p.identifier).toUpperCase();m.has(y)||m.set(y,p)}}),u;function d(p,m){const y=p.type,w=u.handlers[y];if(kw.call(u.handlers,y)&&w)return w(u,p,m);if(u.options.passThrough&&u.options.passThrough.includes(y)){if("children"in p){const{children:A,...k}=p,E=dm(k);return E.children=u.all(p),E}return dm(p)}return(u.options.unknownHandler||WD)(u,p,m)}function f(p){const m=[];if("children"in p){const y=p.children;let w=-1;for(;++w<y.length;){const b=u.one(y[w],p);if(b){if(w&&y[w-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=n1(b.value)),!Array.isArray(b)&&b.type==="element")){const A=b.children[0];A&&A.type==="text"&&(A.value=n1(A.value))}Array.isArray(b)?m.push(...b):m.push(b)}}}return m}}function $D(r,e){r.position&&(e.position=EL(r))}function VD(r,e){let t=e;if(r&&r.data){const n=r.data.hName,s=r.data.hChildren,o=r.data.hProperties;if(typeof n=="string")if(t.type==="element")t.tagName=n;else{const l="children"in t?t.children:[t];t={type:"element",tagName:n,properties:{},children:l}}t.type==="element"&&o&&Object.assign(t.properties,dm(o)),"children"in t&&t.children&&s!==null&&s!==void 0&&(t.children=s)}return t}function WD(r,e){const t=e.data||{},n="value"in e&&!(kw.call(t,"hProperties")||kw.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:r.all(e)};return r.patch(e,n),r.applyData(e,n)}function GD(r,e){const t=[];let n=-1;for(e&&t.push({type:"text",value:`
`});++n<r.length;)n&&t.push({type:"text",value:`
`}),t.push(r[n]);return e&&r.length>0&&t.push({type:"text",value:`
`}),t}function n1(r){let e=0,t=r.charCodeAt(e);for(;t===9||t===32;)e++,t=r.charCodeAt(e);return r.slice(e)}function i1(r,e){const t=UD(r,e),n=t.one(r,void 0),s=LD(t),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function qD(r,e){return r&&"run"in r?async function(t,n){const s=i1(t,{file:n,...e});await r.run(s,n)}:function(t,n){return i1(t,{file:n,...r||e})}}function r1(r){if(r)throw r}var ew,s1;function XD(){if(s1)return ew;s1=1;var r=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var p=r.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&r.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var y;for(y in f);return typeof y>"u"||r.call(f,y)},l=function(f,p){t&&p.name==="__proto__"?t(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},u=function(f,p){if(p==="__proto__")if(r.call(f,p)){if(n)return n(f,p).value}else return;return f[p]};return ew=function d(){var f,p,m,y,w,b,A=arguments[0],k=1,E=arguments.length,R=!1;for(typeof A=="boolean"&&(R=A,A=arguments[1]||{},k=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});k<E;++k)if(f=arguments[k],f!=null)for(p in f)m=u(A,p),y=u(f,p),A!==y&&(R&&y&&(o(y)||(w=s(y)))?(w?(w=!1,b=m&&s(m)?m:[]):b=m&&o(m)?m:{},l(A,{name:p,newValue:d(R,b,y)})):typeof y<"u"&&l(A,{name:p,newValue:y}));return A},ew}var YD=XD();const tw=$0(YD);function Cw(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function KD(){const r=[],e={run:t,use:n};return e;function t(...s){let o=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...s);function u(d,...f){const p=r[++o];let m=-1;if(d){l(d);return}for(;++m<s.length;)(f[m]===null||f[m]===void 0)&&(f[m]=s[m]);s=f,p?QD(p,u)(...f):l(null,...f)}}function n(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return r.push(s),e}}function QD(r,e){let t;return n;function n(...l){const u=r.length>l.length;let d;u&&l.push(s);try{d=r.apply(this,l)}catch(f){const p=f;if(u&&t)throw p;return s(p)}u||(d&&d.then&&typeof d.then=="function"?d.then(o,s):d instanceof Error?s(d):o(d))}function s(l,...u){t||(t=!0,e(l,...u))}function o(l){s(null,l)}}const Fr={basename:JD,dirname:ZD,extname:eN,join:tN,sep:"/"};function JD(r,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');np(r);let t=0,n=-1,s=r.length,o;if(e===void 0||e.length===0||e.length>r.length){for(;s--;)if(r.codePointAt(s)===47){if(o){t=s+1;break}}else n<0&&(o=!0,n=s+1);return n<0?"":r.slice(t,n)}if(e===r)return"";let l=-1,u=e.length-1;for(;s--;)if(r.codePointAt(s)===47){if(o){t=s+1;break}}else l<0&&(o=!0,l=s+1),u>-1&&(r.codePointAt(s)===e.codePointAt(u--)?u<0&&(n=s):(u=-1,n=l));return t===n?n=l:n<0&&(n=r.length),r.slice(t,n)}function ZD(r){if(np(r),r.length===0)return".";let e=-1,t=r.length,n;for(;--t;)if(r.codePointAt(t)===47){if(n){e=t;break}}else n||(n=!0);return e<0?r.codePointAt(0)===47?"/":".":e===1&&r.codePointAt(0)===47?"//":r.slice(0,e)}function eN(r){np(r);let e=r.length,t=-1,n=0,s=-1,o=0,l;for(;e--;){const u=r.codePointAt(e);if(u===47){if(l){n=e+1;break}continue}t<0&&(l=!0,t=e+1),u===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||t<0||o===0||o===1&&s===t-1&&s===n+1?"":r.slice(s,t)}function tN(...r){let e=-1,t;for(;++e<r.length;)np(r[e]),r[e]&&(t=t===void 0?r[e]:t+"/"+r[e]);return t===void 0?".":nN(t)}function nN(r){np(r);const e=r.codePointAt(0)===47;let t=iN(r,!e);return t.length===0&&!e&&(t="."),t.length>0&&r.codePointAt(r.length-1)===47&&(t+="/"),e?"/"+t:t}function iN(r,e){let t="",n=0,s=-1,o=0,l=-1,u,d;for(;++l<=r.length;){if(l<r.length)u=r.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(t.length<2||n!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(d=t.lastIndexOf("/"),d!==t.length-1){d<0?(t="",n=0):(t=t.slice(0,d),n=t.length-1-t.lastIndexOf("/")),s=l,o=0;continue}}else if(t.length>0){t="",n=0,s=l,o=0;continue}}e&&(t=t.length>0?t+"/..":"..",n=2)}else t.length>0?t+="/"+r.slice(s+1,l):t=r.slice(s+1,l),n=l-s-1;s=l,o=0}else u===46&&o>-1?o++:o=-1}return t}function np(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const rN={cwd:sN};function sN(){return"/"}function _w(r){return!!(r!==null&&typeof r=="object"&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&r.auth===void 0)}function oN(r){if(typeof r=="string")r=new URL(r);else if(!_w(r)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(r.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return aN(r)}function aN(r){if(r.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=r.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const n=e.codePointAt(t+2);if(n===70||n===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const nw=["history","path","basename","stem","extname","dirname"];class jE{constructor(e){let t;e?_w(e)?t={path:e}:typeof e=="string"||lN(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":rN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<nw.length;){const o=nw[n];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}let s;for(s in t)nw.includes(s)||(this[s]=t[s])}get basename(){return typeof this.path=="string"?Fr.basename(this.path):void 0}set basename(e){rw(e,"basename"),iw(e,"basename"),this.path=Fr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Fr.dirname(this.path):void 0}set dirname(e){o1(this.basename,"dirname"),this.path=Fr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Fr.extname(this.path):void 0}set extname(e){if(iw(e,"extname"),o1(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){_w(e)&&(e=oN(e)),rw(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Fr.basename(this.path,this.extname):void 0}set stem(e){rw(e,"stem"),iw(e,"stem"),this.path=Fr.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const s=this.message(e,t,n);throw s.fatal=!0,s}info(e,t,n){const s=this.message(e,t,n);return s.fatal=void 0,s}message(e,t,n){const s=new Ln(e,t,n);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function iw(r,e){if(r&&r.includes(Fr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Fr.sep+"`")}function rw(r,e){if(!r)throw new Error("`"+e+"` cannot be empty")}function o1(r,e){if(!r)throw new Error("Setting `"+e+"` requires `path` to be set too")}function lN(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const uN=(function(r){const n=this.constructor.prototype,s=n[r],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,n),o}),cN={}.hasOwnProperty;class uS extends uN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=KD()}copy(){const e=new uS;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(tw(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(aw("data",this.frozen),this.namespace[e]=t,this):cN.call(this.namespace,e)&&this.namespace[e]||void 0:e?(aw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const s=t.call(e,...n);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Ag(e),n=this.parser||this.Parser;return sw("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),sw("process",this.parser||this.Parser),ow("process",this.compiler||this.Compiler),t?s(void 0,t):new Promise(s);function s(o,l){const u=Ag(e),d=n.parse(u);n.run(d,u,function(p,m,y){if(p||!m||!y)return f(p);const w=m,b=n.stringify(w,y);fN(b)?y.value=b:y.result=b,f(p,y)});function f(p,m){p||!m?l(p):o?o(m):t(void 0,m)}}}processSync(e){let t=!1,n;return this.freeze(),sw("processSync",this.parser||this.Parser),ow("processSync",this.compiler||this.Compiler),this.process(e,s),l1("processSync","process",t),n;function s(o,l){t=!0,r1(o),n=l}}run(e,t,n){a1(e),this.freeze();const s=this.transformers;return!n&&typeof t=="function"&&(n=t,t=void 0),n?o(void 0,n):new Promise(o);function o(l,u){const d=Ag(t);s.run(e,d,f);function f(p,m,y){const w=m||e;p?u(p):l?l(w):n(void 0,w,y)}}}runSync(e,t){let n=!1,s;return this.run(e,t,o),l1("runSync","run",n),s;function o(l,u){r1(l),s=u,n=!0}}stringify(e,t){this.freeze();const n=Ag(t),s=this.compiler||this.Compiler;return ow("stringify",s),a1(e),s(e,n)}use(e,...t){const n=this.attachers,s=this.namespace;if(aw("use",this.frozen),e!=null)if(typeof e=="function")d(e,t);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(s.settings=tw(!0,s.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,y=-1;for(;++m<n.length;)if(n[m][0]===f){y=m;break}if(y===-1)n.push([f,...p]);else if(p.length>0){let[w,...b]=p;const A=n[y][1];Cw(A)&&Cw(w)&&(w=tw(!0,A,w)),n[y]=[f,w,...b]}}}}const hN=new uS().freeze();function sw(r,e){if(typeof e!="function")throw new TypeError("Cannot `"+r+"` without `parser`")}function ow(r,e){if(typeof e!="function")throw new TypeError("Cannot `"+r+"` without `compiler`")}function aw(r,e){if(e)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function a1(r){if(!Cw(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function l1(r,e,t){if(!t)throw new Error("`"+r+"` finished async. Use `"+e+"` instead")}function Ag(r){return dN(r)?r:new jE(r)}function dN(r){return!!(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function fN(r){return typeof r=="string"||pN(r)}function pN(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const gN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",u1=[],c1={allowDangerousHtml:!0},mN=/^(https?|ircs?|mailto|xmpp)$/i,yN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function vN(r){const e=r.allowedElements,t=r.allowElement,n=r.children||"",s=r.className,o=r.components,l=r.disallowedElements,u=r.rehypePlugins||u1,d=r.remarkPlugins||u1,f=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...c1}:c1,p=r.skipHtml,m=r.unwrapDisallowed,y=r.urlTransform||wN,w=hN().use(JM).use(d).use(qD,f).use(u),b=new jE;typeof n=="string"&&(b.value=n);for(const R of yN)Object.hasOwn(r,R.from)&&(""+R.from+(R.to?"use `"+R.to+"` instead":"remove it")+gN+R.id,void 0);const A=w.parse(b);let k=w.runSync(A,b);return s&&(k={type:"element",tagName:"div",properties:{className:s},children:k.type==="root"?k.children:[k]}),BE(k,E),RL(k,{Fragment:fe.Fragment,components:o,ignoreInvalidStyle:!0,jsx:fe.jsx,jsxs:fe.jsxs,passKeys:!0,passNode:!0});function E(R,P,D){if(R.type==="raw"&&D&&typeof P=="number")return p?D.children.splice(P,1):D.children[P]={type:"text",value:R.value},P;if(R.type==="element"){let F;for(F in Qv)if(Object.hasOwn(Qv,F)&&Object.hasOwn(R.properties,F)){const I=R.properties[F],O=Qv[F];(O===null||O.includes(R.tagName))&&(R.properties[F]=y(String(I||""),F,R))}}if(R.type==="element"){let F=e?!e.includes(R.tagName):l?l.includes(R.tagName):!1;if(!F&&t&&typeof P=="number"&&(F=!t(R,P,D)),F&&D&&typeof P=="number")return m&&R.children?D.children.splice(P,1,...R.children):D.children.splice(P,1),P}}}function wN(r){const e=r.indexOf(":"),t=r.indexOf("?"),n=r.indexOf("#"),s=r.indexOf("/");return e===-1||s!==-1&&e>s||t!==-1&&e>t||n!==-1&&e>n||mN.test(r.slice(0,e))?r:""}const jn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Tw=[.001,0,0,.001,0,0],lw=1.35,Ti={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ts={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},HE="pdfjs_internal_editor_",Fe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},UE={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},En={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},fd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Dt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},_u={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ip={ERRORS:0,WARNINGS:1,INFOS:5},md={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},bg={moveTo:0,lineTo:1,curveTo:2,closePath:3},$E={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Wm=ip.WARNINGS;function SN(r){Number.isInteger(r)&&(Wm=r)}function xN(){return Wm}function Gm(r){Wm>=ip.INFOS&&console.log(`Info: ${r}`)}function ze(r){Wm>=ip.WARNINGS&&console.log(`Warning: ${r}`)}function at(r){throw new Error(r)}function Ut(r,e){r||at(e)}function AN(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cS(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const s=r.match(/\./g);(s==null?void 0:s.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=_N(r)}catch{}}const n=e?URL.parse(r,e):URL.parse(r);return AN(n)?n:null}function hS(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&cS(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function qe(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Kl=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class h1 extends Kl{constructor(e,t){super(e,"PasswordException"),this.code=t}}class uw extends Kl{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class fm extends Kl{constructor(e){super(e,"InvalidPDFException")}}class yd extends Kl{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class bN extends Kl{constructor(e){super(e,"FormatError")}}class to extends Kl{constructor(e){super(e,"AbortException")}}function VE(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&at("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let s=0;s<e;s+=t){const o=Math.min(s+t,e),l=r.subarray(s,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function rp(r){typeof r!="string"&&at("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function EN(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function kN(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function CN(){try{return new Function(""),!0}catch{return!1}}class ln{static get isLittleEndian(){return qe(this,"isLittleEndian",kN())}static get isEvalSupported(){return qe(this,"isEvalSupported",CN())}static get isOffscreenCanvasSupported(){return qe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return qe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return qe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return qe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const cw=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Js,Dg,Pw;class Ce{static makeHexColor(e,t,n){return`#${cw[e]}${cw[t]}${cw[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const s=e[n],o=e[n+1];e[n]=s*t[0]+o*t[2]+t[4],e[n+1]=s*t[1]+o*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const s=t[0],o=t[1],l=t[2],u=t[3],d=t[4],f=t[5];for(let p=0;p<6;p+=2){const m=e[n+p],y=e[n+p+1];e[n+p]=m*s+y*l+d,e[n+p+1]=m*o+y*u+f}}static applyInverseTransform(e,t){const n=e[0],s=e[1],o=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/o,e[1]=(-n*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/o}static axialAlignedBoundingBox(e,t,n){const s=t[0],o=t[1],l=t[2],u=t[3],d=t[4],f=t[5],p=e[0],m=e[1],y=e[2],w=e[3];let b=s*p+d,A=b,k=s*y+d,E=k,R=u*m+f,P=R,D=u*w+f,F=D;if(o!==0||l!==0){const I=o*p,O=o*y,V=l*m,W=l*w;b+=V,E+=V,k+=W,A+=W,R+=I,F+=I,D+=O,P+=O}n[0]=Math.min(n[0],b,k,A,E),n[1]=Math.min(n[1],R,D,P,F),n[2]=Math.max(n[2],b,k,A,E),n[3]=Math.max(n[3],R,D,P,F)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],s=e[1],o=e[2],l=e[3],u=n**2+s**2,d=n*o+s*l,f=o**2+l**2,p=(u+f)/2,m=Math.sqrt(p**2-(u*f-d**2));t[0]=Math.sqrt(p+m||1),t[1]=Math.sqrt(p-m||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,s,l]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,s,o){o[0]=Math.min(o[0],e,n),o[1]=Math.min(o[1],t,s),o[2]=Math.max(o[2],e,n),o[3]=Math.max(o[3],t,s)}static bezierBoundingBox(e,t,n,s,o,l,u,d,f){f[0]=Math.min(f[0],e,u),f[1]=Math.min(f[1],t,d),f[2]=Math.max(f[2],e,u),f[3]=Math.max(f[3],t,d),_(this,Js,Pw).call(this,e,n,o,u,t,s,l,d,3*(-e+3*(n-o)+u),6*(e-2*n+o),3*(n-e),f),_(this,Js,Pw).call(this,e,n,o,u,t,s,l,d,3*(-t+3*(s-l)+d),6*(t-2*s+l),3*(s-t),f)}}Js=new WeakSet,Dg=function(e,t,n,s,o,l,u,d,f,p){if(f<=0||f>=1)return;const m=1-f,y=f*f,w=y*f,b=m*(m*(m*e+3*f*t)+3*y*n)+w*s,A=m*(m*(m*o+3*f*l)+3*y*u)+w*d;p[0]=Math.min(p[0],b),p[1]=Math.min(p[1],A),p[2]=Math.max(p[2],b),p[3]=Math.max(p[3],A)},Pw=function(e,t,n,s,o,l,u,d,f,p,m,y){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&_(this,Js,Dg).call(this,e,t,n,s,o,l,u,d,-m/p,y);return}const w=p**2-4*m*f;if(w<0)return;const b=Math.sqrt(w),A=2*f;_(this,Js,Dg).call(this,e,t,n,s,o,l,u,d,(-p+b)/A,y),_(this,Js,Dg).call(this,e,t,n,s,o,l,u,d,(-p-b)/A,y)},C(Ce,Js);function _N(r){return decodeURIComponent(escape(r))}let hw=null,d1=null;function WE(r){return hw||(hw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,d1=new Map([["","t"]])),r.replaceAll(hw,(e,t,n)=>t?t.normalize("NFKC"):d1.get(n))}function dS(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),VE(r)}const fS="pdfjs_internal_id_";function TN(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,s,...o]=t;if(!r(n)&&!Number.isInteger(n)||!e(s))return!1;const l=o.length;let u=!0;switch(s.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function Pn(r,e,t){return Math.min(Math.max(r,e),t)}function GE(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(VE(r))}function PN(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):rp(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});const ms="http://www.w3.org/2000/svg",Na=class Na{};le(Na,"CSS",96),le(Na,"PDF",72),le(Na,"PDF_TO_CSS_UNITS",Na.CSS/Na.PDF);let no=Na;async function eh(r,e="text"){if(Wh(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class sp{constructor({viewBox:e,userUnit:t,scale:n,rotation:s,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=s,this.offsetX=o,this.offsetY=l,n*=t;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,m,y,w;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,m=0,y=0,w=1;break;case 90:p=0,m=1,y=1,w=0;break;case 270:p=0,m=-1,y=-1,w=0;break;case 0:p=1,m=0,y=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(y=-y,w=-w);let b,A,k,E;p===0?(b=Math.abs(f-e[1])*n+o,A=Math.abs(d-e[0])*n+l,k=(e[3]-e[1])*n,E=(e[2]-e[0])*n):(b=Math.abs(d-e[0])*n+o,A=Math.abs(f-e[1])*n+l,k=(e[2]-e[0])*n,E=(e[3]-e[1])*n),this.transform=[p*n,m*n,y*n,w*n,b-p*n*d-y*n*f,A-m*n*d-w*n*f],this.width=k,this.height=E}get rawDims(){const e=this.viewBox;return qe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new sp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}convertToViewportPoint(e,t){const n=[e,t];return Ce.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Ce.applyTransform(t,this.transform);const n=[e[2],e[3]];return Ce.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Ce.applyInverseTransform(n,this.transform),n}}class qm extends Kl{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function op(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function Xm(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function qE(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function XE(r,e="document.pdf"){if(typeof r!="string")return e;if(op(r))return ze('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const s=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return s(l);if(n.searchParams.size>0){const u=Array.from(n.searchParams.values()).reverse();for(const f of u)if(o.test(f))return s(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return s(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return s(d[0])}return e}class f1{constructor(){le(this,"started",Object.create(null));le(this,"times",[])}time(e){e in this.started&&ze(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ze(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-s}ms
`);return e.join("")}}function Wh(r,e){const t=e?URL.parse(r,e):URL.parse(r);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Ji(r){r.preventDefault()}function Ot(r){r.preventDefault(),r.stopPropagation()}function RN(r){console.log("Deprecated API usage: "+r)}var bd;class Ym{static toDateObject(e){if(!e||typeof e!="string")return null;c(this,bd)||x(this,bd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=c(this,bd).exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(t[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const f=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(t[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(l+=p,u+=m):f==="+"&&(l-=p,u-=m),new Date(Date.UTC(n,s,o,l,u,d))}}bd=new WeakMap,C(Ym,bd);function YE(r,{scale:e=1,rotation:t=0}){const{width:n,height:s}=r.attributes.style,o=[0,0,parseInt(n),parseInt(s)];return new sp({viewBox:o,userUnit:1,scale:e,rotation:t})}function pS(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ze(`Not a valid color format: "${r}"`),[0,0,0])}function LN(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,pS(n))}e.remove()}function _t(r){const{a:e,b:t,c:n,d:s,e:o,f:l}=r.getTransform();return[e,t,n,s,o,l]}function Mr(r){const{a:e,b:t,c:n,d:s,e:o,f:l}=r.getTransform().invertSelf();return[e,t,n,s,o,l]}function ca(r,e,t=!1,n=!0){if(e instanceof sp){const{pageWidth:s,pageHeight:o}=e.rawDims,{style:l}=r,u=ln.isCSSRoundSupported,d=`var(--total-scale-factor) * ${s}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Ar{constructor(){const{pixelRatio:e}=Ar;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,s,o=-1){let l=1/0,u=1/0,d=1/0;n=Ar.capPixels(n,o),n>0&&(l=Math.sqrt(n/(e*t))),s!==-1&&(u=s/e,d=s/t);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const pm=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var _o,Oa,Ui,To,Ed,$u,kd,xm,KE,Hn,QE,JE,Gh,Ng;const ws=class ws{constructor(e){C(this,Hn);C(this,_o,null);C(this,Oa,null);C(this,Ui);C(this,To,null);C(this,Ed,null);C(this,$u,null);x(this,Ui,e),c(ws,kd)||x(ws,kd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=x(this,_o,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=c(this,Ui)._uiManager._signal;e.addEventListener("contextmenu",Ji,{signal:t}),e.addEventListener("pointerdown",_(ws,xm,KE),{signal:t});const n=x(this,To,document.createElement("div"));n.className="buttons",e.append(n);const s=c(this,Ui).toolbarPosition;if(s){const{style:o}=e,l=c(this,Ui)._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return c(this,_o)}hide(){var e;c(this,_o).classList.add("hidden"),(e=c(this,Oa))==null||e.hideDropdown()}show(){var e;c(this,_o).classList.remove("hidden"),(e=c(this,Ed))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=c(this,Ui),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",c(ws,kd)[e]),_(this,Hn,Gh).call(this,n),n.addEventListener("click",s=>{t.delete()},{signal:t._signal}),c(this,To).append(n)}async addAltText(e){const t=await e.render();_(this,Hn,Gh).call(this,t),c(this,To).append(t,c(this,Hn,Ng)),x(this,Ed,e)}addColorPicker(e){x(this,Oa,e);const t=e.renderButton();_(this,Hn,Gh).call(this,t),c(this,To).append(t,c(this,Hn,Ng))}async addEditSignatureButton(e){const t=x(this,$u,await e.renderEditButton(c(this,Ui)));_(this,Hn,Gh).call(this,t),c(this,To).append(t,c(this,Hn,Ng))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){c(this,$u)&&(c(this,$u).title=e)}remove(){var e;c(this,_o).remove(),(e=c(this,Oa))==null||e.destroy(),x(this,Oa,null)}};_o=new WeakMap,Oa=new WeakMap,Ui=new WeakMap,To=new WeakMap,Ed=new WeakMap,$u=new WeakMap,kd=new WeakMap,xm=new WeakSet,KE=function(e){e.stopPropagation()},Hn=new WeakSet,QE=function(e){c(this,Ui)._focusEventsAllowed=!1,Ot(e)},JE=function(e){c(this,Ui)._focusEventsAllowed=!0,Ot(e)},Gh=function(e){const t=c(this,Ui)._uiManager._signal;e.addEventListener("focusin",_(this,Hn,QE).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",_(this,Hn,JE).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ji,{signal:t})},Ng=function(){const e=document.createElement("div");return e.className="divider",e},C(ws,xm),C(ws,kd,null);let Rw=ws;var Cd,za,Ba,da,ZE,ek,tk;class IN{constructor(e){C(this,da);C(this,Cd,null);C(this,za,null);C(this,Ba);x(this,Ba,e)}show(e,t,n){const[s,o]=_(this,da,ek).call(this,t,n),{style:l}=c(this,za)||x(this,za,_(this,da,ZE).call(this));e.append(c(this,za)),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,za).remove()}}Cd=new WeakMap,za=new WeakMap,Ba=new WeakMap,da=new WeakSet,ZE=function(){const e=x(this,za,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ji,{signal:c(this,Ba)._signal});const t=x(this,Cd,document.createElement("div"));return t.className="buttons",e.append(t),_(this,da,tk).call(this),e},ek=function(e,t){let n=0,s=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const u=o.x+(t?o.width:0);if(l>n){s=u,n=l;continue}t?u>s&&(s=u):u<s&&(s=u)}return[t?1-s:s,n]},tk=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=c(this,Ba)._signal;e.addEventListener("contextmenu",Ji,{signal:n}),e.addEventListener("click",()=>{c(this,Ba).highlightSelection("floating_button")},{signal:n}),c(this,Cd).append(e)};function nk(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var Am;class MN{constructor(){C(this,Am,0)}get id(){return`${HE}${Dn(this,Am)._++}`}}Am=new WeakMap;var Vu,_d,Cn,Wu,Fg;const CS=class CS{constructor(){C(this,Wu);C(this,Vu,dS());C(this,_d,0);C(this,Cn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const o=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return qe(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:s,type:o}=e;return _(this,Wu,Fg).call(this,`${t}_${n}_${s}_${o}`,e)}async getFromUrl(e){return _(this,Wu,Fg).call(this,e,e)}async getFromBlob(e,t){const n=await t;return _(this,Wu,Fg).call(this,e,n)}async getFromId(e){c(this,Cn)||x(this,Cn,new Map);const t=c(this,Cn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){c(this,Cn)||x(this,Cn,new Map);let n=c(this,Cn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${c(this,Vu)}_${Dn(this,_d)._++}`,refCounter:1,isSvg:!1},c(this,Cn).set(e,n),c(this,Cn).set(n.id,n),n}getSvgUrl(e){const t=c(this,Cn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;c(this,Cn)||x(this,Cn,new Map);const t=c(this,Cn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(s=n.close)==null||s.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,Vu)}_`)}};Vu=new WeakMap,_d=new WeakMap,Cn=new WeakMap,Wu=new WeakSet,Fg=async function(e,t){c(this,Cn)||x(this,Cn,new Map);let n=c(this,Cn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${c(this,Vu)}_${Dn(this,_d)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(n.url=t,s=await eh(t,"blob")):t instanceof File?s=n.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const o=CS._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,f()},l.onload=async()=>{const m=n.svgUrl=l.result;u.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=l.onerror=p});l.readAsDataURL(s),await d}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){ze(s),n=null}return c(this,Cn).set(e,n),n&&c(this,Cn).set(n.id,n),n};let Lw=CS;var Nt,Po,Td,Ct;class DN{constructor(e=128){C(this,Nt,[]);C(this,Po,!1);C(this,Td);C(this,Ct,-1);x(this,Td,e)}add({cmd:e,undo:t,post:n,mustExec:s,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(s&&e(),c(this,Po))return;const d={cmd:e,undo:t,post:n,type:o};if(c(this,Ct)===-1){c(this,Nt).length>0&&(c(this,Nt).length=0),x(this,Ct,0),c(this,Nt).push(d);return}if(l&&c(this,Nt)[c(this,Ct)].type===o){u&&(d.undo=c(this,Nt)[c(this,Ct)].undo),c(this,Nt)[c(this,Ct)]=d;return}const f=c(this,Ct)+1;f===c(this,Td)?c(this,Nt).splice(0,1):(x(this,Ct,f),f<c(this,Nt).length&&c(this,Nt).splice(f)),c(this,Nt).push(d)}undo(){if(c(this,Ct)===-1)return;x(this,Po,!0);const{undo:e,post:t}=c(this,Nt)[c(this,Ct)];e(),t==null||t(),x(this,Po,!1),x(this,Ct,c(this,Ct)-1)}redo(){if(c(this,Ct)<c(this,Nt).length-1){x(this,Ct,c(this,Ct)+1),x(this,Po,!0);const{cmd:e,post:t}=c(this,Nt)[c(this,Ct)];e(),t==null||t(),x(this,Po,!1)}}hasSomethingToUndo(){return c(this,Ct)!==-1}hasSomethingToRedo(){return c(this,Ct)<c(this,Nt).length-1}cleanType(e){if(c(this,Ct)!==-1){for(let t=c(this,Ct);t>=0;t--)if(c(this,Nt)[t].type!==e){c(this,Nt).splice(t+1,c(this,Ct)-t),x(this,Ct,t);return}c(this,Nt).length=0,x(this,Ct,-1)}}destroy(){x(this,Nt,null)}}Nt=new WeakMap,Po=new WeakMap,Td=new WeakMap,Ct=new WeakMap;var bm,ik;class ap{constructor(e){C(this,bm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ln.platform;for(const[n,s,o={}]of e)for(const l of n){const u=l.startsWith("mac+");t&&u?(this.callbacks.set(l.slice(4),{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!u&&(this.callbacks.set(l,{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(_(this,bm,ik).call(this,t));if(!n)return;const{callback:s,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(e,t)||(s.bind(e,...l,t)(),o||Ot(t))}}bm=new WeakSet,ik=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Em=class Em{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return LN(e),qe(this,"_colors",e)}convert(e){const t=pS(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((o,l)=>o===t[l]))return Em._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ce.makeHexColor(...t):e}};le(Em,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Iw=Em;var Gu,pi,Xt,fn,qu,xs,Xu,$i,Ro,Lo,Yu,ja,Or,lr,Ha,Pd,Rd,Ku,Ld,zr,Io,Qu,Mo,Br,km,Do,Id,No,Ua,$a,Fo,Md,en,rt,As,Oo,Va,Dd,Nd,zo,jr,bs,Fd,Od,Vi,de,Og,Mw,rk,sk,zg,ok,ak,lk,Dw,uk,Nw,Fw,ck,Nn,ys,hk,dk,Ow,fk,qh,zw;const Nu=class Nu{constructor(e,t,n,s,o,l,u,d,f,p,m,y,w,b,A){C(this,de);C(this,Gu,new AbortController);C(this,pi,null);C(this,Xt,new Map);C(this,fn,new Map);C(this,qu,null);C(this,xs,null);C(this,Xu,null);C(this,$i,new DN);C(this,Ro,null);C(this,Lo,null);C(this,Yu,0);C(this,ja,new Set);C(this,Or,null);C(this,lr,null);C(this,Ha,new Set);le(this,"_editorUndoBar",null);C(this,Pd,!1);C(this,Rd,!1);C(this,Ku,!1);C(this,Ld,null);C(this,zr,null);C(this,Io,null);C(this,Qu,null);C(this,Mo,!1);C(this,Br,null);C(this,km,new MN);C(this,Do,!1);C(this,Id,!1);C(this,No,null);C(this,Ua,null);C(this,$a,null);C(this,Fo,null);C(this,Md,null);C(this,en,Fe.NONE);C(this,rt,new Set);C(this,As,null);C(this,Oo,null);C(this,Va,null);C(this,Dd,null);C(this,Nd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,zo,[0,0]);C(this,jr,null);C(this,bs,null);C(this,Fd,null);C(this,Od,null);C(this,Vi,null);const k=this._signal=c(this,Gu).signal;x(this,bs,e),x(this,Fd,t),x(this,Od,n),x(this,qu,s),x(this,Oo,o),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:k}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:k}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:k}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:k}),l._on("setpreference",this.onSetPreference.bind(this),{signal:k}),l._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:k}),_(this,de,ok).call(this),_(this,de,ck).call(this),_(this,de,Dw).call(this),x(this,xs,u.annotationStorage),x(this,Ld,u.filterFactory),x(this,Va,d),x(this,Qu,f||null),x(this,Pd,p),x(this,Rd,m),x(this,Ku,y),x(this,Md,w||null),this.viewParameters={realScale:no.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=A!==!1}static get _keyboardManager(){const e=Nu.prototype,t=l=>c(l,bs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return qe(this,"_keyboardManager",new ap([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&c(l,bs).contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&c(l,bs).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,s,o,l,u,d;(e=c(this,Vi))==null||e.resolve(),x(this,Vi,null),(t=c(this,Gu))==null||t.abort(),x(this,Gu,null),this._signal=null;for(const f of c(this,fn).values())f.destroy();c(this,fn).clear(),c(this,Xt).clear(),c(this,Ha).clear(),(n=c(this,Fo))==null||n.clear(),x(this,pi,null),c(this,rt).clear(),c(this,$i).destroy(),(s=c(this,qu))==null||s.destroy(),(o=c(this,Oo))==null||o.destroy(),(l=c(this,Br))==null||l.hide(),x(this,Br,null),(u=c(this,$a))==null||u.destroy(),x(this,$a,null),c(this,zr)&&(clearTimeout(c(this,zr)),x(this,zr,null)),c(this,jr)&&(clearTimeout(c(this,jr)),x(this,jr,null)),(d=this._editorUndoBar)==null||d.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,Md)}get useNewAltTextFlow(){return c(this,Rd)}get useNewAltTextWhenAddingImage(){return c(this,Ku)}get hcmFilter(){return qe(this,"hcmFilter",c(this,Va)?c(this,Ld).addHCMFilter(c(this,Va).foreground,c(this,Va).background):"none")}get direction(){return qe(this,"direction",getComputedStyle(c(this,bs)).direction)}get highlightColors(){return qe(this,"highlightColors",c(this,Qu)?new Map(c(this,Qu).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return qe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),x(this,Lo,e)}setMainHighlightColorPicker(e){x(this,$a,e)}editAltText(e,t=!1){var n;(n=c(this,qu))==null||n.editAltText(this,e,t)}getSignature(e){var t;(t=c(this,Oo))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return c(this,Oo)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":x(this,Ku,t);break}}onPageChanging({pageNumber:e}){x(this,Yu,e-1)}focusMainContainer(){c(this,bs).focus()}findParent(e,t){for(const n of c(this,fn).values()){const{x:s,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(e>=s&&e<=s+l&&t>=o&&t<=o+u)return n}return null}disableUserSelect(e=!1){c(this,Fd).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,Ha).add(e)}removeShouldRescale(e){c(this,Ha).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*no.PDF_TO_CSS_UNITS;for(const n of c(this,Ha))n.onScaleChanging();(t=c(this,Lo))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l}=t,u=t.toString(),f=_(this,de,Og).call(this,t).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;t.empty();const m=_(this,de,Mw).call(this,f),y=c(this,en)===Fe.NONE,w=()=>{m==null||m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l,text:u}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Fe.HIGHLIGHT,w);return}w()}addToAnnotationStorage(e){!e.isEmpty()&&c(this,xs)&&!c(this,xs).has(e.id)&&c(this,xs).setValue(e.id,e)}a11yAlert(e,t=null){const n=c(this,Od);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,c(this,Mo)&&(x(this,Mo,!1),_(this,de,zg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,rt))if(t.div.contains(e)){x(this,Ua,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Ua))return;const[e,t]=c(this,Ua);x(this,Ua,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){_(this,de,Dw).call(this),_(this,de,Nw).call(this)}removeEditListeners(){_(this,de,uk).call(this),_(this,de,Fw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of c(this,lr))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of c(this,lr))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=c(this,pi))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of c(this,rt)){const o=s.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of c(this,lr))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){ze(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const d of n){const f=await s.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)_(this,de,Ow).call(this,d);_(this,de,zw).call(this,o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){ze(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,en)!==Fe.NONE&&!this.isEditorHandlingKeyboard&&Nu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Mo)&&(x(this,Mo,!1),_(this,de,zg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,de,ak).call(this),_(this,de,Nw).call(this),_(this,de,Nn).call(this,{isEditing:c(this,en)!==Fe.NONE,isEmpty:_(this,de,qh).call(this),hasSomethingToUndo:c(this,$i).hasSomethingToUndo(),hasSomethingToRedo:c(this,$i).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,de,lk).call(this),_(this,de,Fw).call(this),_(this,de,Nn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,lr)){x(this,lr,e);for(const t of c(this,lr))_(this,de,ys).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,km).id}get currentLayer(){return c(this,fn).get(c(this,Yu))}getLayer(e){return c(this,fn).get(e)}get currentPageIndex(){return c(this,Yu)}addLayer(e){c(this,fn).set(e.pageIndex,e),c(this,Do)?e.enable():e.disable()}removeLayer(e){c(this,fn).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,s=!1){var o,l,u;if(c(this,en)!==e&&!(c(this,Vi)&&(await c(this,Vi).promise,!c(this,Vi)))){if(x(this,Vi,Promise.withResolvers()),(o=c(this,Lo))==null||o.commitOrRemove(),x(this,en,e),e===Fe.NONE){this.setEditingState(!1),_(this,de,dk).call(this),(l=this._editorUndoBar)==null||l.hide(),c(this,Vi).resolve();return}e===Fe.SIGNATURE&&await((u=c(this,Oo))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await _(this,de,hk).call(this),this.unselectAll();for(const d of c(this,fn).values())d.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),c(this,Vi).resolve();return}for(const d of c(this,Xt).values())d.annotationElementId===t||d.id===t?(this.setSelected(d),s&&d.enterInEditMode()):d.unselect();c(this,Vi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==c(this,en)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var n;if(c(this,lr)){switch(e){case Xe.CREATE:this.currentLayer.addNewEditor(t);return;case Xe.HIGHLIGHT_DEFAULT_COLOR:(n=c(this,$a))==null||n.updateColor(t);break;case Xe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Dd)||x(this,Dd,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of c(this,rt))s.updateParams(e,t);for(const s of c(this,lr))s.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of c(this,Xt).values())l.editorType===e&&l.show(t);(((o=c(this,Dd))==null?void 0:o.get(Xe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,de,ys).call(this,[[Xe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,Id)!==e){x(this,Id,e);for(const t of c(this,fn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of c(this,Xt).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return c(this,Xt).get(e)}addEditor(e){c(this,Xt).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(c(this,zr)&&clearTimeout(c(this,zr)),x(this,zr,setTimeout(()=>{this.focusMainContainer(),x(this,zr,null)},0))),c(this,Xt).delete(e.id),e.annotationElementId&&((t=c(this,Fo))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!c(this,ja).has(e.annotationElementId))&&((n=c(this,xs))==null||n.remove(e.id))}addDeletedAnnotationElement(e){c(this,ja).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,ja).has(e)}removeDeletedAnnotationElement(e){c(this,ja).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,pi)!==e&&(x(this,pi,e),e&&_(this,de,ys).call(this,e.propertiesToUpdate))}updateUI(e){c(this,de,fk)===e&&_(this,de,ys).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){_(this,de,ys).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(c(this,rt).has(e)){c(this,rt).delete(e),e.unselect(),_(this,de,Nn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,rt).add(e),e.select(),_(this,de,ys).call(this,e.propertiesToUpdate),_(this,de,Nn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=c(this,Lo))==null||t.commitOrRemove();for(const n of c(this,rt))n!==e&&n.unselect();c(this,rt).clear(),c(this,rt).add(e),e.select(),_(this,de,ys).call(this,e.propertiesToUpdate),_(this,de,Nn).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,rt).has(e)}get firstSelectedEditor(){return c(this,rt).values().next().value}unselect(e){e.unselect(),c(this,rt).delete(e),_(this,de,Nn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,rt).size!==0}get isEnterHandled(){return c(this,rt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;c(this,$i).undo(),_(this,de,Nn).call(this,{hasSomethingToUndo:c(this,$i).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,de,qh).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){c(this,$i).redo(),_(this,de,Nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,$i).hasSomethingToRedo(),isEmpty:_(this,de,qh).call(this)})}addCommands(e){c(this,$i).add(e),_(this,de,Nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,de,qh).call(this)})}cleanUndoStack(e){c(this,$i).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...c(this,rt)],n=()=>{var l;(l=this._editorUndoBar)==null||l.show(s,t.length===1?t[0].editorType:t.length);for(const u of t)u.remove()},s=()=>{for(const l of t)_(this,de,Ow).call(this,l)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=c(this,pi))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,pi)||this.hasSelection}selectAll(){for(const e of c(this,rt))e.commit();_(this,de,zw).call(this,c(this,Xt).values())}unselectAll(){var e;if(!(c(this,pi)&&(c(this,pi).commitOrRemove(),c(this,en)!==Fe.NONE))&&!((e=c(this,Lo))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of c(this,rt))t.unselect();c(this,rt).clear(),_(this,de,Nn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;c(this,zo)[0]+=e,c(this,zo)[1]+=t;const[s,o]=c(this,zo),l=[...c(this,rt)],u=1e3;c(this,jr)&&clearTimeout(c(this,jr)),x(this,jr,setTimeout(()=>{x(this,jr,null),c(this,zo)[0]=c(this,zo)[1]=0,this.addCommands({cmd:()=>{for(const d of l)c(this,Xt).has(d.id)&&(d.translateInPage(s,o),d.translationDone())},undo:()=>{for(const d of l)c(this,Xt).has(d.id)&&(d.translateInPage(-s,-o),d.translationDone())},mustExec:!1})},u));for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(this,Or,new Map);for(const e of c(this,rt))c(this,Or).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Or))return!1;this.disableUserSelect(!1);const e=c(this,Or);x(this,Or,null);let t=!1;for(const[{x:s,y:o,pageIndex:l},u]of e)u.newX=s,u.newY=o,u.newPageIndex=l,t||(t=s!==u.savedX||o!==u.savedY||l!==u.savedPageIndex);if(!t)return!1;const n=(s,o,l,u)=>{if(c(this,Xt).has(s.id)){const d=c(this,fn).get(u);d?s._setParentAndPosition(d,o,l):(s.pageIndex=u,s.x=o,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:l,newPageIndex:u}]of e)n(s,o,l,u)},undo:()=>{for(const[s,{savedX:o,savedY:l,savedPageIndex:u}]of e)n(s,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Or))for(const n of c(this,Or).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,rt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,pi)===e}getActive(){return c(this,pi)}getMode(){return c(this,en)}get imageManager(){return qe(this,"imageManager",new Lw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,p=t.rangeCount;f<p;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:s,width:o,height:l}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(f,p,m,y)=>({x:(p-s)/l,y:1-(f+m-n)/o,width:y/l,height:m/o});break;case"180":u=(f,p,m,y)=>({x:1-(f+m-n)/o,y:1-(p+y-s)/l,width:m/o,height:y/l});break;case"270":u=(f,p,m,y)=>({x:1-(p+y-s)/l,y:(f-n)/o,width:y/l,height:m/o});break;default:u=(f,p,m,y)=>({x:(f-n)/o,y:(p-s)/l,width:m/o,height:y/l});break}const d=[];for(let f=0,p=t.rangeCount;f<p;f++){const m=t.getRangeAt(f);if(!m.collapsed)for(const{x:y,y:w,width:b,height:A}of m.getClientRects())b===0||A===0||d.push(u(y,w,b,A))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,Xu)||x(this,Xu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,Xu))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=c(this,Xu))==null?void 0:s.get(e.data.id);if(!t)return;const n=c(this,xs).getRawValue(t);n&&(c(this,en)===Fe.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var o;const s=(o=c(this,Fo))==null?void 0:o.get(e);s&&(s.setCanvas(t,n),c(this,Fo).delete(e))}addMissingCanvas(e,t){(c(this,Fo)||x(this,Fo,new Map)).set(e,t)}};Gu=new WeakMap,pi=new WeakMap,Xt=new WeakMap,fn=new WeakMap,qu=new WeakMap,xs=new WeakMap,Xu=new WeakMap,$i=new WeakMap,Ro=new WeakMap,Lo=new WeakMap,Yu=new WeakMap,ja=new WeakMap,Or=new WeakMap,lr=new WeakMap,Ha=new WeakMap,Pd=new WeakMap,Rd=new WeakMap,Ku=new WeakMap,Ld=new WeakMap,zr=new WeakMap,Io=new WeakMap,Qu=new WeakMap,Mo=new WeakMap,Br=new WeakMap,km=new WeakMap,Do=new WeakMap,Id=new WeakMap,No=new WeakMap,Ua=new WeakMap,$a=new WeakMap,Fo=new WeakMap,Md=new WeakMap,en=new WeakMap,rt=new WeakMap,As=new WeakMap,Oo=new WeakMap,Va=new WeakMap,Dd=new WeakMap,Nd=new WeakMap,zo=new WeakMap,jr=new WeakMap,bs=new WeakMap,Fd=new WeakMap,Od=new WeakMap,Vi=new WeakMap,de=new WeakSet,Og=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Mw=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of c(this,fn).values())if(n.hasTextLayer(e))return n;return null},rk=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=_(this,de,Og).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(c(this,Br)||x(this,Br,new IN(this)),c(this,Br).show(n,s,this.direction==="ltr"))},sk=function(){var o,l,u;const e=document.getSelection();if(!e||e.isCollapsed){c(this,As)&&((o=c(this,Br))==null||o.hide(),x(this,As,null),_(this,de,Nn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,As))return;const s=_(this,de,Og).call(this,e).closest(".textLayer");if(!s){c(this,As)&&((l=c(this,Br))==null||l.hide(),x(this,As,null),_(this,de,Nn).call(this,{hasSelectedText:!1}));return}if((u=c(this,Br))==null||u.hide(),x(this,As,t),_(this,de,Nn).call(this,{hasSelectedText:!0}),!(c(this,en)!==Fe.HIGHLIGHT&&c(this,en)!==Fe.NONE)&&(c(this,en)===Fe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(this,Mo,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=c(this,en)===Fe.HIGHLIGHT?_(this,de,Mw).call(this,s):null;d==null||d.toggleDrawing();const f=new AbortController,p=this.combinedSignal(f),m=y=>{y.type==="pointerup"&&y.button!==0||(f.abort(),d==null||d.toggleDrawing(!0),y.type==="pointerup"&&_(this,de,zg).call(this,"main_toolbar"))};window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("blur",m,{signal:p})}},zg=function(e=""){c(this,en)===Fe.HIGHLIGHT?this.highlightSelection(e):c(this,Pd)&&_(this,de,rk).call(this)},ok=function(){document.addEventListener("selectionchange",_(this,de,sk).bind(this),{signal:this._signal})},ak=function(){if(c(this,Io))return;x(this,Io,new AbortController);const e=this.combinedSignal(c(this,Io));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},lk=function(){var e;(e=c(this,Io))==null||e.abort(),x(this,Io,null)},Dw=function(){if(c(this,No))return;x(this,No,new AbortController);const e=this.combinedSignal(c(this,No));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},uk=function(){var e;(e=c(this,No))==null||e.abort(),x(this,No,null)},Nw=function(){if(c(this,Ro))return;x(this,Ro,new AbortController);const e=this.combinedSignal(c(this,Ro));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Fw=function(){var e;(e=c(this,Ro))==null||e.abort(),x(this,Ro,null)},ck=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Nn=function(e){Object.entries(e).some(([n,s])=>c(this,Nd)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Nd),e)}),c(this,en)===Fe.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,de,ys).call(this,[[Xe.HIGHLIGHT_FREE,!0]]))},ys=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},hk=async function(){if(!c(this,Do)){x(this,Do,!0);const e=[];for(const t of c(this,fn).values())e.push(t.enable());await Promise.all(e);for(const t of c(this,Xt).values())t.enable()}},dk=function(){if(this.unselectAll(),c(this,Do)){x(this,Do,!1);for(const e of c(this,fn).values())e.disable();for(const e of c(this,Xt).values())e.disable()}},Ow=function(e){const t=c(this,fn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},fk=function(){let e=null;for(e of c(this,rt));return e},qh=function(){if(c(this,Xt).size===0)return!0;if(c(this,Xt).size===1)for(const e of c(this,Xt).values())return e.isEmpty();return!1},zw=function(e){for(const t of c(this,rt))t.unselect();c(this,rt).clear();for(const t of e)t.isEmpty()||(c(this,rt).add(t),t.select());_(this,de,Nn).call(this,{hasSelectedEditor:this.hasSelection})},le(Nu,"TRANSLATE_SMALL",1),le(Nu,"TRANSLATE_BIG",10);let ha=Nu;var tn,Hr,ur,Ju,Ur,gi,Zu,$r,ei,Es,Wa,Vr,Bo,Sr,Xh,Bg;const Fn=class Fn{constructor(e){C(this,Sr);C(this,tn,null);C(this,Hr,!1);C(this,ur,null);C(this,Ju,null);C(this,Ur,null);C(this,gi,null);C(this,Zu,!1);C(this,$r,null);C(this,ei,null);C(this,Es,null);C(this,Wa,null);C(this,Vr,!1);x(this,ei,e),x(this,Vr,e._uiManager.useNewAltTextFlow),c(Fn,Bo)||x(Fn,Bo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Fn._l10n??(Fn._l10n=e)}async render(){const e=x(this,ur,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=x(this,Ju,document.createElement("span"));e.append(t),c(this,Vr)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(Fn,Bo).missing),t.setAttribute("data-l10n-id",c(Fn,Bo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=c(this,ei)._uiManager._signal;e.addEventListener("contextmenu",Ji,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),c(this,ei)._uiManager.editAltText(c(this,ei)),c(this,Vr)&&c(this,ei)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,Sr,Xh)}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(x(this,Zu,!0),s(o))},{signal:n}),await _(this,Sr,Bg).call(this),e}finish(){c(this,ur)&&(c(this,ur).focus({focusVisible:c(this,Zu)}),x(this,Zu,!1))}isEmpty(){return c(this,Vr)?c(this,tn)===null:!c(this,tn)&&!c(this,Hr)}hasData(){return c(this,Vr)?c(this,tn)!==null||!!c(this,Es):this.isEmpty()}get guessedText(){return c(this,Es)}async setGuessedText(e){c(this,tn)===null&&(x(this,Es,e),x(this,Wa,await Fn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),_(this,Sr,Bg).call(this))}toggleAltTextBadge(e=!1){var t;if(!c(this,Vr)||c(this,tn)){(t=c(this,$r))==null||t.remove(),x(this,$r,null);return}if(!c(this,$r)){const n=x(this,$r,document.createElement("div"));n.className="noAltTextBadge",c(this,ei).div.append(n)}c(this,$r).classList.toggle("hidden",!e)}serialize(e){let t=c(this,tn);return!e&&c(this,Es)===t&&(t=c(this,Wa)),{altText:t,decorative:c(this,Hr),guessedText:c(this,Es),textWithDisclaimer:c(this,Wa)}}get data(){return{altText:c(this,tn),decorative:c(this,Hr)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:s,cancel:o=!1}){n&&(x(this,Es,n),x(this,Wa,s)),!(c(this,tn)===e&&c(this,Hr)===t)&&(o||(x(this,tn,e),x(this,Hr,t)),_(this,Sr,Bg).call(this))}toggle(e=!1){c(this,ur)&&(!e&&c(this,gi)&&(clearTimeout(c(this,gi)),x(this,gi,null)),c(this,ur).disabled=!e)}shown(){c(this,ei)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,Sr,Xh)}})}destroy(){var e,t;(e=c(this,ur))==null||e.remove(),x(this,ur,null),x(this,Ju,null),x(this,Ur,null),(t=c(this,$r))==null||t.remove(),x(this,$r,null)}};tn=new WeakMap,Hr=new WeakMap,ur=new WeakMap,Ju=new WeakMap,Ur=new WeakMap,gi=new WeakMap,Zu=new WeakMap,$r=new WeakMap,ei=new WeakMap,Es=new WeakMap,Wa=new WeakMap,Vr=new WeakMap,Bo=new WeakMap,Sr=new WeakSet,Xh=function(){return c(this,tn)&&"added"||c(this,tn)===null&&this.guessedText&&"review"||"missing"},Bg=async function(){var s,o,l;const e=c(this,ur);if(!e)return;if(c(this,Vr)){if(e.classList.toggle("done",!!c(this,tn)),e.setAttribute("data-l10n-id",c(Fn,Bo)[c(this,Sr,Xh)]),(s=c(this,Ju))==null||s.setAttribute("data-l10n-id",c(Fn,Bo)[`${c(this,Sr,Xh)}-label`]),!c(this,tn)){(o=c(this,Ur))==null||o.remove();return}}else{if(!c(this,tn)&&!c(this,Hr)){e.classList.remove("done"),(l=c(this,Ur))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=c(this,Ur);if(!t){x(this,Ur,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${c(this,ei).id}`;const u=100,d=c(this,ei)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(c(this,gi)),x(this,gi,null)},{once:!0}),e.addEventListener("mouseenter",()=>{x(this,gi,setTimeout(()=>{x(this,gi,null),c(this,Ur).classList.add("show"),c(this,ei)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:d}),e.addEventListener("mouseleave",()=>{var f;c(this,gi)&&(clearTimeout(c(this,gi)),x(this,gi,null)),(f=c(this,Ur))==null||f.classList.remove("show")},{signal:d})}c(this,Hr)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=c(this,tn)),t.parentNode||e.append(t);const n=c(this,ei).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},C(Fn,Bo,null),le(Fn,"_l10n",null);let gm=Fn;var ec,Ga,zd,Bd,jd,Hd,Ud,ks,qa,Cs,Xa,_s,fa,pk,gk,mk;const _S=class _S{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){C(this,fa);C(this,ec);C(this,Ga,!1);C(this,zd,null);C(this,Bd);C(this,jd);C(this,Hd);C(this,Ud);C(this,ks,null);C(this,qa);C(this,Cs,null);C(this,Xa);C(this,_s,null);x(this,ec,e),x(this,zd,n),x(this,Bd,t),x(this,jd,s),x(this,Hd,o),x(this,Ud,l),x(this,Xa,new AbortController),x(this,qa,AbortSignal.any([u,c(this,Xa).signal])),e.addEventListener("touchstart",_(this,fa,pk).bind(this),{passive:!1,signal:c(this,qa)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ar.pixelRatio}destroy(){var e,t;(e=c(this,Xa))==null||e.abort(),x(this,Xa,null),(t=c(this,ks))==null||t.abort(),x(this,ks,null)}};ec=new WeakMap,Ga=new WeakMap,zd=new WeakMap,Bd=new WeakMap,jd=new WeakMap,Hd=new WeakMap,Ud=new WeakMap,ks=new WeakMap,qa=new WeakMap,Cs=new WeakMap,Xa=new WeakMap,_s=new WeakMap,fa=new WeakSet,pk=function(e){var s,o,l;if((s=c(this,Bd))!=null&&s.call(this))return;if(e.touches.length===1){if(c(this,ks))return;const u=x(this,ks,new AbortController),d=AbortSignal.any([c(this,qa),u.signal]),f=c(this,ec),p={capture:!0,signal:d,passive:!1},m=y=>{var w;y.pointerType==="touch"&&((w=c(this,ks))==null||w.abort(),x(this,ks,null))};f.addEventListener("pointerdown",y=>{y.pointerType==="touch"&&(Ot(y),m(y))},p),f.addEventListener("pointerup",m,p),f.addEventListener("pointercancel",m,p);return}if(!c(this,_s)){x(this,_s,new AbortController);const u=AbortSignal.any([c(this,qa),c(this,_s).signal]),d=c(this,ec),f={signal:u,capture:!1,passive:!1};d.addEventListener("touchmove",_(this,fa,gk).bind(this),f);const p=_(this,fa,mk).bind(this);d.addEventListener("touchend",p,f),d.addEventListener("touchcancel",p,f),f.capture=!0,d.addEventListener("pointerdown",Ot,f),d.addEventListener("pointermove",Ot,f),d.addEventListener("pointercancel",Ot,f),d.addEventListener("pointerup",Ot,f),(o=c(this,jd))==null||o.call(this)}if(Ot(e),e.touches.length!==2||(l=c(this,zd))!=null&&l.call(this)){x(this,Cs,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),x(this,Cs,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},gk=function(e){var D;if(!c(this,Cs)||e.touches.length!==2)return;Ot(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:s,screenY:o}=t,{screenX:l,screenY:u}=n,d=c(this,Cs),{touch0X:f,touch0Y:p,touch1X:m,touch1Y:y}=d,w=m-f,b=y-p,A=l-s,k=u-o,E=Math.hypot(A,k)||1,R=Math.hypot(w,b)||1;if(!c(this,Ga)&&Math.abs(R-E)<=_S.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=s,d.touch0Y=o,d.touch1X=l,d.touch1Y=u,!c(this,Ga)){x(this,Ga,!0);return}const P=[(s+l)/2,(o+u)/2];(D=c(this,Hd))==null||D.call(this,P,R,E)},mk=function(e){var t;e.touches.length>=2||(c(this,_s)&&(c(this,_s).abort(),x(this,_s,null),(t=c(this,Ud))==null||t.call(this)),c(this,Cs)&&(Ot(e),x(this,Cs,null),x(this,Ga,!1)))};let vd=_S;var Ya,cr,xt,tc,jo,$d,Ka,pn,Qa,Ts,Ho,Vd,Ja,mi,Wd,Za,Ps,Wr,nc,ic,Wi,el,Gd,Cm,Le,Bw,qd,jw,jg,yk,vk,Hw,Hg,Uw,wk,Sk,xk,$w,Ak,Vw,bk,Ek,kk,Ww,Yh;const Ue=class Ue{constructor(e){C(this,Le);C(this,Ya,null);C(this,cr,null);C(this,xt,null);C(this,tc,!1);C(this,jo,null);C(this,$d,"");C(this,Ka,!1);C(this,pn,null);C(this,Qa,null);C(this,Ts,null);C(this,Ho,null);C(this,Vd,"");C(this,Ja,!1);C(this,mi,null);C(this,Wd,!1);C(this,Za,!1);C(this,Ps,!1);C(this,Wr,null);C(this,nc,0);C(this,ic,0);C(this,Wi,null);C(this,el,null);le(this,"isSelected",!1);le(this,"_isCopy",!1);le(this,"_editToolbar",null);le(this,"_initialOptions",Object.create(null));le(this,"_initialData",null);le(this,"_isVisible",!0);le(this,"_uiManager",null);le(this,"_focusEventsAllowed",!0);C(this,Gd,!1);C(this,Cm,Ue._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[o,l];const[u,d]=this.parentDimensions;this.x=e.x/u,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ue.prototype._resizeWithKeyboard,t=ha.TRANSLATE_SMALL,n=ha.TRANSLATE_BIG;return qe(this,"_resizerKeyboardManager",new ap([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ue.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return qe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new NN({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ue._l10n??(Ue._l10n=e),Ue._l10nResizer||(Ue._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ue._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ue._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){at("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Gd)}set _isDraggable(e){var t;x(this,Gd,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Cm)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,Le,Yh).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Ja)?x(this,Ja,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[o,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/o,this.y=(t+s)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,s]=this.parentDimensions;this.setAt(e*n,t*s,this.width*n,this.height*s),this._onTranslated()}translate(e,t){_(this,Le,Bw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,mi)||x(this,mi,[this.x,this.y,this.width,this.height]),_(this,Le,Bw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){c(this,mi)||x(this,mi,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[s,o]}=this;if(this.x+=e/s,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!c(this,mi)&&(c(this,mi)[0]!==this.x||c(this,mi)[1]!==this.y)}get _hasBeenResized(){return!!c(this,mi)&&(c(this,mi)[2]!==this.width||c(this,mi)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ue,s=n/e,o=n/t;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,s]}=this;let{x:o,y:l,width:u,height:d}=this;if(u*=n,d*=s,o*=n,l*=s,this._mustFixPosition)switch(e){case 0:o=Pn(o,0,n-u),l=Pn(l,0,s-d);break;case 90:o=Pn(o,0,n-d),l=Pn(l,u,s);break;case 180:o=Pn(o,u,n),l=Pn(l,d,s);break;case 270:o=Pn(o,d,n),l=Pn(l,0,s-u);break}this.x=o/=n,this.y=l/=s;const[f,p]=this.getBaseTranslation();o+=f,l+=p,t.left=`${(100*o).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return _(n=Ue,qd,jw).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return _(n=Ue,qd,jw).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,s]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*e/n).toFixed(2)}%`,c(this,Ka)||(o.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),o=!c(this,Ka)&&t.endsWith("%");if(s&&o)return;const[l,u]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!c(this,Ka)&&!o&&(e.height=`${(100*parseFloat(t)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=c(this,xt))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||c(this,Za))return this._editToolbar;this._editToolbar=new Rw(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=c(this,xt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return c(this,xt)||(gm.initialize(Ue._l10n),x(this,xt,new gm(this)),c(this,Ya)&&(c(this,xt).data=c(this,Ya),x(this,Ya,null))),c(this,xt)}get altTextData(){var e;return(e=c(this,xt))==null?void 0:e.data}set altTextData(e){c(this,xt)&&(c(this,xt).data=e)}get guessedAltText(){var e;return(e=c(this,xt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=c(this,xt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=c(this,xt))==null?void 0:t.serialize(e)}hasAltText(){return!!c(this,xt)&&!c(this,xt).isEmpty()}hasAltTextData(){var e;return((e=c(this,xt))==null?void 0:e.hasData())??!1}render(){var l;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=c(this,tc)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),_(this,Le,Vw).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[s,o]=this.getInitialTranslation();return this.translate(s,o),nk(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(c(this,el)||x(this,el,new vd({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:_(this,Le,wk).bind(this),onPinching:_(this,Le,Sk).bind(this),onPinchEnd:_(this,Le,xk).bind(this),signal:this._uiManager._signal}))),(l=this._uiManager._editorUndoBar)==null||l.hide(),e}pointerdown(e){const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(x(this,Ja,!0),this._isDraggable){_(this,Le,Ak).call(this,e);return}_(this,Le,$w).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){c(this,Wr)&&clearTimeout(c(this,Wr)),x(this,Wr,setTimeout(()=>{var e;x(this,Wr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const s=this.parentScale,[o,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=e/s,p=t/s,m=this.x*o,y=this.y*l,w=this.width*o,b=this.height*l;switch(n){case 0:return[m+f+u,l-y-p-b+d,m+f+w+u,l-y-p+d];case 90:return[m+p+u,l-y+f+d,m+p+b+u,l-y+f+w+d];case 180:return[m-f-w+u,l-y+p+d,m-f+u,l-y+p+b+d];case 270:return[m-p-b+u,l-y-f-w+d,m-p+u,l-y-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,o,l]=e,u=o-n,d=l-s;switch(this.rotation){case 0:return[n,t-l,u,d];case 90:return[n,t-s,d,u];case 180:return[o,t-s,u,d];case 270:return[o,t-l,d,u];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),x(this,Za,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),x(this,Za,!1),!0):!1}isInEditMode(){return c(this,Za)}shouldGetKeyboardEvents(){return c(this,Ps)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return t<l&&s>0&&e<o&&n>0}rebuild(){_(this,Le,Vw).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){at("An editor must be serializable")}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});s.rotation=e.rotation,x(s,Ya,e.accessibilityData),s._isCopy=e.isCopy||!1;const[o,l]=s.pageDimensions,[u,d,f,p]=s.getRectInCurrentCoords(e.rect,l);return s.x=u/o,s.y=d/l,s.width=f/o,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=c(this,Ho))==null||e.abort(),x(this,Ho,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Wr)&&(clearTimeout(c(this,Wr)),x(this,Wr,null)),_(this,Le,Yh).call(this),this.removeEditToolbar(),c(this,Wi)){for(const n of c(this,Wi).values())clearTimeout(n);x(this,Wi,null)}this.parent=null,(t=c(this,el))==null||t.destroy(),x(this,el,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,Le,yk).call(this),c(this,pn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),x(this,Ts,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,pn).children;if(!c(this,cr)){x(this,cr,Array.from(t));const l=_(this,Le,bk).bind(this),u=_(this,Le,Ek).bind(this),d=this._uiManager._signal;for(const f of c(this,cr)){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",_(this,Le,kk).bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",Ue._l10nResizer[p])}}const n=c(this,cr)[0];let s=0;for(const l of t){if(l===n)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(c(this,cr).length/4);if(o!==s){if(o<s)for(let u=0;u<s-o;u++)c(this,pn).append(c(this,pn).firstChild);else if(o>s)for(let u=0;u<o-s;u++)c(this,pn).firstChild.before(c(this,pn).lastChild);let l=0;for(const u of t){const f=c(this,cr)[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Ue._l10nResizer[f])}}_(this,Le,Ww).call(this,0),x(this,Ps,!0),c(this,pn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,Ps)&&_(this,Le,Uw).call(this,c(this,Vd),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){_(this,Le,Yh).call(this),this.div.focus()}select(){var e,t,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,o;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=c(this,xt))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,t,n,s,o;this.isSelected&&(this.isSelected=!1,(e=c(this,pn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(o=c(this,xt))==null||o.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return c(this,Wd)}set isEditing(e){x(this,Wd,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){x(this,Ka,!0);const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,Wi)||x(this,Wi,new Map);const{action:n}=e;let s=c(this,Wi).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),c(this,Wi).delete(n),c(this,Wi).size===0&&x(this,Wi,null)},Ue._telemetryTimeout),c(this,Wi).set(n,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),x(this,tc,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(this,tc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ya=new WeakMap,cr=new WeakMap,xt=new WeakMap,tc=new WeakMap,jo=new WeakMap,$d=new WeakMap,Ka=new WeakMap,pn=new WeakMap,Qa=new WeakMap,Ts=new WeakMap,Ho=new WeakMap,Vd=new WeakMap,Ja=new WeakMap,mi=new WeakMap,Wd=new WeakMap,Za=new WeakMap,Ps=new WeakMap,Wr=new WeakMap,nc=new WeakMap,ic=new WeakMap,Wi=new WeakMap,el=new WeakMap,Gd=new WeakMap,Cm=new WeakMap,Le=new WeakSet,Bw=function([e,t],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},qd=new WeakSet,jw=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},jg=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},yk=function(){if(c(this,pn))return;x(this,pn,document.createElement("div")),c(this,pn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const s=document.createElement("div");c(this,pn).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",_(this,Le,vk).bind(this,n),{signal:t}),s.addEventListener("contextmenu",Ji,{signal:t}),s.tabIndex=-1}this.div.prepend(c(this,pn))},vk=function(e,t){var p;t.preventDefault();const{isMac:n}=ln.platform;if(t.button!==0||t.ctrlKey&&n)return;(p=c(this,xt))==null||p.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,x(this,Qa,[t.screenX,t.screenY]);const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,Le,Uw).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Ot,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ji,{signal:l}),x(this,Ts,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var m;o.abort(),this.parent.togglePointerEvents(!0),(m=c(this,xt))==null||m.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=u,this.div.style.cursor=d,_(this,Le,Hg).call(this)};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})},Hw=function(e,t,n,s){this.width=n,this.height=s,this.x=e,this.y=t;const[o,l]=this.parentDimensions;this.setDims(o*n,l*s),this.fixAndSetPosition(),this._onResized()},Hg=function(){if(!c(this,Ts))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=c(this,Ts);x(this,Ts,null);const o=this.x,l=this.y,u=this.width,d=this.height;o===e&&l===t&&u===n&&d===s||this.addCommands({cmd:_(this,Le,Hw).bind(this,o,l,u,d),undo:_(this,Le,Hw).bind(this,e,t,n,s),mustExec:!0})},Uw=function(e,t){const[n,s]=this.parentDimensions,o=this.x,l=this.y,u=this.width,d=this.height,f=Ue.MIN_SIZE/n,p=Ue.MIN_SIZE/s,m=_(this,Le,jg).call(this,this.rotation),y=(Z,J)=>[m[0]*Z+m[2]*J,m[1]*Z+m[3]*J],w=_(this,Le,jg).call(this,360-this.rotation),b=(Z,J)=>[w[0]*Z+w[2]*J,w[1]*Z+w[3]*J];let A,k,E=!1,R=!1;switch(e){case"topLeft":E=!0,A=(Z,J)=>[0,0],k=(Z,J)=>[Z,J];break;case"topMiddle":A=(Z,J)=>[Z/2,0],k=(Z,J)=>[Z/2,J];break;case"topRight":E=!0,A=(Z,J)=>[Z,0],k=(Z,J)=>[0,J];break;case"middleRight":R=!0,A=(Z,J)=>[Z,J/2],k=(Z,J)=>[0,J/2];break;case"bottomRight":E=!0,A=(Z,J)=>[Z,J],k=(Z,J)=>[0,0];break;case"bottomMiddle":A=(Z,J)=>[Z/2,J],k=(Z,J)=>[Z/2,0];break;case"bottomLeft":E=!0,A=(Z,J)=>[0,J],k=(Z,J)=>[Z,0];break;case"middleLeft":R=!0,A=(Z,J)=>[0,J/2],k=(Z,J)=>[Z,J/2];break}const P=A(u,d),D=k(u,d);let F=y(...D);const I=Ue._round(o+F[0]),O=Ue._round(l+F[1]);let V=1,W=1,Y,q;if(t.fromKeyboard)({deltaX:Y,deltaY:q}=t);else{const{screenX:Z,screenY:J}=t,[te,he]=c(this,Qa);[Y,q]=this.screenToPageTranslation(Z-te,J-he),c(this,Qa)[0]=Z,c(this,Qa)[1]=J}if([Y,q]=b(Y/n,q/s),E){const Z=Math.hypot(u,d);V=W=Math.max(Math.min(Math.hypot(D[0]-P[0]-Y,D[1]-P[1]-q)/Z,1/u,1/d),f/u,p/d)}else R?V=Pn(Math.abs(D[0]-P[0]-Y),f,1)/u:W=Pn(Math.abs(D[1]-P[1]-q),p,1)/d;const ne=Ue._round(u*V),ee=Ue._round(d*W);F=y(...k(ne,ee));const K=I-F[0],ce=O-F[1];c(this,mi)||x(this,mi,[this.x,this.y,this.width,this.height]),this.width=ne,this.height=ee,this.x=K,this.y=ce,this.setDims(n*ne,s*ee),this.fixAndSetPosition(),this._onResizing()},wk=function(){var e;x(this,Ts,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=c(this,xt))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Sk=function(e,t,n){let o=.7*(n/t)+1-.7;if(o===1)return;const l=_(this,Le,jg).call(this,this.rotation),u=(I,O)=>[l[0]*I+l[2]*O,l[1]*I+l[3]*O],[d,f]=this.parentDimensions,p=this.x,m=this.y,y=this.width,w=this.height,b=Ue.MIN_SIZE/d,A=Ue.MIN_SIZE/f;o=Math.max(Math.min(o,1/y,1/w),b/y,A/w);const k=Ue._round(y*o),E=Ue._round(w*o);if(k===y&&E===w)return;c(this,mi)||x(this,mi,[p,m,y,w]);const R=u(y/2,w/2),P=Ue._round(p+R[0]),D=Ue._round(m+R[1]),F=u(k/2,E/2);this.x=P-F[0],this.y=D-F[1],this.width=k,this.height=E,this.setDims(d*k,f*E),this.fixAndSetPosition(),this._onResizing()},xk=function(){var e;(e=c(this,xt))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),_(this,Le,Hg).call(this)},$w=function(e){const{isMac:t}=ln.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Ak=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s),l={capture:!0,passive:!1,signal:o},u=f=>{s.abort(),x(this,jo,null),x(this,Ja,!1),this._uiManager.endDragSession()||_(this,Le,$w).call(this,f),n&&this._onStopDragging()};t&&(x(this,nc,e.clientX),x(this,ic,e.clientY),x(this,jo,e.pointerId),x(this,$d,e.pointerType),window.addEventListener("pointermove",f=>{n||(n=!0,this._onStartDragging());const{clientX:p,clientY:m,pointerId:y}=f;if(y!==c(this,jo)){Ot(f);return}const[w,b]=this.screenToPageTranslation(p-c(this,nc),m-c(this,ic));x(this,nc,p),x(this,ic,m),this._uiManager.dragSelectedEditors(w,b)},l),window.addEventListener("touchmove",Ot,l),window.addEventListener("pointerdown",f=>{f.pointerType===c(this,$d)&&(c(this,el)||f.isPrimary)&&u(f),Ot(f)},l));const d=f=>{if(!c(this,jo)||c(this,jo)===f.pointerId){u(f);return}Ot(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})},Vw=function(){if(c(this,Ho)||!this.div)return;x(this,Ho,new AbortController);const e=this._uiManager.combinedSignal(c(this,Ho));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},bk=function(e){Ue._resizerKeyboardManager.exec(this,e)},Ek=function(e){var t;c(this,Ps)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,pn)&&_(this,Le,Yh).call(this)},kk=function(e){x(this,Vd,c(this,Ps)?e:"")},Ww=function(e){if(c(this,cr))for(const t of c(this,cr))t.tabIndex=e},Yh=function(){x(this,Ps,!1),_(this,Le,Ww).call(this,-1),_(this,Le,Hg).call(this)},C(Ue,qd),le(Ue,"_l10n",null),le(Ue,"_l10nResizer",null),le(Ue,"_borderLineWidth",-1),le(Ue,"_colorManager",new Iw),le(Ue,"_zIndex",1),le(Ue,"_telemetryTimeout",1e3);let pt=Ue;class NN extends pt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const p1=3285377520,Hi=4294901760,Dr=65535;class Ck{constructor(e){this.h1=e?e&4294967295:p1,this.h2=e?e&4294967295:p1}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let A=0,k=e.length;A<k;A++){const E=e.charCodeAt(A);E<=255?t[n++]=E:(t[n++]=E>>>8,t[n++]=E&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,o=n-s*4,l=new Uint32Array(t.buffer,0,s);let u=0,d=0,f=this.h1,p=this.h2;const m=3432918353,y=461845907,w=m&Dr,b=y&Dr;for(let A=0;A<s;A++)A&1?(u=l[A],u=u*m&Hi|u*w&Dr,u=u<<15|u>>>17,u=u*y&Hi|u*b&Dr,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[A],d=d*m&Hi|d*w&Dr,d=d<<15|d>>>17,d=d*y&Hi|d*b&Dr,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=t[s*4+2]<<16;case 2:u^=t[s*4+1]<<8;case 1:u^=t[s*4],u=u*m&Hi|u*w&Dr,u=u<<15|u>>>17,u=u*y&Hi|u*b&Dr,s&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Hi|e*36045&Dr,t=t*4283543511&Hi|((t<<16|e>>>16)*2950163797&Hi)>>>16,e^=t>>>1,e=e*444984403&Hi|e*60499&Dr,t=t*3301882366&Hi|((t<<16|e>>>16)*3120437893&Hi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Gw=Object.freeze({map:null,hash:"",transfer:void 0});var tl,nl,gn,_m,_k;class gS{constructor(){C(this,_m);C(this,tl,!1);C(this,nl,null);C(this,gn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=c(this,gn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return c(this,gn).get(e)}remove(e){if(c(this,gn).delete(e),c(this,gn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,gn).values())if(t instanceof pt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=c(this,gn).get(e);let s=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(s=!0,n[o]=l);else s=!0,c(this,gn).set(e,t);s&&_(this,_m,_k).call(this),t instanceof pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,gn).has(e)}get size(){return c(this,gn).size}resetModified(){c(this,tl)&&(x(this,tl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Tk(this)}get serializable(){if(c(this,gn).size===0)return Gw;const e=new Map,t=new Ck,n=[],s=Object.create(null);let o=!1;for(const[l,u]of c(this,gn)){const d=u instanceof pt?u.serialize(!1,s):u;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Gw}get editorStats(){let e=null;const t=new Map;for(const n of c(this,gn).values()){if(!(n instanceof pt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(s)){if(u==="type")continue;let f=l.get(u);f||(f=new Map,l.set(u,f));const p=f.get(d)??0;f.set(d,p+1)}}for(const[n,s]of t)e[n]=s.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){x(this,nl,null)}get modifiedIds(){if(c(this,nl))return c(this,nl);const e=[];for(const t of c(this,gn).values())!(t instanceof pt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return x(this,nl,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return c(this,gn).entries()}}tl=new WeakMap,nl=new WeakMap,gn=new WeakMap,_m=new WeakSet,_k=function(){c(this,tl)||(x(this,tl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Xd;class Tk extends gS{constructor(t){super();C(this,Xd);const{map:n,hash:s,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);x(this,Xd,{map:l,hash:s,transfer:o})}get print(){at("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Xd)}get modifiedIds(){return qe(this,"modifiedIds",{ids:new Set,hash:""})}}Xd=new WeakMap;var rc;class FN{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){C(this,rc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,rc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||c(this,rc).has(e.loadedName))){if(Ut(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:o,style:l}=e,u=new FontFace(s,o,l);this.addNativeFontFace(u);try{await u.load(),c(this,rc).add(s),n==null||n(e)}catch{ze(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}at("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw ze(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return qe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return qe(this,"isSyncFontLoadingSupported",jn||ln.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ut(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:t,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return qe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(D,F){return D.charCodeAt(F)<<24|D.charCodeAt(F+1)<<16|D.charCodeAt(F+2)<<8|D.charCodeAt(F+3)&255}function s(D,F,I,O){const V=D.substring(0,F),W=D.substring(F+I);return V+O+W}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(D,F){if(++f>30){ze("Load test font never loaded."),F();return}if(d.font="30px "+D,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(p.bind(null,D,F))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=s(y,976,m.length,m);const b=16,A=1482184792;let k=n(y,b);for(o=0,l=m.length-3;o<l;o+=4)k=k-A+n(m,o)|0;o<m.length&&(k=k-A+n(m+"XXX",o)|0),y=s(y,b,4,EN(k));const E=`url(data:font/opentype;base64,${btoa(y)});`,R=`@font-face {font-family:"${m}";src:${E}}`;this.insertRule(R);const P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(const D of[e.loadedName,m]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=D,P.append(F)}this._document.body.append(P),p(m,()=>{P.remove(),t.complete()})}}rc=new WeakMap;class ON{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${GE(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let s;try{s=e.get(n)}catch(l){ze(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(s||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=o}}function zN(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(jn)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function BN(r){if(jn&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return rp(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Eg(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const qw=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,jN=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",Pk=TN.bind(null,qw,jN);var Rs,Tm;class HN{constructor(){C(this,Rs,new Map);C(this,Tm,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};c(this,Tm).then(()=>{for(const[s]of c(this,Rs))s.call(this,n)})}addEventListener(e,t,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){ze("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);s=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}c(this,Rs).set(t,s)}removeEventListener(e,t){const n=c(this,Rs).get(t);n==null||n(),c(this,Rs).delete(t)}terminate(){for(const[,e]of c(this,Rs))e==null||e();c(this,Rs).clear()}}Rs=new WeakMap,Tm=new WeakMap;const kg={DATA:1,ERROR:2},jt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function g1(){}function Jn(r){if(r instanceof to||r instanceof fm||r instanceof h1||r instanceof yd||r instanceof uw)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||at('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new to(r.message);case"InvalidPDFException":return new fm(r.message);case"PasswordException":return new h1(r.message,r.code);case"ResponseException":return new yd(r.message,r.status,r.missing);case"UnknownErrorException":return new uw(r.message,r.details)}return new uw(r.message,r.toString())}var sc,Qi,Rk,Lk,Ik,Ug;class Kh{constructor(e,t,n){C(this,Qi);C(this,sc,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",_(this,Qi,Rk).bind(this),{signal:c(this,sc).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,s){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:e,streamId:o,data:t,desiredSize:f.desiredSize},s),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:jt.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Ut(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:jt.CANCEL,streamId:o,reason:Jn(f)}),p.promise}},n)}destroy(){var e;(e=c(this,sc))==null||e.abort(),x(this,sc,null)}}sc=new WeakMap,Qi=new WeakSet,Rk=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){_(this,Qi,Ik).call(this,e);return}if(e.callback){const n=e.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===kg.DATA)s.resolve(e.data);else if(e.callback===kg.ERROR)s.reject(Jn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,s=e.sourceName,o=this.comObj;Promise.try(t,e.data).then(function(l){o.postMessage({sourceName:n,targetName:s,callback:kg.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:s,callback:kg.ERROR,callbackId:e.callbackId,reason:Jn(l)})});return}if(e.streamId){_(this,Qi,Lk).call(this,e);return}t(e.data)},Lk=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this,u=this.actionHandler[e.action],d={enqueue(f,p=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:s,stream:jt.ENQUEUE,streamId:t,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:jt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){Ut(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:jt.ERROR,streamId:t,reason:Jn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(u,e.data,d).then(function(){o.postMessage({sourceName:n,targetName:s,stream:jt.START_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:s,stream:jt.START_COMPLETE,streamId:t,reason:Jn(f)})})},Ik=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this.streamControllers[t],u=this.streamSinks[t];switch(e.stream){case jt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Jn(e.reason));break;case jt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Jn(e.reason));break;case jt.PULL:if(!u){o.postMessage({sourceName:n,targetName:s,stream:jt.PULL_COMPLETE,streamId:t,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,Promise.try(u.onPull||g1).then(function(){o.postMessage({sourceName:n,targetName:s,stream:jt.PULL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:s,stream:jt.PULL_COMPLETE,streamId:t,reason:Jn(f)})});break;case jt.ENQUEUE:if(Ut(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case jt.CLOSE:if(Ut(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),_(this,Qi,Ug).call(this,l,t);break;case jt.ERROR:Ut(l,"error should have stream controller"),l.controller.error(Jn(e.reason)),_(this,Qi,Ug).call(this,l,t);break;case jt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Jn(e.reason)),_(this,Qi,Ug).call(this,l,t);break;case jt.CANCEL:if(!u)break;const d=Jn(e.reason);Promise.try(u.onCancel||g1,d).then(function(){o.postMessage({sourceName:n,targetName:s,stream:jt.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:s,stream:jt.CANCEL_COMPLETE,streamId:t,reason:Jn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Ug=async function(e,t){var n,s,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(s=e.pullCall)==null?void 0:s.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var Yd;class Mk{constructor({enableHWA:e=!1}){C(this,Yd,!1);x(this,Yd,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!c(this,Yd)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){at("Abstract method `_createCanvas` called.")}}Yd=new WeakMap;class UN extends Mk{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Dk{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){at("Abstract method `_fetch` called.")}}class m1 extends Dk{async _fetch(e){const t=await eh(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):rp(t)}}class Nk{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,o){return"none"}destroy(e=!1){}}var il,oc,Ls,Is,_n,rl,sl,ge,kn,Qh,Tu,$g,Pu,Fk,Xw,Ru,Jh,Zh,Yw,ed;class $N extends Nk{constructor({docId:t,ownerDocument:n=globalThis.document}){super();C(this,ge);C(this,il);C(this,oc);C(this,Ls);C(this,Is);C(this,_n);C(this,rl);C(this,sl,0);x(this,Is,t),x(this,_n,n)}addFilter(t){if(!t)return"none";let n=c(this,ge,kn).get(t);if(n)return n;const[s,o,l]=_(this,ge,$g).call(this,t),u=t.length===1?s:`${s}${o}${l}`;if(n=c(this,ge,kn).get(u),n)return c(this,ge,kn).set(t,n),n;const d=`g_${c(this,Is)}_transfer_map_${Dn(this,sl)._++}`,f=_(this,ge,Pu).call(this,d);c(this,ge,kn).set(t,f),c(this,ge,kn).set(u,f);const p=_(this,ge,Ru).call(this,d);return _(this,ge,Zh).call(this,s,o,l,p),f}addHCMFilter(t,n){var b;const s=`${t}-${n}`,o="base";let l=c(this,ge,Qh).get(o);if((l==null?void 0:l.key)===s||(l?((b=l.filter)==null||b.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},c(this,ge,Qh).set(o,l)),!t||!n))return l.url;const u=_(this,ge,ed).call(this,t);t=Ce.makeHexColor(...u);const d=_(this,ge,ed).call(this,n);if(n=Ce.makeHexColor(...d),c(this,ge,Tu).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const f=new Array(256);for(let A=0;A<=255;A++){const k=A/255;f[A]=k<=.03928?k/12.92:((k+.055)/1.055)**2.4}const p=f.join(","),m=`g_${c(this,Is)}_hcm_filter`,y=l.filter=_(this,ge,Ru).call(this,m);_(this,ge,Zh).call(this,p,p,p,y),_(this,ge,Xw).call(this,y);const w=(A,k)=>{const E=u[A]/255,R=d[A]/255,P=new Array(k+1);for(let D=0;D<=k;D++)P[D]=E+D/k*(R-E);return P.join(",")};return _(this,ge,Zh).call(this,w(0,5),w(1,5),w(2,5),y),l.url=_(this,ge,Pu).call(this,m),l.url}addAlphaFilter(t){let n=c(this,ge,kn).get(t);if(n)return n;const[s]=_(this,ge,$g).call(this,[t]),o=`alpha_${s}`;if(n=c(this,ge,kn).get(o),n)return c(this,ge,kn).set(t,n),n;const l=`g_${c(this,Is)}_alpha_map_${Dn(this,sl)._++}`,u=_(this,ge,Pu).call(this,l);c(this,ge,kn).set(t,u),c(this,ge,kn).set(o,u);const d=_(this,ge,Ru).call(this,l);return _(this,ge,Yw).call(this,s,d),u}addLuminosityFilter(t){let n=c(this,ge,kn).get(t||"luminosity");if(n)return n;let s,o;if(t?([s]=_(this,ge,$g).call(this,[t]),o=`luminosity_${s}`):o="luminosity",n=c(this,ge,kn).get(o),n)return c(this,ge,kn).set(t,n),n;const l=`g_${c(this,Is)}_luminosity_map_${Dn(this,sl)._++}`,u=_(this,ge,Pu).call(this,l);c(this,ge,kn).set(t,u),c(this,ge,kn).set(o,u);const d=_(this,ge,Ru).call(this,l);return _(this,ge,Fk).call(this,d),t&&_(this,ge,Yw).call(this,s,d),u}addHighlightHCMFilter(t,n,s,o,l){var R;const u=`${n}-${s}-${o}-${l}`;let d=c(this,ge,Qh).get(t);if((d==null?void 0:d.key)===u||(d?((R=d.filter)==null||R.remove(),d.key=u,d.url="none",d.filter=null):(d={key:u,url:"none",filter:null},c(this,ge,Qh).set(t,d)),!n||!s))return d.url;const[f,p]=[n,s].map(_(this,ge,ed).bind(this));let m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[w,b]=[o,l].map(_(this,ge,ed).bind(this));y<m&&([m,y,w,b]=[y,m,b,w]),c(this,ge,Tu).style.color="";const A=(P,D,F)=>{const I=new Array(256),O=(y-m)/F,V=P/255,W=(D-P)/(255*F);let Y=0;for(let q=0;q<=F;q++){const ne=Math.round(m+q*O),ee=V+q*W;for(let K=Y;K<=ne;K++)I[K]=ee;Y=ne+1}for(let q=Y;q<256;q++)I[q]=I[Y-1];return I.join(",")},k=`g_${c(this,Is)}_hcm_${t}_filter`,E=d.filter=_(this,ge,Ru).call(this,k);return _(this,ge,Xw).call(this,E),_(this,ge,Zh).call(this,A(w[0],b[0],5),A(w[1],b[1],5),A(w[2],b[2],5),E),d.url=_(this,ge,Pu).call(this,k),d.url}destroy(t=!1){var n,s,o,l;t&&((n=c(this,rl))!=null&&n.size)||((s=c(this,Ls))==null||s.parentNode.parentNode.remove(),x(this,Ls,null),(o=c(this,oc))==null||o.clear(),x(this,oc,null),(l=c(this,rl))==null||l.clear(),x(this,rl,null),x(this,sl,0))}}il=new WeakMap,oc=new WeakMap,Ls=new WeakMap,Is=new WeakMap,_n=new WeakMap,rl=new WeakMap,sl=new WeakMap,ge=new WeakSet,kn=function(){return c(this,oc)||x(this,oc,new Map)},Qh=function(){return c(this,rl)||x(this,rl,new Map)},Tu=function(){if(!c(this,Ls)){const t=c(this,_n).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=c(this,_n).createElementNS(ms,"svg");s.setAttribute("width",0),s.setAttribute("height",0),x(this,Ls,c(this,_n).createElementNS(ms,"defs")),t.append(s),s.append(c(this,Ls)),c(this,_n).body.append(t)}return c(this,Ls)},$g=function(t){if(t.length===1){const f=t[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=f[y]/255;const m=p.join(",");return[m,m,m]}const[n,s,o]=t,l=new Array(256),u=new Array(256),d=new Array(256);for(let f=0;f<256;f++)l[f]=n[f]/255,u[f]=s[f]/255,d[f]=o[f]/255;return[l.join(","),u.join(","),d.join(",")]},Pu=function(t){if(c(this,il)===void 0){x(this,il,"");const n=c(this,_n).URL;n!==c(this,_n).baseURI&&(op(n)?ze('#createUrl: ignore "data:"-URL for performance reasons.'):x(this,il,hS(n,"")))}return`url(${c(this,il)}#${t})`},Fk=function(t){const n=c(this,_n).createElementNS(ms,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Xw=function(t){const n=c(this,_n).createElementNS(ms,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Ru=function(t){const n=c(this,_n).createElementNS(ms,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),c(this,ge,Tu).append(n),n},Jh=function(t,n,s){const o=c(this,_n).createElementNS(ms,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",s),t.append(o)},Zh=function(t,n,s,o){const l=c(this,_n).createElementNS(ms,"feComponentTransfer");o.append(l),_(this,ge,Jh).call(this,l,"feFuncR",t),_(this,ge,Jh).call(this,l,"feFuncG",n),_(this,ge,Jh).call(this,l,"feFuncB",s)},Yw=function(t,n){const s=c(this,_n).createElementNS(ms,"feComponentTransfer");n.append(s),_(this,ge,Jh).call(this,s,"feFuncA",t)},ed=function(t){return c(this,ge,Tu).style.color=t,pS(getComputedStyle(c(this,ge,Tu)).getPropertyValue("color"))};class Ok{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){at("Abstract method `_fetch` called.")}}class y1 extends Ok{async _fetch(e){const t=await eh(e,"arraybuffer");return new Uint8Array(t)}}class zk{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){at("Abstract method `_fetch` called.")}}class v1 extends zk{async _fetch(e){const t=await eh(e,"arraybuffer");return new Uint8Array(t)}}jn&&ze("Please use the `legacy` build in Node.js environments.");async function mS(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class VN extends Nk{}class WN extends Mk{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class GN extends Dk{async _fetch(e){return mS(e)}}class qN extends Ok{async _fetch(e){return mS(e)}}class XN extends zk{async _fetch(e){return mS(e)}}const vn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Kw(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,n),r.clip(s)}class yS{isModifyingCurrentTransform(){return!1}getPattern(){at("Abstract method `getPattern` called.")}}class YN extends yS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let o;if(s===vn.STROKE||s===vn.FILL){const l=t.current.getClippedPathBoundingBox(s,_t(e))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=Ce.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),Kw(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=e.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(n);o.setTransform(m)}else Kw(e,this._bbox),o=this._createGradient(e);return o}}function dw(r,e,t,n,s,o,l,u){const d=e.coords,f=e.colors,p=r.data,m=r.width*4;let y;d[t+1]>d[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y),d[n+1]>d[s+1]&&(y=n,n=s,s=y,y=l,l=u,u=y),d[t+1]>d[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y);const w=(d[t]+e.offsetX)*e.scaleX,b=(d[t+1]+e.offsetY)*e.scaleY,A=(d[n]+e.offsetX)*e.scaleX,k=(d[n+1]+e.offsetY)*e.scaleY,E=(d[s]+e.offsetX)*e.scaleX,R=(d[s+1]+e.offsetY)*e.scaleY;if(b>=R)return;const P=f[o],D=f[o+1],F=f[o+2],I=f[l],O=f[l+1],V=f[l+2],W=f[u],Y=f[u+1],q=f[u+2],ne=Math.round(b),ee=Math.round(R);let K,ce,Z,J,te,he,L,B;for(let X=ne;X<=ee;X++){if(X<k){const be=X<b?0:(b-X)/(b-k);K=w-(w-A)*be,ce=P-(P-I)*be,Z=D-(D-O)*be,J=F-(F-V)*be}else{let be;X>R?be=1:k===R?be=0:be=(k-X)/(k-R),K=A-(A-E)*be,ce=I-(I-W)*be,Z=O-(O-Y)*be,J=V-(V-q)*be}let M;X<b?M=0:X>R?M=1:M=(b-X)/(b-R),te=w-(w-E)*M,he=P-(P-W)*M,L=D-(D-Y)*M,B=F-(F-q)*M;const Se=Math.round(Math.min(K,te)),_e=Math.round(Math.max(K,te));let ye=m*X+Se*4;for(let be=Se;be<=_e;be++)M=(K-be)/(K-te),M<0?M=0:M>1&&(M=1),p[ye++]=ce-(ce-he)*M|0,p[ye++]=Z-(Z-L)*M|0,p[ye++]=J-(J-B)*M|0,p[ye++]=255}}function KN(r,e,t){const n=e.coords,s=e.colors;let o,l;switch(e.type){case"lattice":const u=e.verticesPerRow,d=Math.floor(n.length/u)-1,f=u-1;for(o=0;o<d;o++){let p=o*u;for(let m=0;m<f;m++,p++)dw(r,t,n[p],n[p+1],n[p+u],s[p],s[p+1],s[p+u]),dw(r,t,n[p+u+1],n[p+1],n[p+u],s[p+u+1],s[p+1],s[p+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)dw(r,t,n[o],n[o+1],n[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class QN extends yS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),w=f/m,b=p/y,A={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/w,scaleY:1/b},k=m+4,E=y+4,R=n.getCanvas("mesh",k,E),P=R.context,D=P.createImageData(m,y);if(t){const I=D.data;for(let O=0,V=I.length;O<V;O+=4)I[O]=t[0],I[O+1]=t[1],I[O+2]=t[2],I[O+3]=255}for(const I of this._figures)KN(D,I,A);return P.putImageData(D,2,2),{canvas:R.canvas,offsetX:u-2*w,offsetY:d-2*b,scaleX:w,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,s){Kw(e,this._bbox);const o=new Float32Array(2);if(s===vn.SHADING)Ce.singularValueDecompose2dScale(_t(e),o);else if(this.matrix){Ce.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;Ce.singularValueDecompose2dScale(t.baseTransform,o),o[0]*=u,o[1]*=d}else Ce.singularValueDecompose2dScale(t.baseTransform,o);const l=this._createMeshCanvas(o,s===vn.SHADING?null:this._background,t.cachedCanvases);return s!==vn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class JN extends yS{getPattern(){return"hotpink"}}function ZN(r){switch(r[0]){case"RadialAxial":return new YN(r);case"Mesh":return new QN(r);case"Dummy":return new JN}throw new Error(`Unknown IR type: ${r[0]}`)}const w1={COLORED:1,UNCOLORED:2},Pm=class Pm{constructor(e,t,n,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),Gm("TilingType: "+o);const p=t[0],m=t[1],y=t[2],w=t[3],b=y-p,A=w-m,k=new Float32Array(2);Ce.singularValueDecompose2dScale(this.matrix,k);const[E,R]=k;Ce.singularValueDecompose2dScale(this.baseTransform,k);const P=E*k[0],D=R*k[1];let F=b,I=A,O=!1,V=!1;const W=Math.ceil(d*P),Y=Math.ceil(f*D),q=Math.ceil(b*P),ne=Math.ceil(A*D);W>=q?F=d:O=!0,Y>=ne?I=f:V=!0;const ee=this.getSizeAndScale(F,this.ctx.canvas.width,P),K=this.getSizeAndScale(I,this.ctx.canvas.height,D),ce=e.cachedCanvases.getCanvas("pattern",ee.size,K.size),Z=ce.context,J=u.createCanvasGraphics(Z);if(J.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(J,s,l),Z.translate(-ee.scale*p,-K.scale*m),J.transform(ee.scale,0,0,K.scale,0,0),Z.save(),this.clipBbox(J,p,m,y,w),J.baseTransform=_t(J.ctx),J.executeOperatorList(n),J.endDrawing(),Z.restore(),O||V){const te=ce.canvas;O&&(F=d),V&&(I=f);const he=this.getSizeAndScale(F,this.ctx.canvas.width,P),L=this.getSizeAndScale(I,this.ctx.canvas.height,D),B=he.size,X=L.size,M=e.cachedCanvases.getCanvas("pattern-workaround",B,X),Se=M.context,_e=O?Math.floor(b/d):0,ye=V?Math.floor(A/f):0;for(let be=0;be<=_e;be++)for(let Ie=0;Ie<=ye;Ie++)Se.drawImage(te,B*be,X*Ie,B,X,0,0,B,X);return{canvas:M.canvas,scaleX:he.scale,scaleY:L.scale,offsetX:p,offsetY:m}}return{canvas:ce.canvas,scaleX:ee.scale,scaleY:K.scale,offsetX:p,offsetY:m}}getSizeAndScale(e,t,n){const s=Math.max(Pm.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=s?o=s:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,s,o){const l=s-t,u=o-n;e.ctx.rect(t,n,l,u),Ce.axialAlignedBoundingBox([t,n,s,o],_t(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,o=e.current;switch(t){case w1.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;s.fillStyle=o.fillColor=l,s.strokeStyle=o.strokeColor=u;break;case w1.UNCOLORED:s.fillStyle=s.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new bN(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,s){let o=n;s!==vn.SHADING&&(o=Ce.transform(o,t.baseTransform),this.matrix&&(o=Ce.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let u=new DOMMatrix(o);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(u),d}};le(Pm,"MAX_PATTERN_SIZE",3e3);let Qw=Pm;function e2({src:r,srcPos:e=0,dest:t,width:n,height:s,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=ln.isLittleEndian?4278190080:255,[d,f]=l?[o,u]:[u,o],p=n>>3,m=n&7,y=r.length;t=new Uint32Array(t.buffer);let w=0;for(let b=0;b<s;b++){for(const k=e+p;e<k;e++){const E=e<y?r[e]:255;t[w++]=E&128?f:d,t[w++]=E&64?f:d,t[w++]=E&32?f:d,t[w++]=E&16?f:d,t[w++]=E&8?f:d,t[w++]=E&4?f:d,t[w++]=E&2?f:d,t[w++]=E&1?f:d}if(m===0)continue;const A=e<y?r[e++]:255;for(let k=0;k<m;k++)t[w++]=A&1<<7-k?f:d}return{srcPos:e,destPos:w}}const S1=16,x1=100,t2=15,A1=10,ii=16,fw=new DOMMatrix,Pi=new Float32Array(2),Du=new Float32Array([1/0,1/0,-1/0,-1/0]);function n2(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,s,o,l,u){e.transform(t,n,s,o,l,u),this.__originalTransform(t,n,s,o,l,u)},r.setTransform=function(t,n,s,o,l,u){e.setTransform(t,n,s,o,l,u),this.__originalSetTransform(t,n,s,o,l,u)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,s,o,l,u){e.bezierCurveTo(t,n,s,o,l,u),this.__originalBezierCurveTo(t,n,s,o,l,u)},r.rect=function(t,n,s,o){e.rect(t,n,s,o),this.__originalRect(t,n,s,o)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class i2{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Cg(r,e,t,n,s,o,l,u,d,f){const[p,m,y,w,b,A]=_t(r);if(m===0&&y===0){const R=l*p+b,P=Math.round(R),D=u*w+A,F=Math.round(D),I=(l+d)*p+b,O=Math.abs(Math.round(I)-P)||1,V=(u+f)*w+A,W=Math.abs(Math.round(V)-F)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(w),P,F),r.drawImage(e,t,n,s,o,0,0,O,W),r.setTransform(p,m,y,w,b,A),[O,W]}if(p===0&&w===0){const R=u*y+b,P=Math.round(R),D=l*m+A,F=Math.round(D),I=(u+f)*y+b,O=Math.abs(Math.round(I)-P)||1,V=(l+d)*m+A,W=Math.abs(Math.round(V)-F)||1;return r.setTransform(0,Math.sign(m),Math.sign(y),0,P,F),r.drawImage(e,t,n,s,o,0,0,W,O),r.setTransform(p,m,y,w,b,A),[W,O]}r.drawImage(e,t,n,s,o,l,u,d,f);const k=Math.hypot(p,m),E=Math.hypot(y,w);return[k*d,E*f]}class b1{constructor(e,t){le(this,"alphaIsShape",!1);le(this,"fontSize",0);le(this,"fontSizeScale",1);le(this,"textMatrix",null);le(this,"textMatrixScale",1);le(this,"fontMatrix",Tw);le(this,"leading",0);le(this,"x",0);le(this,"y",0);le(this,"lineX",0);le(this,"lineY",0);le(this,"charSpacing",0);le(this,"wordSpacing",0);le(this,"textHScale",1);le(this,"textRenderingMode",En.FILL);le(this,"textRise",0);le(this,"fillColor","#000000");le(this,"strokeColor","#000000");le(this,"patternFill",!1);le(this,"patternStroke",!1);le(this,"fillAlpha",1);le(this,"strokeAlpha",1);le(this,"lineWidth",1);le(this,"activeSMask",null);le(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Du.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=vn.FILL,t=null){const n=this.minMax.slice();if(e===vn.STROKE){t||at("Stroke bounding box must include transform."),Ce.singularValueDecompose2dScale(t,Pi);const s=Pi[0]*this.lineWidth/2,o=Pi[1]*this.lineWidth/2;n[0]-=s,n[1]-=o,n[2]+=s,n[3]+=o}return n}updateClipFromPath(){const e=Ce.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Du,0)}getClippedPathBoundingBox(e=vn.FILL,t=null){return Ce.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function E1(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,s=t%ii,o=(t-s)/ii,l=s===0?o:o+1,u=r.createImageData(n,ii);let d=0,f;const p=e.data,m=u.data;let y,w,b,A;if(e.kind===fd.GRAYSCALE_1BPP){const k=p.byteLength,E=new Uint32Array(m.buffer,0,m.byteLength>>2),R=E.length,P=n+7>>3,D=4294967295,F=ln.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(b=y<o?ii:s,f=0,w=0;w<b;w++){const I=k-d;let O=0;const V=I>P?n:I*8-7,W=V&-8;let Y=0,q=0;for(;O<W;O+=8)q=p[d++],E[f++]=q&128?D:F,E[f++]=q&64?D:F,E[f++]=q&32?D:F,E[f++]=q&16?D:F,E[f++]=q&8?D:F,E[f++]=q&4?D:F,E[f++]=q&2?D:F,E[f++]=q&1?D:F;for(;O<V;O++)Y===0&&(q=p[d++],Y=128),E[f++]=q&Y?D:F,Y>>=1}for(;f<R;)E[f++]=0;r.putImageData(u,0,y*ii)}}else if(e.kind===fd.RGBA_32BPP){for(w=0,A=n*ii*4,y=0;y<o;y++)m.set(p.subarray(d,d+A)),d+=A,r.putImageData(u,0,w),w+=ii;y<l&&(A=n*s*4,m.set(p.subarray(d,d+A)),r.putImageData(u,0,w))}else if(e.kind===fd.RGB_24BPP)for(b=ii,A=n*b,y=0;y<l;y++){for(y>=o&&(b=s,A=n*b),f=0,w=A;w--;)m[f++]=p[d++],m[f++]=p[d++],m[f++]=p[d++],m[f++]=255;r.putImageData(u,0,y*ii)}else throw new Error(`bad image kind: ${e.kind}`)}function k1(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,s=t%ii,o=(t-s)/ii,l=s===0?o:o+1,u=r.createImageData(n,ii);let d=0;const f=e.data,p=u.data;for(let m=0;m<l;m++){const y=m<o?ii:s;({srcPos:d}=e2({src:f,srcPos:d,dest:p,width:n,height:y,nonBlackColor:0})),r.putImageData(u,0,m*ii)}}function Hh(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function _g(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function C1(r,e){if(e)return!0;Ce.singularValueDecompose2dScale(r,Pi);const t=Math.fround(Ar.pixelRatio*no.PDF_TO_CSS_UNITS);return Pi[0]<=t&&Pi[1]<=t}const r2=["butt","round","square"],s2=["miter","round","bevel"],o2={},_1={};var br,Jw,Zw,e0;const TS=class TS{constructor(e,t,n,s,o,{optionalContentConfig:l,markedContentStack:u=null},d,f){C(this,br);this.ctx=e,this.current=new b1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new i2(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(..._t(this.compositeCtx))}this.ctx.save(),_g(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=_t(this.ctx)}executeOperatorList(e,t,n,s){const o=e.argsArray,l=e.fnArray;let u=t||0;const d=o.length;if(d===u)return u;const f=d-u>A1&&typeof n=="function",p=f?Date.now()+t2:0;let m=0;const y=this.commonObjs,w=this.objs;let b;for(;;){if(s!==void 0&&u===s.nextBreakPoint)return s.breakIt(u,n),u;if(b=l[u],b!==md.dependency)this[b].apply(this,o[u]);else for(const A of o[u]){const k=A.startsWith("g_")?y:w;if(!k.has(A))return k.get(A,n),u}if(u++,u===d)return u;if(f&&++m>A1){if(Date.now()>p)return n(),u;m=0}}}endDrawing(){_(this,br,Jw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,br,Zw).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,s=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),u=n,d=s,f="prescale1",p,m;for(;o>2&&u>1||l>2&&d>1;){let y=u,w=d;o>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/y),l>2&&d>1&&(w=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/w),p=this.cachedCanvases.getCanvas(f,y,w),m=p.context,m.clearRect(0,0,y,w),m.drawImage(e,0,0,u,d,0,0,y,w),e=p.canvas,u=y,d=w,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,o=this.current.fillColor,l=this.current.patternFill,u=_t(t);let d,f,p,m;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;f=JSON.stringify(l?u:[u.slice(0,4),o]),d=this._cachedBitmapsMap.get(W),d||(d=new Map,this._cachedBitmapsMap.set(W,d));const Y=d.get(f);if(Y&&!l){const q=Math.round(Math.min(u[0],u[2])+u[4]),ne=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:Y,offsetX:q,offsetY:ne}}p=Y}p||(m=this.cachedCanvases.getCanvas("maskCanvas",n,s),k1(m.context,e));let y=Ce.transform(u,[1/n,0,0,-1/s,0,0]);y=Ce.transform(y,[1,0,0,1,0,-s]);const w=Du.slice();Ce.axialAlignedBoundingBox([0,0,n,s],y,w);const[b,A,k,E]=w,R=Math.round(k-b)||1,P=Math.round(E-A)||1,D=this.cachedCanvases.getCanvas("fillCanvas",R,P),F=D.context,I=b,O=A;F.translate(-I,-O),F.transform(...y),p||(p=this._scaleImage(m.canvas,Mr(F)),p=p.img,d&&l&&d.set(f,p)),F.imageSmoothingEnabled=C1(_t(F),e.interpolate),Cg(F,p,0,0,p.width,p.height,0,0,n,s),F.globalCompositeOperation="source-in";const V=Ce.transform(Mr(F),[1,0,0,1,-I,-O]);return F.fillStyle=l?o.getPattern(t,this,V,vn.FILL):o,F.fillRect(0,0,n,s),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,D.canvas)),{canvas:D.canvas,offsetX:Math.round(I),offsetY:Math.round(O)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=r2[e]}setLineJoin(e){this.ctx.lineJoin=s2[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),Hh(this.suspendedCtx,o),n2(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Hh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const o=s[0],l=s[1],u=s[2]-o,d=s[3]-l;u===0||d===0||(this.genericComposeSMask(t.context,n,u,d,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,o,l,u,d,f,p,m){let y=e.canvas,w=d-p,b=f-m;if(l)if(w<0||b<0||w+n>y.width||b+s>y.height){const k=this.cachedCanvases.getCanvas("maskExtension",n,s),E=k.context;E.drawImage(y,-w,-b),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,n,s),E.globalCompositeOperation="source-over",y=k.canvas,w=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const k=new Path2D;k.rect(w,b,n,s),e.clip(k),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(w,b,n,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?t.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(u));const A=new Path2D;A.rect(d,f,n,s),t.clip(A),t.globalCompositeOperation="destination-in",t.drawImage(y,w,b,n,s,d,f,n,s),t.restore()}save(){this.inSMaskMode&&Hh(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Hh(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,s,o,l){this.ctx.transform(e,t,n,s,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[s]=t;if(!n){s||(s=t[0]=new Path2D),this[e](s);return}if(!(s instanceof Path2D)){const o=t[0]=new Path2D;for(let l=0,u=s.length;l<u;)switch(s[l++]){case bg.moveTo:o.moveTo(s[l++],s[l++]);break;case bg.lineTo:o.lineTo(s[l++],s[l++]);break;case bg.curveTo:o.bezierCurveTo(s[l++],s[l++],s[l++],s[l++],s[l++],s[l++]);break;case bg.closePath:o.closePath();break;default:ze(`Unrecognized drawing path operator: ${s[l-1]}`);break}s=o}Ce.axialAlignedBoundingBox(n,_t(this.ctx),this.current.minMax),this[e](s)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,s=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=s.getPattern(n,this,Mr(n),vn.STROKE),o){const l=new Path2D;l.addPath(e,n.getTransform().invertSelf().multiplySelf(o)),e=l}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(vn.STROKE,_t(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const d=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=s.getPattern(n,this,Mr(n),vn.FILL),d){const f=new Path2D;f.addPath(e,n.getTransform().invertSelf().multiplySelf(d)),e=f}l=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),l&&n.restore(),t&&this.consumePath(e,u)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=o2}eoClip(){this.pendingClip=_1}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,s=t.getTransform().invertSelf();for(const{transform:o,x:l,y:u,fontSize:d,path:f}of e)n.addPath(f,new DOMMatrix(o).preMultiplySelf(s).translate(l,u).scale(d,-d));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var p;const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||Tw,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ze("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((p=n.systemFontInfo)==null?void 0:p.css)||`"${o}", ${n.fallbackName}`;let u="normal";n.black?u="900":n.bold&&(u="bold");const d=n.italic?"italic":"normal";let f=t;t<S1?f=S1:t>x1&&(f=x1),this.current.fontSizeScale=t/f,this.ctx.font=`${d} ${u} ${f}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s,o){const l=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&En.FILL_STROKE_MASK,y=!!(f&En.ADD_TO_PATH_FLAG),w=u.patternFill&&!d.missingFile,b=u.patternStroke&&!d.missingFile;let A;if((d.disableFontFace||y||w||b)&&(A=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||w||b){l.save(),l.translate(t,n),l.scale(p,-p);let k;if((m===En.FILL||m===En.FILL_STROKE)&&(s?(k=l.getTransform(),l.setTransform(...s),l.fill(_(this,br,e0).call(this,A,k,s))):l.fill(A)),m===En.STROKE||m===En.FILL_STROKE)if(o){k||(k=l.getTransform()),l.setTransform(...o);const{a:E,b:R,c:P,d:D}=k,F=Ce.inverseTransform(o),I=Ce.transform([E,R,P,D,0,0],F);Ce.singularValueDecompose2dScale(I,Pi),l.lineWidth*=Math.max(Pi[0],Pi[1])/p,l.stroke(_(this,br,e0).call(this,A,k,o))}else l.lineWidth/=p,l.stroke(A);l.restore()}else(m===En.FILL||m===En.FILL_STROKE)&&l.fillText(e,t,n),(m===En.STROKE||m===En.FILL_STROKE)&&l.strokeText(e,t,n);y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:_t(l),x:t,y:n,fontSize:p,path:A})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return qe(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const o=this.ctx,l=t.fontSizeScale,u=t.charSpacing,d=t.wordSpacing,f=t.fontDirection,p=t.textHScale*f,m=e.length,y=n.vertical,w=y?1:-1,b=n.defaultVMetrics,A=s*t.fontMatrix[0],k=t.textRenderingMode===En.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),t.textMatrix&&o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),f>0?o.scale(p,-1):o.scale(p,1);let E,R;if(t.patternFill){o.save();const O=t.fillColor.getPattern(o,this,Mr(o),vn.FILL);E=_t(o),o.restore(),o.fillStyle=O}if(t.patternStroke){o.save();const O=t.strokeColor.getPattern(o,this,Mr(o),vn.STROKE);R=_t(o),o.restore(),o.strokeStyle=O}let P=t.lineWidth;const D=t.textMatrixScale;if(D===0||P===0){const O=t.textRenderingMode&En.FILL_STROKE_MASK;(O===En.STROKE||O===En.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=D;if(l!==1&&(o.scale(l,l),P/=l),o.lineWidth=P,n.isInvalidPDFjsFont){const O=[];let V=0;for(const W of e)O.push(W.unicode),V+=W.width;o.fillText(O.join(""),0,0),t.x+=V*A*p,o.restore(),this.compose();return}let F=0,I;for(I=0;I<m;++I){const O=e[I];if(typeof O=="number"){F+=w*O*s/1e3;continue}let V=!1;const W=(O.isSpace?d:0)+u,Y=O.fontChar,q=O.accent;let ne,ee,K=O.width;if(y){const Z=O.vmetric||b,J=-(O.vmetric?Z[1]:K*.5)*A,te=Z[2]*A;K=Z?-Z[0]:K,ne=J/l,ee=(F+te)/l}else ne=F/l,ee=0;if(n.remeasure&&K>0){const Z=o.measureText(Y).width*1e3/s*l;if(K<Z&&this.isFontSubpixelAAEnabled){const J=K/Z;V=!0,o.save(),o.scale(J,1),ne/=J}else K!==Z&&(ne+=(K-Z)/2e3*s/l)}if(this.contentVisible&&(O.isInFont||n.missingFile)){if(k&&!q)o.fillText(Y,ne,ee);else if(this.paintChar(Y,ne,ee,E,R),q){const Z=ne+s*q.offset.x/l,J=ee-s*q.offset.y/l;this.paintChar(q.fontChar,Z,J,E,R)}}const ce=y?K*A-W*f:K*A+W*f;F+=ce,V&&o.restore()}y?t.y-=F:t.x+=F*p,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,o=n.fontSize,l=n.fontDirection,u=s.vertical?1:-1,d=n.charSpacing,f=n.wordSpacing,p=n.textHScale*l,m=n.fontMatrix||Tw,y=e.length,w=n.textRenderingMode===En.INVISIBLE;let b,A,k,E;if(!(w||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(p,l),b=0;b<y;++b){if(A=e[b],typeof A=="number"){E=u*A*o/1e3,this.ctx.translate(E,0),n.x+=E*p;continue}const R=(A.isSpace?f:0)+d,P=s.charProcOperatorList[A.operatorListId];P?this.contentVisible&&(this.save(),t.scale(o,o),t.transform(...m),this.executeOperatorList(P),this.restore()):ze(`Type3 character "${A.operatorListId}" is not available.`);const D=[A.width,0];Ce.applyTransform(D,m),k=D[0]*o+R,t.translate(k,0),n.x+=k*p}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,o,l){const u=new Path2D;u.rect(n,s,o-n,l-s),this.ctx.clip(u),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||_t(this.ctx),s={createCanvasGraphics:o=>new TS(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Qw(e,this.ctx,s,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=ZN(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Mr(t),vn.SHADING);const s=Mr(t);if(s){const{width:o,height:l}=t.canvas,u=Du.slice();Ce.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,f,p,m]=u;this.ctx.fillRect(d,f,p-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){at("Should not call beginInlineImage")}beginImageData(){at("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=_t(this.ctx),t)){Ce.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,s,o,l]=t,u=new Path2D;u.rect(n,s,o-n,l-s),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Gm("TODO: Support non-isolated groups."),e.knockout&&ze("Knockout groups not supported.");const n=_t(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Du.slice();Ce.axialAlignedBoundingBox(e.bbox,_t(t),s);const o=[0,0,t.canvas.width,t.canvas.height];s=Ce.intersect(s,o)||[0,0,0,0];const l=Math.floor(s[0]),u=Math.floor(s[1]),d=Math.max(Math.ceil(s[2])-l,1),f=Math.max(Math.ceil(s[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,d,f),y=m.context;y.translate(-l,-u),y.transform(...n);let w=new Path2D;const[b,A,k,E]=e.bbox;if(w.rect(b,A,k-b,E-A),e.matrix){const R=new Path2D;R.addPath(w,new DOMMatrix(e.matrix)),w=R}y.clip(w),e.smask?this.smaskStack.push({canvas:m.canvas,context:y,offsetX:l,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,u),t.save()),Hh(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=_t(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const o=Du.slice();Ce.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s,o),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,s,o){if(_(this,br,Jw).call(this),_g(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],u=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=u,Ce.singularValueDecompose2dScale(_t(this.ctx),Pi);const{viewportScale:d}=this,f=Math.ceil(l*this.outputScaleX*d),p=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(Pi[0],0,0,-Pi[1],0,u*Pi[1]),_g(this.ctx)}else{_g(this.ctx),this.endPath();const d=new Path2D;d.rect(t[0],t[1],l,u),this.ctx.clip(d)}}this.current=new b1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,br,Zw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,s=this._createMaskCanvas(e),o=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,s=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const d=_t(u);u.transform(t,n,s,o,0,0);const f=this._createMaskCanvas(e);u.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let p=0,m=l.length;p<m;p+=2){const y=Ce.transform(d,[t,n,s,o,l[p],l[p+1]]);u.drawImage(f.canvas,y[4],y[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const o of e){const{data:l,width:u,height:d,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,d),m=p.context;m.save();const y=this.getObject(l,o);k1(m,y),m.globalCompositeOperation="source-in",m.fillStyle=s?n.getPattern(m,this,Mr(t),vn.FILL):n,m.fillRect(0,0,u,d),m.restore(),t.save(),t.transform(...f),t.scale(1,-1),Cg(t,p.canvas,0,0,u,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ze("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){ze("Dependent image isn't ready yet");return}const l=o.width,u=o.height,d=[];for(let f=0,p=s.length;f<p;f+=2)d.push({transform:[t,0,0,n,s[f],s[f+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:s}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,s),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;this.save();const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/t,-1/n);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",t,n).context;E1(f,e),l=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(l,Mr(s));s.imageSmoothingEnabled=C1(_t(s),e.interpolate),Cg(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const o=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",o,l).context;E1(d,e),s=this.applyTransferMapsToCanvas(d)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),Cg(n,s,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(n||(this.pendingClip===_1?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=_t(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:o}=this.ctx.getTransform();let l,u;if(n===0&&s===0){const d=Math.abs(t),f=Math.abs(o);if(d===f)if(e===0)l=u=1/d;else{const p=d*e;l=u=p<1?1/p:1}else if(e===0)l=1/d,u=1/f;else{const p=d*e,m=f*e;l=p<1?1/p:1,u=m<1?1/m:1}}else{const d=Math.abs(t*o-n*s),f=Math.hypot(t,n),p=Math.hypot(s,o);if(e===0)l=p/d,u=f/d;else{const m=e*d;l=p>m?p/m:1,u=f>m?f/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:s}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(s||1)*o,n.stroke(e);return}const u=n.getLineDash();t&&n.save(),n.scale(o,l),fw.a=1/o,fw.d=1/l;const d=new Path2D;if(d.addPath(e,fw),u.length>0){const f=Math.max(o,l);n.setLineDash(u.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=s||1,n.stroke(d),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};br=new WeakSet,Jw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Zw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},e0=function(e,t,n){const s=new Path2D;return s.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),s};let ju=TS;for(const r in md)ju.prototype[r]!==void 0&&(ju.prototype[md[r]]=ju.prototype[r]);var Kd,Qd;class Li{static get workerPort(){return c(this,Kd)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");x(this,Kd,e)}static get workerSrc(){return c(this,Qd)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");x(this,Qd,e)}}Kd=new WeakMap,Qd=new WeakMap,C(Li,Kd,null),C(Li,Qd,"");var ac,Jd;class a2{constructor({parsedData:e,rawData:t}){C(this,ac);C(this,Jd);x(this,ac,e),x(this,Jd,t)}getRaw(){return c(this,Jd)}get(e){return c(this,ac).get(e)??null}[Symbol.iterator](){return c(this,ac).entries()}}ac=new WeakMap,Jd=new WeakMap;const Lu=Symbol("INTERNAL");var Zd,ef,tf,lc;class l2{constructor(e,{name:t,intent:n,usage:s,rbGroups:o}){C(this,Zd,!1);C(this,ef,!1);C(this,tf,!1);C(this,lc,!0);x(this,Zd,!!(e&Ti.DISPLAY)),x(this,ef,!!(e&Ti.PRINT)),this.name=t,this.intent=n,this.usage=s,this.rbGroups=o}get visible(){if(c(this,tf))return c(this,lc);if(!c(this,lc))return!1;const{print:e,view:t}=this.usage;return c(this,Zd)?(t==null?void 0:t.viewState)!=="OFF":c(this,ef)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Lu&&at("Internal method `_setVisible` called."),x(this,tf,n),x(this,lc,t)}}Zd=new WeakMap,ef=new WeakMap,tf=new WeakMap,lc=new WeakMap;var Uo,st,uc,cc,nf,t0;class u2{constructor(e,t=Ti.DISPLAY){C(this,nf);C(this,Uo,null);C(this,st,new Map);C(this,uc,null);C(this,cc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,x(this,cc,e.order);for(const n of e.groups)c(this,st).set(n.id,new l2(t,n));if(e.baseState==="OFF")for(const n of c(this,st).values())n._setVisible(Lu,!1);for(const n of e.on)c(this,st).get(n)._setVisible(Lu,!0);for(const n of e.off)c(this,st).get(n)._setVisible(Lu,!1);x(this,uc,this.getHash())}}isVisible(e){if(c(this,st).size===0)return!0;if(!e)return Gm("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,st).has(e.id)?c(this,st).get(e.id).visible:(ze(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,nf,t0).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,st).has(t))return ze(`Optional content group not found: ${t}`),!0;if(c(this,st).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,st).has(t))return ze(`Optional content group not found: ${t}`),!0;if(!c(this,st).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,st).has(t))return ze(`Optional content group not found: ${t}`),!0;if(!c(this,st).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,st).has(t))return ze(`Optional content group not found: ${t}`),!0;if(c(this,st).get(t).visible)return!1}return!0}return ze(`Unknown optional content policy ${e.policy}.`),!0}return ze(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const s=c(this,st).get(e);if(!s){ze(`Optional content group not found: ${e}`);return}if(n&&t&&s.rbGroups.length)for(const l of s.rbGroups)for(const u of l)u!==e&&((o=c(this,st).get(u))==null||o._setVisible(Lu,!1,!0));s._setVisible(Lu,!!t,!0),x(this,Uo,null)}setOCGState({state:e,preserveRB:t}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const o=c(this,st).get(s);if(o)switch(n){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!o.visible,t);break}}x(this,Uo,null)}get hasInitialVisibility(){return c(this,uc)===null||this.getHash()===c(this,uc)}getOrder(){return c(this,st).size?c(this,cc)?c(this,cc).slice():[...c(this,st).keys()]:null}getGroup(e){return c(this,st).get(e)||null}getHash(){if(c(this,Uo)!==null)return c(this,Uo);const e=new Ck;for(const[t,n]of c(this,st))e.update(`${t}:${n.visible}`);return x(this,Uo,e.hexdigest())}[Symbol.iterator](){return c(this,st).entries()}}Uo=new WeakMap,st=new WeakMap,uc=new WeakMap,cc=new WeakMap,nf=new WeakSet,t0=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const o=e[s];let l;if(Array.isArray(o))l=_(this,nf,t0).call(this,o);else if(c(this,st).has(o))l=c(this,st).get(o).visible;else return ze(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class c2{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ut(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:l,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),e.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Ut(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,s,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||o.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ut(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new h2(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new d2(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class h2{constructor(e,t,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=Xm(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class d2{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function f2(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let p=u(t);return p=unescape(p),p=d(p),p=f(p),o(p)}if(t=l(r),t){const p=f(t);return o(p)}if(t=n("filename","i").exec(r),t){t=t[1];let p=u(t);return p=f(p),o(p)}function n(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function s(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(p,{fatal:!0}),w=rp(m);m=y.decode(w),e=!1}catch{}}return m}function o(p){return e&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),e&&(p=s("iso-8859-1",p))),p}function l(p){const m=[];let y;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=w.exec(p))!==null;){let[,A,k,E]=y;if(A=parseInt(A,10),A in m){if(A===0)break;continue}m[A]=[k,E]}const b=[];for(let A=0;A<m.length&&A in m;++A){let[k,E]=m[A];E=u(E),k&&(E=unescape(E),A===0&&(E=d(E))),b.push(E)}return b.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let y=0;y<m.length;++y){const w=m[y].indexOf('"');w!==-1&&(m[y]=m[y].slice(0,w),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const y=p.slice(0,m),b=p.slice(m+1).replace(/^[^']*'/,"");return s(y,b)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,w,b){if(w==="q"||w==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,k){return String.fromCharCode(parseInt(k,16))}),s(y,b);try{b=atob(b)}catch{}return s(y,b)})}return""}function Bk(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const s=e[n];s!==void 0&&t.append(n,s)}return t}function Km(r){var e;return((e=URL.parse(r))==null?void 0:e.origin)??null}function jk({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(r.get("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Hk(r){const e=r.get("Content-Disposition");if(e){let t=f2(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Xm(t))return t}return null}function lp(r,e){return new yd(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function Uk(r){return r===200||r===206}function $k(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Vk(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(ze(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class p2{constructor(e){le(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Bk(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ut(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g2(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new m2(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class g2{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,$k(n,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=Km(o.url),!Uk(o.status))throw lp(o.status,s);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:d}=jk({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=Hk(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new to("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Vk(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class m2{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=s.url;fetch(l,$k(o,this._withCredentials,this._abortController)).then(u=>{const d=Km(u.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!Uk(u.status))throw lp(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:Vk(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const pw=200,gw=206;function y2(r){const e=r.response;return typeof e!="string"?e:rp(e).buffer}class v2{constructor({url:e,httpHeaders:t,withCredentials:n}){le(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Bk(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=gw):s.expectedStatus=pw,t.responseType="arraybuffer",Ut(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var s;const n=this.pendingRequests[e];n&&((s=n.onProgress)==null||s.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){n.onError(s.status);return}const o=s.status||pw;if(!(o===pw&&n.expectedStatus===gw)&&o!==n.expectedStatus){n.onError(s.status);return}const u=y2(s);if(o===gw){const d=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:u}):(ze('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class w2{constructor(e){this._source=e,this._manager=new v2(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ut(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new S2(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new x2(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class S2{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Km(t.responseURL);const n=t.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=jk({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=Hk(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=lp(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x2{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Km((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=lp(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const A2=/^[a-z][a-z0-9\-+.]+:/i;function b2(r){if(A2.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class E2{constructor(e){this.source=e,this.url=b2(e.url),Ut(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ut(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new k2(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new C2(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class k2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=lp(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new to("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class C2{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Uh=Symbol("INITIAL_DATA");var yi,rf,n0;class Wk{constructor(){C(this,rf);C(this,yi,Object.create(null))}get(e,t=null){if(t){const s=_(this,rf,n0).call(this,e);return s.promise.then(()=>t(s.data)),null}const n=c(this,yi)[e];if(!n||n.data===Uh)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=c(this,yi)[e];return!!t&&t.data!==Uh}delete(e){const t=c(this,yi)[e];return!t||t.data===Uh?!1:(delete c(this,yi)[e],!0)}resolve(e,t=null){const n=_(this,rf,n0).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in c(this,yi)){const{data:n}=c(this,yi)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}x(this,yi,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,yi)){const{data:t}=c(this,yi)[e];t!==Uh&&(yield[e,t])}}}yi=new WeakMap,rf=new WeakSet,n0=function(e){var t;return(t=c(this,yi))[e]||(t[e]={...Promise.withResolvers(),data:Uh})};const _2=1e5,T1=30;var H1,$o,ti,sf,of,ol,Ms,af,lf,al,hc,dc,Vo,fc,uf,pc,ll,cf,hf,Lt,gc,ul,df,Wo,mc,io,Gk,qk,i0,Mi,Vg,r0,Xk,Yk;let wd=(Lt=class{constructor({textContentSource:e,container:t,viewport:n}){C(this,io);C(this,$o,Promise.withResolvers());C(this,ti,null);C(this,sf,!1);C(this,of,!!((H1=globalThis.FontInspector)!=null&&H1.enabled));C(this,ol,null);C(this,Ms,null);C(this,af,0);C(this,lf,0);C(this,al,null);C(this,hc,null);C(this,dc,0);C(this,Vo,0);C(this,fc,Object.create(null));C(this,uf,[]);C(this,pc,null);C(this,ll,[]);C(this,cf,new WeakMap);C(this,hf,null);var d;if(e instanceof ReadableStream)x(this,pc,e);else if(typeof e=="object")x(this,pc,new ReadableStream({start(f){f.enqueue(e),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');x(this,ti,x(this,hc,t)),x(this,Vo,n.scale*Ar.pixelRatio),x(this,dc,n.rotation),x(this,Ms,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:o,pageX:l,pageY:u}=n.rawDims;x(this,hf,[1,0,0,-1,-l,u+o]),x(this,lf,s),x(this,af,o),_(d=Lt,Mi,Xk).call(d),ca(t,n),c(this,$o).promise.finally(()=>{c(Lt,mc).delete(this),x(this,Ms,null),x(this,fc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ln.platform;return qe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,al).read().then(({value:t,done:n})=>{if(n){c(this,$o).resolve();return}c(this,ol)??x(this,ol,t.lang),Object.assign(c(this,fc),t.styles),_(this,io,Gk).call(this,t.items),e()},c(this,$o).reject)};return x(this,al,c(this,pc).getReader()),c(Lt,mc).add(this),e(),c(this,$o).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*Ar.pixelRatio,s=e.rotation;if(s!==c(this,dc)&&(t==null||t(),x(this,dc,s),ca(c(this,hc),{rotation:s})),n!==c(this,Vo)){t==null||t(),x(this,Vo,n);const l={div:null,properties:null,ctx:_(o=Lt,Mi,Vg).call(o,c(this,ol))};for(const u of c(this,ll))l.properties=c(this,cf).get(u),l.div=u,_(this,io,i0).call(this,l)}}cancel(){var t;const e=new to("TextLayer task cancelled.");(t=c(this,al))==null||t.cancel(e).catch(()=>{}),x(this,al,null),c(this,$o).reject(e)}get textDivs(){return c(this,ll)}get textContentItemsStr(){return c(this,uf)}static cleanup(){if(!(c(this,mc).size>0)){c(this,gc).clear();for(const{canvas:e}of c(this,ul).values())e.remove();c(this,ul).clear()}}},$o=new WeakMap,ti=new WeakMap,sf=new WeakMap,of=new WeakMap,ol=new WeakMap,Ms=new WeakMap,af=new WeakMap,lf=new WeakMap,al=new WeakMap,hc=new WeakMap,dc=new WeakMap,Vo=new WeakMap,fc=new WeakMap,uf=new WeakMap,pc=new WeakMap,ll=new WeakMap,cf=new WeakMap,hf=new WeakMap,gc=new WeakMap,ul=new WeakMap,df=new WeakMap,Wo=new WeakMap,mc=new WeakMap,io=new WeakSet,Gk=function(e){var s,o;if(c(this,sf))return;(o=c(this,Ms)).ctx??(o.ctx=_(s=Lt,Mi,Vg).call(s,c(this,ol)));const t=c(this,ll),n=c(this,uf);for(const l of e){if(t.length>_2){ze("Ignoring additional textDivs for performance reasons."),x(this,sf,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const u=c(this,ti);x(this,ti,document.createElement("span")),c(this,ti).classList.add("markedContent"),l.id!==null&&c(this,ti).setAttribute("id",`${l.id}`),u.append(c(this,ti))}else l.type==="endMarkedContent"&&x(this,ti,c(this,ti).parentNode);continue}n.push(l.str),_(this,io,qk).call(this,l)}},qk=function(e){var A;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,ll).push(t);const s=Ce.transform(c(this,hf),e.transform);let o=Math.atan2(s[1],s[0]);const l=c(this,fc)[e.fontName];l.vertical&&(o+=Math.PI/2);let u=c(this,of)&&l.fontSubstitution||l.fontFamily;u=Lt.fontFamilyMap.get(u)||u;const d=Math.hypot(s[2],s[3]),f=d*_(A=Lt,Mi,Yk).call(A,u,l,c(this,ol));let p,m;o===0?(p=s[4],m=s[5]-f):(p=s[4]+f*Math.sin(o),m=s[5]-f*Math.cos(o));const y="calc(var(--total-scale-factor) *",w=t.style;c(this,ti)===c(this,hc)?(w.left=`${(100*p/c(this,lf)).toFixed(2)}%`,w.top=`${(100*m/c(this,af)).toFixed(2)}%`):(w.left=`${y}${p.toFixed(2)}px)`,w.top=`${y}${m.toFixed(2)}px)`),w.fontSize=`${y}${(c(Lt,Wo)*d).toFixed(2)}px)`,w.fontFamily=u,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,of)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const k=Math.abs(e.transform[0]),E=Math.abs(e.transform[3]);k!==E&&Math.max(k,E)/Math.min(k,E)>1.5&&(b=!0)}if(b&&(n.canvasWidth=l.vertical?e.height:e.width),c(this,cf).set(t,n),c(this,Ms).div=t,c(this,Ms).properties=n,_(this,io,i0).call(this,c(this,Ms)),n.hasText&&c(this,ti).append(t),n.hasEOL){const k=document.createElement("br");k.setAttribute("role","presentation"),c(this,ti).append(k)}},i0=function(e){var u;const{div:t,properties:n,ctx:s}=e,{style:o}=t;let l="";if(c(Lt,Wo)>1&&(l=`scale(${1/c(Lt,Wo)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=o,{canvasWidth:f,fontSize:p}=n;_(u=Lt,Mi,r0).call(u,s,p*c(this,Vo),d);const{width:m}=s.measureText(t.textContent);m>0&&(l=`scaleX(${f*c(this,Vo)/m}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},Mi=new WeakSet,Vg=function(e=null){let t=c(this,ul).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,ul).set(e,t),c(this,df).set(t,{size:0,family:""})}return t},r0=function(e,t,n){const s=c(this,df).get(e);t===s.size&&n===s.family||(e.font=`${t}px ${n}`,s.size=t,s.family=n)},Xk=function(){if(c(this,Wo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),x(this,Wo,e.getBoundingClientRect().height),e.remove()},Yk=function(e,t,n){const s=c(this,gc).get(e);if(s)return s;const o=_(this,Mi,Vg).call(this,n);o.canvas.width=o.canvas.height=T1,_(this,Mi,r0).call(this,o,T1,e);const l=o.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(ln.platform.isFirefox&&ze("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),c(this,gc).set(e,f),f},C(Lt,Mi),C(Lt,gc,new Map),C(Lt,ul,new Map),C(Lt,df,new WeakMap),C(Lt,Wo,null),C(Lt,mc,new Set),Lt);class Sd{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function s(o){var d;if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(Sd.shouldBuildText(u))(d=o==null?void 0:o.attributes)!=null&&d.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const f of o.children)s(f)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const T2=100;function vS(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new s0,{docId:t}=e,n=r.url?zN(r.url):null,s=r.data?BN(r.data):null,o=r.httpHeaders||null,l=r.withCredentials===!0,u=r.password??null,d=r.range instanceof wS?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let p=r.worker instanceof Yc?r.worker:null;const m=r.verbosity,y=typeof r.docBaseUrl=="string"&&!op(r.docBaseUrl)?r.docBaseUrl:null,w=Eg(r.cMapUrl),b=r.cMapPacked!==!1,A=r.CMapReaderFactory||(jn?GN:m1),k=Eg(r.iccUrl),E=Eg(r.standardFontDataUrl),R=r.StandardFontDataFactory||(jn?qN:y1),P=Eg(r.wasmUrl),D=r.WasmFactory||(jn?XN:v1),F=r.stopAtErrors!==!0,I=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,O=r.isEvalSupported!==!1,V=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!jn,W=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!jn&&(ln.platform.isFirefox||!globalThis.chrome),Y=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,q=typeof r.disableFontFace=="boolean"?r.disableFontFace:jn,ne=r.fontExtraProperties===!0,ee=r.enableXfa===!0,K=r.ownerDocument||globalThis.document,ce=r.disableRange===!0,Z=r.disableStream===!0,J=r.disableAutoFetch===!0,te=r.pdfBug===!0,he=r.CanvasFactory||(jn?WN:UN),L=r.FilterFactory||(jn?VN:$N),B=r.enableHWA===!0,X=r.useWasm!==!1,M=d?d.length:r.length??NaN,Se=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!jn&&!q,_e=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(A===m1&&R===y1&&D===v1&&w&&E&&P&&Wh(w,document.baseURI)&&Wh(E,document.baseURI)&&Wh(P,document.baseURI)),ye=null;SN(m);const be={canvasFactory:new he({ownerDocument:K,enableHWA:B}),filterFactory:new L({docId:t,ownerDocument:K}),cMapReaderFactory:_e?null:new A({baseUrl:w,isCompressed:b}),standardFontDataFactory:_e?null:new R({baseUrl:E}),wasmFactory:_e?null:new D({baseUrl:P})};p||(p=Yc.create({verbosity:m,port:Li.workerPort}),e._worker=p);const Ie={docId:t,apiVersion:"5.3.93",data:s,password:u,disableAutoFetch:J,rangeChunkSize:f,length:M,docBaseUrl:y,enableXfa:ee,evaluatorOptions:{maxImageSize:I,disableFontFace:q,ignoreErrors:F,isEvalSupported:O,isOffscreenCanvasSupported:V,isImageDecoderSupported:W,canvasMaxAreaInBytes:Y,fontExtraProperties:ne,useSystemFonts:Se,useWasm:X,useWorkerFetch:_e,cMapUrl:w,iccUrl:k,standardFontDataUrl:E,wasmUrl:P}},Be={ownerDocument:K,pdfBug:te,styleElement:ye,loadingParams:{disableAutoFetch:J,enableXfa:ee}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Oe=p.messageHandler.sendWithPromise("GetDocRequest",Ie,s?[s.buffer]:null);let Vt;if(d)Vt=new c2(d,{disableRange:ce,disableStream:Z});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Vn=Wh(n)?p2:jn?E2:w2;Vt=new Vn({url:n,length:M,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:ce,disableStream:Z})}return Oe.then(Vn=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const $e=new Kh(t,Vn,p.port),tt=new L2($e,e,Vt,Be,be);e._transport=tt,$e.send("Ready",null)})}).catch(e._capability.reject),e}var Rm;const Lm=class Lm{constructor(){le(this,"_capability",Promise.withResolvers());le(this,"_transport",null);le(this,"_worker",null);le(this,"docId",`d${Dn(Lm,Rm)._++}`);le(this,"destroyed",!1);le(this,"onPassword",null);le(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(o){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,o}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Rm=new WeakMap,C(Lm,Rm,0);let s0=Lm;var cl,ff,pf,gf,mf,U1;let wS=(U1=class{constructor(e,t,n=!1,s=null){C(this,cl,Promise.withResolvers());C(this,ff,[]);C(this,pf,[]);C(this,gf,[]);C(this,mf,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(e){c(this,mf).push(e)}addProgressListener(e){c(this,gf).push(e)}addProgressiveReadListener(e){c(this,pf).push(e)}addProgressiveDoneListener(e){c(this,ff).push(e)}onDataRange(e,t){for(const n of c(this,mf))n(e,t)}onDataProgress(e,t){c(this,cl).promise.then(()=>{for(const n of c(this,gf))n(e,t)})}onDataProgressiveRead(e){c(this,cl).promise.then(()=>{for(const t of c(this,pf))t(e)})}onDataProgressiveDone(){c(this,cl).promise.then(()=>{for(const e of c(this,ff))e()})}transportReady(){c(this,cl).resolve()}requestDataRange(e,t){at("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},cl=new WeakMap,ff=new WeakMap,pf=new WeakMap,gf=new WeakMap,mf=new WeakMap,U1);class P2{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return qe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ds,hl,td;class R2{constructor(e,t,n,s=!1){C(this,hl);C(this,Ds,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new f1:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new Wk,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:o=!1}={}){return new sp({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return qe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=ts.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:m=!1}){var D,F;(D=this._stats)==null||D.time("Overall");const y=this._transport.getRenderingIntent(n,s,p,m),{renderingIntent:w,cacheKey:b}=y;x(this,Ds,!1),u||(u=this._transport.getOptionalContentConfig(w));let A=this._intentStates.get(b);A||(A=Object.create(null),this._intentStates.set(b,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const k=!!(w&Ti.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(y));const E=I=>{var O;A.renderTasks.delete(R),k&&x(this,Ds,!0),_(this,hl,td).call(this),I?(R.capability.reject(I),this._abortOperatorList({intentState:A,reason:I instanceof Error?I:new Error(I)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(O=globalThis.Stats)!=null&&O.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new o0({callback:E,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:f});(A.renderTasks||(A.renderTasks=new Set)).add(R);const P=R.task;return Promise.all([A.displayReadyCapability.promise,u]).then(([I,O])=>{var V;if(this.destroyed){E();return}if((V=this._stats)==null||V.time("Rendering"),!(O.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:I,optionalContentConfig:O}),R.operatorListChanged()}).catch(E),P}getOperatorList({intent:e="display",annotationMode:t=ts.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var f;function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,n,s,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Sd.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,s){function o(){l.read().then(function({value:d,done:f}){if(f){n(u);return}u.lang??(u.lang=d.lang),Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},s)}const l=t.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),x(this,Ds,!1),Promise.all(e)}cleanup(e=!1){x(this,Ds,!0);const t=_(this,hl,td).call(this);return e&&t&&this._stats&&(this._stats=new f1),t}_startRenderPage(e,t){var s,o;const n=this._intentStates.get(t);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&_(this,hl,td).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:s}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:s},l).getReader(),f=this._intentStates.get(t);f.streamReader=d;const p=()=>{d.read().then(({value:m,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();_(this,hl,td).call(this)}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof qm){let s=T2;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new to(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Ds=new WeakMap,hl=new WeakSet,td=function(){if(!c(this,Ds)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(this,Ds,!1),!0};var Go,hr,Ns,dl,Im,fl,pl,Un,Wg,Kk,Qk,nd,yc,Gg;const St=class St{constructor({name:e=null,port:t=null,verbosity:n=xN()}={}){C(this,Un);C(this,Go,Promise.withResolvers());C(this,hr,null);C(this,Ns,null);C(this,dl,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(c(St,pl).has(t))throw new Error("Cannot use more than one PDFWorker per port.");c(St,pl).set(t,this),_(this,Un,Kk).call(this,t)}else _(this,Un,Qk).call(this)}get promise(){return c(this,Go).promise}get port(){return c(this,Ns)}get messageHandler(){return c(this,hr)}destroy(){var e,t;this.destroyed=!0,(e=c(this,dl))==null||e.terminate(),x(this,dl,null),c(St,pl).delete(c(this,Ns)),x(this,Ns,null),(t=c(this,hr))==null||t.destroy(),x(this,hr,null)}static create(e){const t=c(this,pl).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new St(e)}static get workerSrc(){if(Li.workerSrc)return Li.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return qe(this,"_setupFakeWorkerGlobal",(async()=>c(this,yc,Gg)?c(this,yc,Gg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Go=new WeakMap,hr=new WeakMap,Ns=new WeakMap,dl=new WeakMap,Im=new WeakMap,fl=new WeakMap,pl=new WeakMap,Un=new WeakSet,Wg=function(){c(this,Go).resolve(),c(this,hr).send("configure",{verbosity:this.verbosity})},Kk=function(e){x(this,Ns,e),x(this,hr,new Kh("main","worker",e)),c(this,hr).on("ready",()=>{}),_(this,Un,Wg).call(this)},Qk=function(){if(c(St,fl)||c(St,yc,Gg)){_(this,Un,nd).call(this);return}let{workerSrc:e}=St;try{St._isSameOrigin(window.location,e)||(e=St._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Kh("main","worker",t),s=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?c(this,Go).reject(new Error("Worker was destroyed")):_(this,Un,nd).call(this)},o=new AbortController;t.addEventListener("error",()=>{c(this,dl)||s()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){s();return}x(this,hr,n),x(this,Ns,t),x(this,dl,t),_(this,Un,Wg).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){s();return}try{l()}catch{_(this,Un,nd).call(this)}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{Gm("The worker has been disabled.")}_(this,Un,nd).call(this)},nd=function(){c(St,fl)||(ze("Setting up fake worker."),x(St,fl,!0)),St._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){c(this,Go).reject(new Error("Worker was destroyed"));return}const t=new HN;x(this,Ns,t);const n=`fake${Dn(St,Im)._++}`,s=new Kh(n+"_worker",n,t);e.setup(s,t),x(this,hr,new Kh(n,n+"_worker",t)),_(this,Un,Wg).call(this)}).catch(e=>{c(this,Go).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},yc=new WeakSet,Gg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},C(St,yc),C(St,Im,0),C(St,fl,!1),C(St,pl,new WeakMap),jn&&(x(St,fl,!0),Li.workerSrc||(Li.workerSrc="./pdf.worker.mjs")),St._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const s=new URL(t,n);return n.origin===s.origin},St._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},St.fromPort=e=>{if(RN("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return St.create(e)};let Yc=St;var Fs,Gr,vc,wc,Os,gl,id;class L2{constructor(e,t,n,s,o){C(this,gl);C(this,Fs,new Map);C(this,Gr,new Map);C(this,vc,new Map);C(this,wc,new Map);C(this,Os,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Wk,this.fontLoader=new FN({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return qe(this,"annotationStorage",new gS)}getRenderingIntent(e,t=ts.ENABLE,n=null,s=!1,o=!1){let l=Ti.DISPLAY,u=Gw;switch(e){case"any":l=Ti.ANY;break;case"display":break;case"print":l=Ti.PRINT;break;default:ze(`getRenderingIntent - invalid intent: ${e}`)}const d=l&Ti.PRINT&&n instanceof Tk?n:this.annotationStorage;switch(t){case ts.DISABLE:l+=Ti.ANNOTATIONS_DISABLE;break;case ts.ENABLE:break;case ts.ENABLE_FORMS:l+=Ti.ANNOTATIONS_FORMS;break;case ts.ENABLE_STORAGE:l+=Ti.ANNOTATIONS_STORAGE,u=d.serializable;break;default:ze(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(l+=Ti.IS_EDITING),o&&(l+=Ti.OPLIST);const{ids:f,hash:p}=d.modifiedIds,m=[l,u.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=c(this,Os))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of c(this,Gr).values())e.push(s._destroy());c(this,Gr).clear(),c(this,vc).clear(),c(this,wc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,o;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Fs).clear(),this.filterFactory.destroy(),wd.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new to("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,s)=>{Ut(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){s.close();return}Ut(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:o,contentLength:l}=this._fullReader;return(!s||!o)&&(this._lastProgress&&((u=t.onProgress)==null||u.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var f;(f=t.onProgress)==null||f.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:s,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,s)=>{Ut(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){s.close();return}Ut(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{o.cancel(l),s.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new P2(n,this))}),e.on("DocException",n=>{t._capability.reject(Jn(n))}),e.on("PasswordRequest",n=>{x(this,Os,Promise.withResolvers());try{if(!t.onPassword)throw Jn(n);const s=o=>{o instanceof Error?c(this,Os).reject(o):c(this,Os).resolve({password:o})};t.onPassword(s,n.code)}catch(s){c(this,Os).reject(s)}return c(this,Os).promise}),e.on("DataLoaded",n=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;c(this,Gr).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":if("error"in o){const p=o.error;ze(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const u=this._params.pdfBug&&((l=globalThis.FontInspector)!=null&&l.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new ON(o,u);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=o;Ut(f,"The imageRef must be defined.");for(const p of c(this,Gr).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,o,l])=>{var d;if(this.destroyed)return;const u=c(this,Gr).get(s);if(!u.objs.has(n)){if(u._intentStates.size===0){(d=l==null?void 0:l.bitmap)==null||d.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[n.type];if(!s)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&ze("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=c(this,vc).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&c(this,wc).set(o.refStr,e);const l=new R2(t,o,this,this._params.pdfBug);return c(this,Gr).set(t,l),l});return c(this,vc).set(t,s),s}getPageIndex(e){return qw(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,gl,id).call(this,"GetFieldObjects")}hasJSActions(){return _(this,gl,id).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,gl,id).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,gl,id).call(this,"GetOptionalContentConfig").then(t=>new u2(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,Fs).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(s=>{var o,l;return{info:s[0],metadata:s[1]?new a2(s[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return c(this,Fs).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,Gr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Fs).clear(),this.filterFactory.destroy(!0),wd.cleanup()}}cachedPageNumber(e){if(!qw(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,wc).get(t)??null}}Fs=new WeakMap,Gr=new WeakMap,vc=new WeakMap,wc=new WeakMap,Os=new WeakMap,gl=new WeakSet,id=function(e,t=null){const n=c(this,Fs).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return c(this,Fs).set(e,s),s};var qo;class I2{constructor(e){C(this,qo,null);le(this,"onContinue",null);le(this,"onError",null);x(this,qo,e)}get promise(){return c(this,qo).capability.promise}cancel(e=0){c(this,qo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,qo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,qo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}qo=new WeakMap;var Xo,ml;const Fa=class Fa{constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:y=null}){C(this,Xo,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new I2(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var u,d;if(this.cancelled)return;if(this._canvas){if(c(Fa,ml).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(Fa,ml).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:o,background:l}=this.params;this.gfx=new ju(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var n,s,o;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),c(this,Xo)&&(window.cancelAnimationFrame(c(this,Xo)),x(this,Xo,null)),c(Fa,ml).delete(this._canvas),e||(e=new qm(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(o=(s=this.task).onError)==null||o.call(s,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(this,Xo,window.requestAnimationFrame(()=>{x(this,Xo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(Fa,ml).delete(this._canvas),this.callback())))}};Xo=new WeakMap,ml=new WeakMap,C(Fa,ml,new WeakSet);let o0=Fa;const SS="5.3.93",Jk="cbeef3233";function P1(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function $h(r){return Math.max(0,Math.min(255,255*r))}class R1{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=$h(e),[e,e,e]}static G_HTML([e]){const t=P1(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map($h)}static RGB_HTML(e){return`#${e.map(P1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,n,s]){return[$h(1-Math.min(1,e+s)),$h(1-Math.min(1,n+s)),$h(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const s=1-e,o=1-t,l=1-n,u=Math.min(s,o,l);return["CMYK",s,o,l,u]}}class M2{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){at("Abstract method `_createSVG` called.")}}class xd extends M2{_createSVG(e){return document.createElementNS(ms,e)}}class xS{static setupStorage(e,t,n,s,o){const l=s.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",u=>{s.setValue(t,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",u=>{s.setValue(t,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",u=>{s.setValue(t,{value:u.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;s.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:s,linkService:o}){const{attributes:l}=t,u=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}u&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var m,y;const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,o=e.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:o,linkService:n});const u=o!=="richText",d=e.div;if(d.append(l),e.viewport){const w=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=w}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(s.children.length===0){if(s.value){const w=document.createTextNode(s.value);l.append(w),u&&Sd.shouldBuildText(s.name)&&f.push(w)}return{textDivs:f}}const p=[[s,-1,l]];for(;p.length>0;){const[w,b,A]=p.at(-1);if(b+1===w.children.length){p.pop();continue}const k=w.children[++p.at(-1)[1]];if(k===null)continue;const{name:E}=k;if(E==="#text"){const P=document.createTextNode(k.value);f.push(P),A.append(P);continue}const R=(m=k==null?void 0:k.attributes)!=null&&m.xmlns?document.createElementNS(k.attributes.xmlns,E):document.createElement(E);if(A.append(R),k.attributes&&this.setAttributes({html:R,element:k,storage:t,intent:o,linkService:n}),((y=k.children)==null?void 0:y.length)>0)p.push([k,-1,R]);else if(k.value){const P=document.createTextNode(k.value);u&&Sd.shouldBuildText(E)&&f.push(P),R.append(P)}}for(const w of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const D2=9,Wl=new WeakSet;class L1{static create(e){switch(e.data.annotationType){case Dt.LINK:return new Zk(e);case Dt.TEXT:return new N2(e);case Dt.WIDGET:switch(e.data.fieldType){case"Tx":return new F2(e);case"Btn":return e.data.radioButton?new nC(e):e.data.checkBox?new z2(e):new B2(e);case"Ch":return new j2(e);case"Sig":return new O2(e)}return new Ql(e);case Dt.POPUP:return new l0(e);case Dt.FREETEXT:return new aC(e);case Dt.LINE:return new U2(e);case Dt.SQUARE:return new $2(e);case Dt.CIRCLE:return new V2(e);case Dt.POLYLINE:return new lC(e);case Dt.CARET:return new G2(e);case Dt.INK:return new AS(e);case Dt.POLYGON:return new W2(e);case Dt.HIGHLIGHT:return new uC(e);case Dt.UNDERLINE:return new q2(e);case Dt.SQUIGGLY:return new X2(e);case Dt.STRIKEOUT:return new Y2(e);case Dt.STAMP:return new cC(e);case Dt.FILEATTACHMENT:return new K2(e);default:return new zt(e)}}}var yl,Sc,xc,yf,a0;const PS=class PS{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){C(this,yf);C(this,yl,null);C(this,Sc,!1);C(this,xc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return PS._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;c(this,yl)||x(this,yl,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,yf,a0).call(this,t),(n=c(this,xc))==null||n.popup.updateEdited(e)}resetEdited(){var e;c(this,yl)&&(_(this,yf,a0).call(this,c(this,yl).rect),(e=c(this,xc))==null||e.popup.resetEdited(),x(this,yl,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Ql||(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof l0){const{rotation:A}=t;return!t.hasOwnCanvas&&A!==0&&this.setRotation(A,o),o}const{width:u,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const A=t.borderStyle.horizontalCornerRadius,k=t.borderStyle.verticalCornerRadius;if(A>0||k>0){const R=`calc(${A}px * var(--total-scale-factor)) / calc(${k}px * var(--total-scale-factor))`;l.borderRadius=R}else if(this instanceof nC){const R=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=R}switch(t.borderStyle.style){case _u.SOLID:l.borderStyle="solid";break;case _u.DASHED:l.borderStyle="dashed";break;case _u.BEVELED:ze("Unimplemented border style: beveled");break;case _u.INSET:ze("Unimplemented border style: inset");break;case _u.UNDERLINE:l.borderBottomStyle="solid";break}const E=t.borderColor||null;E?(x(this,Sc,!0),l.borderColor=Ce.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const f=Ce.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:m,pageX:y,pageY:w}=s.rawDims;l.left=`${100*(f[0]-y)/p}%`,l.top=`${100*(f[1]-w)/m}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(l.width=`${100*u/p}%`,l.height=`${100*d/m}%`):this.setRotation(b,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:o,height:l}=this;e%180!==0&&([o,l]=[l,o]),t.style.width=`${100*o/n}%`,t.style.height=`${100*l/s}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,s)=>{const o=s.detail[t],l=o[0],u=o.slice(1);s.target.style[n]=R1[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:R1[`${l}_rgb`](u)})};return qe(this,"_commonActions",{display:t=>{const{display:n}=t.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const o=e[s]||n[s];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,o]of Object.entries(t)){const l=n[s];if(l){const u={detail:{[s]:o},target:e};l(u),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,o]=this.data.rect.map(A=>Math.fround(A));if(e.length===8){const[A,k,E,R]=e.subarray(2,6);if(s===A&&o===k&&t===E&&n===R)return}const{style:l}=this.container;let u;if(c(this,Sc)){const{borderColor:A,borderWidth:k}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${k}">`],this.container.classList.add("hasBorder")}const d=s-t,f=o-n,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const y=p.createElement("defs");m.append(y);const w=p.createElement("clipPath"),b=`clippath_${this.data.id}`;w.setAttribute("id",b),w.setAttribute("clipPathUnits","objectBoundingBox"),y.append(w);for(let A=2,k=e.length;A<k;A+=8){const E=e[A],R=e[A+1],P=e[A+2],D=e[A+3],F=p.createElement("rect"),I=(P-t)/d,O=(o-R)/f,V=(E-P)/d,W=(R-D)/f;F.setAttribute("x",I),F.setAttribute("y",O),F.setAttribute("width",V),F.setAttribute("height",W),w.append(F),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${O}" width="${V}" height="${W}"/>`)}c(this,Sc)&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=x(this,xc,new l0({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){at("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:o,id:l,exportValues:u}of s){if(o===-1||l===t)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Wl.has(f)){ze(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const s of document.getElementsByName(e)){const{exportValue:o}=s,l=s.getAttribute("data-element-id");l!==t&&Wl.has(s)&&n.push({id:l,exportValue:o,domElement:s})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};yl=new WeakMap,Sc=new WeakMap,xc=new WeakMap,yf=new WeakSet,a0=function(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-u)/o}%`,t.top=`${100*(l-e[3]+d)/l}%`,s===0?(t.width=`${100*(e[2]-e[0])/o}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(s)};let zt=PS;var Ri,Ia,eC,tC;class Zk extends zt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});C(this,Ri);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(s,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(s,t.action),o=!0):t.attachment?(_(this,Ri,eC).call(this,s,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(_(this,Ri,tC).call(this,s,t.setOCGState),o=!0):t.dest?(this._bindLink(s,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),o=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(s,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(s),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&_(this,Ri,Ia).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),_(this,Ri,Ia).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=s.get(o);l&&(t[l]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,Ri,Ia).call(this)}_bindResetFormAction(t,n){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),_(this,Ri,Ia).call(this),!this._fieldObjects){ze('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var m;s==null||s();const{fields:o,refs:l,include:u}=n,d=[];if(o.length!==0||l.length!==0){const y=new Set(l);for(const w of o){const b=this._fieldObjects[w]||[];for(const{id:A}of b)y.add(A)}for(const w of Object.values(this._fieldObjects))for(const b of w)y.has(b.id)===u&&d.push(b)}else for(const y of Object.values(this._fieldObjects))d.push(...y);const f=this.annotationStorage,p=[];for(const y of d){const{id:w}=y;switch(p.push(w),y.type){case"text":{const A=y.defaultValue||"";f.setValue(w,{value:A});break}case"checkbox":case"radiobutton":{const A=y.defaultValue===y.exportValues;f.setValue(w,{value:A});break}case"combobox":case"listbox":{const A=y.defaultValue||"";f.setValue(w,{value:A});break}default:continue}const b=document.querySelector(`[data-element-id="${w}"]`);if(b){if(!Wl.has(b)){ze(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}Ri=new WeakSet,Ia=function(){this.container.setAttribute("data-internal-link","")},eC=function(t,n,s=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,s),!1},_(this,Ri,Ia).call(this)},tC=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),_(this,Ri,Ia).call(this)};class N2 extends zt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ql extends zt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ln.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,o){n.includes("mouse")?e.addEventListener(n,l=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var u;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l)}}))})}_setEventListeners(e,t,n,s){var o,l,u;for(const[d,f]of n)(f==="Action"||(o=this.data.actions)!=null&&o[f])&&((f==="Focus"||f==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,f,s),f==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):f==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ce.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||D2,o=e.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(lw*s))||1,m=f/p;l=Math.min(s,d(m/lw))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(s,d(f/lw))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=Ce.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class F2 extends Ql{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,s){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[s]:n})}render(){var s,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let u=l.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&u.length>d&&(u=u.slice(0,d));let f=l.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const p={userValue:u,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=f??u,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",f??u),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Wl.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const m=this.data.dateFormat||this.data.timeFormat;m&&(n.title=m),this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",w=>{const b=this.data.defaultFieldValue??"";n.value=p.userValue=b,p.formattedValue=null});let y=w=>{const{formattedValue:b}=p;b!=null&&(w.target.value=b),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{var k;if(p.focused)return;const{target:A}=b;p.userValue&&(A.value=p.userValue),p.lastCommittedValue=A.value,p.commitKey=1,(k=this.data.actions)!=null&&k.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const A={value(k){p.userValue=k.detail.value??"",e.setValue(t,{value:p.userValue.toString()}),k.target.value=p.userValue},formattedValue(k){const{formattedValue:E}=k.detail;p.formattedValue=E,E!=null&&k.target!==document.activeElement&&(k.target.value=E),e.setValue(t,{formattedValue:E})},selRange(k){k.target.setSelectionRange(...k.detail.selRange)},charLimit:k=>{var D;const{charLimit:E}=k.detail,{target:R}=k;if(E===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",E);let P=p.userValue;!P||P.length<=E||(P=P.slice(0,E),R.value=p.userValue=P,e.setValue(t,{value:P}),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(A,b)}),n.addEventListener("keydown",b=>{var E;p.commitKey=1;let A=-1;if(b.key==="Escape"?A=0:b.key==="Enter"&&!this.data.multiLine?A=2:b.key==="Tab"&&(p.commitKey=3),A===-1)return;const{value:k}=b.target;p.lastCommittedValue!==k&&(p.lastCommittedValue=k,p.userValue=k,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:A,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const w=y;y=null,n.addEventListener("blur",b=>{var k,E;if(!p.focused||!b.relatedTarget)return;(k=this.data.actions)!=null&&k.Blur||(p.focused=!1);const{value:A}=b.target;p.userValue=A,p.lastCommittedValue!==A&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:p.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),w(b)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",b=>{var I;p.lastCommittedValue=null;const{data:A,target:k}=b,{value:E,selectionStart:R,selectionEnd:P}=k;let D=R,F=P;switch(b.inputType){case"deleteWordBackward":{const O=E.substring(0,R).match(/\w*[^\w]*$/);O&&(D-=O[0].length);break}case"deleteWordForward":{const O=E.substring(R).match(/^[^\w]*\w*/);O&&(F+=O[0].length);break}case"deleteContentBackward":R===P&&(D-=1);break;case"deleteContentForward":R===P&&(F+=1);break}b.preventDefault(),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:A||"",willCommit:!1,selStart:D,selEnd:F}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class O2 extends Ql{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class z2 extends Ql{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Wl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n)){const p=d&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue||"Off";l.target.checked=u===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class nC extends Ql{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(Wl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n))e.setValue(f.id,{value:!1});e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue;l.target.checked=u!=null&&u===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const y=p&&m.id===n;m.domElement&&(m.domElement.checked=y),e.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class B2 extends Zk{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class j2 extends Ql{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Wl.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const y of s.options)y.selected=y.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,n.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),s.append(m)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const u=p=>{const m=p?"value":"textContent",{options:y,multiple:w}=s;return w?Array.prototype.filter.call(y,b=>b.selected).map(b=>b[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let d=u(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const m={value(y){l==null||l();const w=y.detail.value,b=new Set(Array.isArray(w)?w:[w]);for(const A of s.options)A.selected=b.has(A.value);e.setValue(t,{value:u(!0)}),d=u(!1)},multipleSelection(y){s.multiple=!0},remove(y){const w=s.options,b=y.detail.remove;w[b].selected=!1,s.remove(b),w.length>0&&Array.prototype.findIndex.call(w,k=>k.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:u(!0),items:f(y)}),d=u(!1)},clear(y){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),d=u(!1)},insert(y){const{index:w,displayValue:b,exportValue:A}=y.detail.insert,k=s.children[w],E=document.createElement("option");E.textContent=b,E.value=A,k?k.before(E):s.append(E),e.setValue(t,{value:u(!0),items:f(y)}),d=u(!1)},items(y){const{items:w}=y.detail;for(;s.length!==0;)s.remove(0);for(const b of w){const{displayValue:A,exportValue:k}=b,E=document.createElement("option");E.textContent=A,E.value=k,s.append(E)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:u(!0),items:f(y)}),d=u(!1)},indices(y){const w=new Set(y.detail.indices);for(const b of y.target.options)b.selected=w.has(b.index);e.setValue(t,{value:u(!0)}),d=u(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,p)}),s.addEventListener("input",p=>{var w;const m=u(!0),y=u(!1);e.setValue(t,{value:m}),p.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){e.setValue(t,{value:u(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class l0 extends zt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:zt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new H2({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(s=>`${fS}${s}`).join(",")),this.container}}var Ac,Mm,Dm,bc,Ec,Rt,zs,vl,vf,wf,kc,Bs,dr,js,Sf,Hs,xf,wl,Sl,lt,qg,u0,iC,rC,sC,oC,Xg,Yg,c0;class H2{constructor({container:e,color:t,elements:n,titleObj:s,modificationDate:o,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:m}){C(this,lt);C(this,Ac,_(this,lt,sC).bind(this));C(this,Mm,_(this,lt,c0).bind(this));C(this,Dm,_(this,lt,Yg).bind(this));C(this,bc,_(this,lt,Xg).bind(this));C(this,Ec,null);C(this,Rt,null);C(this,zs,null);C(this,vl,null);C(this,vf,null);C(this,wf,null);C(this,kc,null);C(this,Bs,!1);C(this,dr,null);C(this,js,null);C(this,Sf,null);C(this,Hs,null);C(this,xf,null);C(this,wl,null);C(this,Sl,!1);var y;x(this,Rt,e),x(this,xf,s),x(this,zs,l),x(this,Hs,u),x(this,wf,d),x(this,Ec,t),x(this,Sf,f),x(this,kc,p),x(this,vf,n),x(this,vl,Ym.toDateObject(o)),this.trigger=n.flatMap(w=>w.getElementsToTriggerPopup());for(const w of this.trigger)w.addEventListener("click",c(this,bc)),w.addEventListener("mouseenter",c(this,Dm)),w.addEventListener("mouseleave",c(this,Mm)),w.classList.add("popupTriggerArea");for(const w of n)(y=w.container)==null||y.addEventListener("keydown",c(this,Ac));c(this,Rt).hidden=!0,m&&_(this,lt,Xg).call(this)}render(){if(c(this,dr))return;const e=x(this,dr,document.createElement("div"));if(e.className="popup",c(this,Ec)){const o=e.style.outlineColor=Ce.makeHexColor(...c(this,Ec));e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=c(this,xf),e.append(t),c(this,vl)){const o=document.createElement("time");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,vl).valueOf()})),o.dateTime=c(this,vl).toISOString(),t.append(o)}const s=c(this,lt,qg);if(s)xS.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(c(this,zs));e.append(o)}c(this,Rt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let o=0,l=s.length;o<l;++o){const u=s[o];n.append(document.createTextNode(u)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;c(this,wl)||x(this,wl,{contentsObj:c(this,zs),richText:c(this,Hs)}),e&&x(this,js,null),t&&(x(this,Hs,_(this,lt,rC).call(this,t)),x(this,zs,null)),(n=c(this,dr))==null||n.remove(),x(this,dr,null)}resetEdited(){var e;c(this,wl)&&({contentsObj:Dn(this,zs)._,richText:Dn(this,Hs)._}=c(this,wl),x(this,wl,null),(e=c(this,dr))==null||e.remove(),x(this,dr,null),x(this,js,null))}forceHide(){x(this,Sl,this.isVisible),c(this,Sl)&&(c(this,Rt).hidden=!0)}maybeShow(){c(this,Sl)&&(c(this,dr)||_(this,lt,Yg).call(this),x(this,Sl,!1),c(this,Rt).hidden=!1)}get isVisible(){return c(this,Rt).hidden===!1}}Ac=new WeakMap,Mm=new WeakMap,Dm=new WeakMap,bc=new WeakMap,Ec=new WeakMap,Rt=new WeakMap,zs=new WeakMap,vl=new WeakMap,vf=new WeakMap,wf=new WeakMap,kc=new WeakMap,Bs=new WeakMap,dr=new WeakMap,js=new WeakMap,Sf=new WeakMap,Hs=new WeakMap,xf=new WeakMap,wl=new WeakMap,Sl=new WeakMap,lt=new WeakSet,qg=function(){const e=c(this,Hs),t=c(this,zs);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Hs).html||null},u0=function(){var e,t,n;return((n=(t=(e=c(this,lt,qg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},iC=function(){var e,t,n;return((n=(t=(e=c(this,lt,qg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},rC=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:c(this,lt,iC),fontSize:c(this,lt,u0)?`calc(${c(this,lt,u0)}px * var(--total-scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:s});return n},sC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Bs))&&_(this,lt,Xg).call(this)},oC=function(){if(c(this,js)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:o}}}=c(this,wf);let l=!!c(this,kc),u=l?c(this,kc):c(this,Sf);for(const b of c(this,vf))if(!u||Ce.intersect(b.data.rect,u)!==null){u=b.data.rect,l=!0;break}const d=Ce.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),p=l?u[2]-u[0]+5:0,m=d[0]+p,y=d[1];x(this,js,[100*(m-s)/t,100*(y-o)/n]);const{style:w}=c(this,Rt);w.left=`${c(this,js)[0]}%`,w.top=`${c(this,js)[1]}%`},Xg=function(){x(this,Bs,!c(this,Bs)),c(this,Bs)?(_(this,lt,Yg).call(this),c(this,Rt).addEventListener("click",c(this,bc)),c(this,Rt).addEventListener("keydown",c(this,Ac))):(_(this,lt,c0).call(this),c(this,Rt).removeEventListener("click",c(this,bc)),c(this,Rt).removeEventListener("keydown",c(this,Ac)))},Yg=function(){c(this,dr)||this.render(),this.isVisible?c(this,Bs)&&c(this,Rt).classList.add("focused"):(_(this,lt,oC).call(this),c(this,Rt).hidden=!1,c(this,Rt).style.zIndex=parseInt(c(this,Rt).style.zIndex)+1e3)},c0=function(){c(this,Rt).classList.remove("focused"),!(c(this,Bs)||!this.isVisible)&&(c(this,Rt).hidden=!0,c(this,Rt).style.zIndex=parseInt(c(this,Rt).style.zIndex)-1e3)};class aC extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Fe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Af;class U2 extends zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Af,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:s}=this,o=this.svgFactory.create(n,s,!0),l=x(this,Af,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Af)}addHighlightArea(){this.container.classList.add("highlightArea")}}Af=new WeakMap;var bf;class $2 extends zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,bf,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:s}=this,o=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,u=x(this,bf,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",l/2),u.setAttribute("y",l/2),u.setAttribute("width",n-l),u.setAttribute("height",s-l),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,bf)}addHighlightArea(){this.container.classList.add("highlightArea")}}bf=new WeakMap;var Ef;class V2 extends zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Ef,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:s}=this,o=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,u=x(this,Ef,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",n/2),u.setAttribute("cy",s/2),u.setAttribute("rx",n/2-l/2),u.setAttribute("ry",s/2-l/2),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ef)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ef=new WeakMap;var kf;class lC extends zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,kf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:s,popupRef:o},width:l,height:u}=this;if(!n)return this.container;const d=this.svgFactory.create(l,u,!0);let f=[];for(let m=0,y=n.length;m<y;m+=2){const w=n[m]-t[0],b=t[3]-n[m+1];f.push(`${w},${b}`)}f=f.join(" ");const p=x(this,kf,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",f),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),d.append(p),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,kf)}addHighlightArea(){this.container.classList.add("highlightArea")}}kf=new WeakMap;class W2 extends lC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class G2 extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Cf,xl,_f,h0;class AS extends zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,_f);C(this,Cf,null);C(this,xl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Fe.HIGHLIGHT:Fe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:s,borderStyle:o,popupRef:l}}=this,{transform:u,width:d,height:f}=_(this,_f,h0).call(this,n,t),p=this.svgFactory.create(d,f,!0),m=x(this,Cf,this.svgFactory.createElement("svg:g"));p.append(m),m.setAttribute("stroke-width",o.width||1),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit",10),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),m.setAttribute("transform",u);for(let y=0,w=s.length;y<w;y++){const b=this.svgFactory.createElement(this.svgElementName);c(this,xl).push(b),b.setAttribute("points",s[y].join(",")),m.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:s,rect:o}=t,l=c(this,Cf);if(n>=0&&l.setAttribute("stroke-width",n||1),s)for(let u=0,d=c(this,xl).length;u<d;u++)c(this,xl)[u].setAttribute("points",s[u].join(","));if(o){const{transform:u,width:d,height:f}=_(this,_f,h0).call(this,this.data.rotation,o);l.parentElement.setAttribute("viewBox",`0 0 ${d} ${f}`),l.setAttribute("transform",u)}}getElementsToTriggerPopup(){return c(this,xl)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cf=new WeakMap,xl=new WeakMap,_f=new WeakSet,h0=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class uC extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Fe.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class q2 extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class X2 extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Y2 extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class cC extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Fe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Tf,Pf,d0;class K2 extends zt{constructor(t){var s;super(t,{isRenderable:!0});C(this,Pf);C(this,Tf,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",_(this,Pf,d0).bind(this)),x(this,Tf,s);const{isMac:o}=ln.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&_(this,Pf,d0).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return c(this,Tf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tf=new WeakMap,Pf=new WeakSet,d0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Rf,Al,Yo,Lf,pa,f0,p0,Cc;let bS=(Cc=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:s,page:o,viewport:l,structTreeLayer:u}){C(this,pa);C(this,Rf,null);C(this,Al,null);C(this,Yo,new Map);C(this,Lf,null);this.div=e,x(this,Rf,t),x(this,Al,n),x(this,Lf,u||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return c(this,Yo).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;ca(n,this.viewport);const s=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new xd,annotationStorage:e.annotationStorage||new gS,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const d=u.annotationType===Dt.POPUP;if(d){const m=s.get(u.id);if(!m)continue;o.elements=m}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;o.data=u;const f=L1.create(o);if(!f.isRenderable)continue;if(!d&&u.popupRef){const m=s.get(u.popupRef);m?m.push(f):s.set(u.popupRef,[f])}const p=f.render();u.hidden&&(p.style.visibility="hidden"),await _(this,pa,f0).call(this,p,u.id,o.elements),f._isEditable&&(c(this,Yo).set(f.data.id,f),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(f))}_(this,pa,p0).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new xd,parent:this};for(const s of e){s.borderStyle||(s.borderStyle=Cc._defaultBorderStyle),n.data=s;const o=L1.create(n);if(!o.isRenderable)continue;const l=o.render();await _(this,pa,f0).call(this,l,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,ca(t,{rotation:e.rotation}),_(this,pa,p0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,Yo).values())}getEditableAnnotation(e){return c(this,Yo).get(e)}static get _defaultBorderStyle(){return qe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:_u.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Rf=new WeakMap,Al=new WeakMap,Yo=new WeakMap,Lf=new WeakMap,pa=new WeakSet,f0=async function(e,t,n){var u,d;const s=e.firstChild||e,o=s.id=`${fS}${t}`,l=await((u=c(this,Lf))==null?void 0:u.getAriaAttributes(o));if(l)for(const[f,p]of l)s.setAttribute(f,p);n?n.at(-1).container.after(e):(this.div.append(e),(d=c(this,Rf))==null||d.moveElementInDOM(this.div,e,s,!1))},p0=function(){var t;if(!c(this,Al))return;const e=this.div;for(const[n,s]of c(this,Al)){const o=e.querySelector(`[data-annotation-id="${n}"]`);if(!o)continue;s.className="annotationContent";const{firstChild:l}=o;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):o.append(s);const u=c(this,Yo).get(n);u&&(u._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,o.id,s),u._hasNoCanvas=!1):u.canvas=s)}c(this,Al).clear()},Cc);const Tg=/\r\n?|\n/g;var fr,vi,If,bl,wi,$t,hC,dC,fC,Kg,Zs,Qg,Jg,pC,m0,gC;const ht=class ht extends pt{constructor(t){super({...t,name:"freeTextEditor"});C(this,$t);C(this,fr);C(this,vi,"");C(this,If,`${this.id}-editor`);C(this,bl,null);C(this,wi);x(this,fr,t.color||ht._defaultColor||pt._defaultLineColor),x(this,wi,t.fontSize||ht._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=ht.prototype,n=l=>l.isEmpty(),s=ha.TRANSLATE_SMALL,o=ha.TRANSLATE_BIG;return qe(this,"_keyboardManager",new ap([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){pt.initialize(t,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Xe.FREETEXT_SIZE:ht._defaultFontSize=n;break;case Xe.FREETEXT_COLOR:ht._defaultColor=n;break}}updateParams(t,n){switch(t){case Xe.FREETEXT_SIZE:_(this,$t,hC).call(this,n);break;case Xe.FREETEXT_COLOR:_(this,$t,dC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Xe.FREETEXT_SIZE,ht._defaultFontSize],[Xe.FREETEXT_COLOR,ht._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[Xe.FREETEXT_SIZE,c(this,wi)],[Xe.FREETEXT_COLOR,c(this,fr)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-ht._internalPadding*t,-(ht._internalPadding+c(this,wi))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),x(this,bl,new AbortController);const t=this._uiManager.combinedSignal(c(this,bl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,If)),this._isDraggable=!0,(t=c(this,bl))==null||t.abort(),x(this,bl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,vi),n=x(this,vi,_(this,$t,fC).call(this).trimEnd());if(t===n)return;const s=o=>{if(x(this,vi,o),!o){this.remove();return}_(this,$t,Jg).call(this),this._uiManager.rebuild(this),_(this,$t,Kg).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(t)},mustExec:!1}),_(this,$t,Kg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ht._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,If)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${c(this,wi)}px * var(--total-scale-factor))`,s.color=c(this,fr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[d,f]=this.getInitialTranslation();[d,f]=this.pageTranslationToScreen(d,f);const[p,m]=this.pageDimensions,[y,w]=this.pageTranslation;let b,A;switch(this.rotation){case 0:b=t+(u[0]-y)/p,A=n+this.height-(u[1]-w)/m;break;case 90:b=t+(u[0]-y)/p,A=n-(u[1]-w)/m,[d,f]=[f,-d];break;case 180:b=t-this.width+(u[0]-y)/p,A=n-(u[1]-w)/m,[d,f]=[-d,-f];break;case 270:b=t+(u[0]-y-this.height*m)/p,A=n+(u[1]-w-this.width*p)/m,[d,f]=[-f,d];break}this.setAt(b*o,A*l,d,f)}else this._moveAfterPaste(t,n);_(this,$t,Jg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,A,k;const n=t.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const o=_(b=ht,Zs,m0).call(b,n.getData("text")||"").replaceAll(Tg,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const u=l.getRangeAt(0);if(!o.includes(`
`)){u.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:f}=u,p=[],m=[];if(d.nodeType===Node.TEXT_NODE){const E=d.parentElement;if(m.push(d.nodeValue.slice(f).replaceAll(Tg,"")),E!==this.editorDiv){let R=p;for(const P of this.editorDiv.childNodes){if(P===E){R=m;continue}R.push(_(A=ht,Zs,Qg).call(A,P))}}p.push(d.nodeValue.slice(0,f).replaceAll(Tg,""))}else if(d===this.editorDiv){let E=p,R=0;for(const P of this.editorDiv.childNodes)R++===f&&(E=m),E.push(_(k=ht,Zs,Qg).call(k,P))}x(this,vi,`${p.join(`
`)}${o}${m.join(`
`)}`),_(this,$t,Jg).call(this);const y=new Range;let w=Math.sumPrecise(p.map(E=>E.length));for(const{firstChild:E}of this.editorDiv.childNodes)if(E.nodeType===Node.TEXT_NODE){const R=E.nodeValue.length;if(w<=R){y.setStart(E,w),y.setEnd(E,w);break}w-=R}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,s){var u;let o=null;if(t instanceof aC){const{data:{defaultAppearanceData:{fontSize:d,fontColor:f},rect:p,rotation:m,id:y,popupRef:w},textContent:b,textPosition:A,parent:{page:{pageNumber:k}}}=t;if(!b||b.length===0)return null;o=t={annotationType:Fe.FREETEXT,color:Array.from(f),fontSize:d,value:b.join(`
`),position:A,pageIndex:k-1,rect:p.slice(0),rotation:m,annotationElementId:y,id:y,deleted:!1,popupRef:w}}const l=await super.deserialize(t,n,s);return x(l,wi,t.fontSize),x(l,fr,Ce.makeHexColor(...t.color)),x(l,vi,_(u=ht,Zs,m0).call(u,t.value)),l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=ht._internalPadding*this.parentScale,s=this.getRect(n,n),o=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,fr)),l={annotationType:Fe.FREETEXT,color:o,fontSize:c(this,wi),value:_(this,$t,pC).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!_(this,$t,gC).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${c(this,wi)}px * var(--total-scale-factor))`,s.color=c(this,fr),n.replaceChildren();for(const l of c(this,vi).split(`
`)){const u=document.createElement("div");u.append(l?document.createTextNode(l):document.createElement("br")),n.append(u)}const o=ht._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:c(this,vi)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};fr=new WeakMap,vi=new WeakMap,If=new WeakMap,bl=new WeakMap,wi=new WeakMap,$t=new WeakSet,hC=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-c(this,wi))*this.parentScale),x(this,wi,o),_(this,$t,Kg).call(this)},s=c(this,wi);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},dC=function(t){const n=o=>{x(this,fr,this.editorDiv.style.color=o)},s=c(this,fr);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},fC=function(){var s;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(_(s=ht,Zs,Qg).call(s,o)),n=o);return t.join(`
`)},Kg=function(){const[t,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,u=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=u,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/n):(this.width=s.height/t,this.height=s.width/n),this.fixAndSetPosition()},Zs=new WeakSet,Qg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Tg,"")},Jg=function(){if(this.editorDiv.replaceChildren(),!!c(this,vi))for(const t of c(this,vi).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},pC=function(){return c(this,vi).replaceAll(""," ")},m0=function(t){return t.replaceAll(" ","")},gC=function(t){const{value:n,fontSize:s,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==s||t.color.some((u,d)=>u!==o[d])||t.pageIndex!==l},C(ht,Zs),le(ht,"_freeTextDefaultContent",""),le(ht,"_internalPadding",0),le(ht,"_defaultColor",null),le(ht,"_defaultFontSize",10),le(ht,"_type","freetext"),le(ht,"_editorType",Fe.FREETEXT);let g0=ht;class me{toSVGPath(){at("Abstract method `toSVGPath` must be implemented.")}get box(){at("Abstract getter `box` must be implemented.")}serialize(e,t){at("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,s,o,l){l||(l=new Float32Array(e.length));for(let u=0,d=e.length;u<d;u+=2)l[u]=t+e[u]*s,l[u+1]=n+e[u+1]*o;return l}static _rescaleAndSwap(e,t,n,s,o,l){l||(l=new Float32Array(e.length));for(let u=0,d=e.length;u<d;u+=2)l[u]=t+e[u+1]*s,l[u+1]=n+e[u]*o;return l}static _translate(e,t,n,s){s||(s=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o],s[o+1]=n+e[o+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,s,o){switch(o){case 90:return[1-t/n,e/s];case 180:return[1-e/n,1-t/s];case 270:return[t/n,1-e/s];default:return[e/n,t/s]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,s,o,l){return[(e+5*n)/6,(t+5*s)/6,(5*n+o)/6,(5*s+l)/6,(n+o)/2,(s+l)/2]}}le(me,"PRECISION",1e-4);var Si,pr,_c,Tc,qr,We,El,kl,Mf,Df,Pc,Rc,Ko,Nf,Nm,Fm,Kt,rd,mC,yC,vC,wC,SC,xC;const Ss=class Ss{constructor({x:e,y:t},n,s,o,l,u=0){C(this,Kt);C(this,Si);C(this,pr,[]);C(this,_c);C(this,Tc);C(this,qr,[]);C(this,We,new Float32Array(18));C(this,El);C(this,kl);C(this,Mf);C(this,Df);C(this,Pc);C(this,Rc);C(this,Ko,[]);x(this,Si,n),x(this,Rc,o*s),x(this,Tc,l),c(this,We).set([NaN,NaN,NaN,NaN,e,t],6),x(this,_c,u),x(this,Df,c(Ss,Nf)*s),x(this,Mf,c(Ss,Fm)*s),x(this,Pc,s),c(this,Ko).push(e,t)}isEmpty(){return isNaN(c(this,We)[8])}add({x:e,y:t}){var W;x(this,El,e),x(this,kl,t);const[n,s,o,l]=c(this,Si);let[u,d,f,p]=c(this,We).subarray(8,12);const m=e-f,y=t-p,w=Math.hypot(m,y);if(w<c(this,Mf))return!1;const b=w-c(this,Df),A=b/w,k=A*m,E=A*y;let R=u,P=d;u=f,d=p,f+=k,p+=E,(W=c(this,Ko))==null||W.push(e,t);const D=-E/b,F=k/b,I=D*c(this,Rc),O=F*c(this,Rc);return c(this,We).set(c(this,We).subarray(2,8),0),c(this,We).set([f+I,p+O],4),c(this,We).set(c(this,We).subarray(14,18),12),c(this,We).set([f-I,p-O],16),isNaN(c(this,We)[6])?(c(this,qr).length===0&&(c(this,We).set([u+I,d+O],2),c(this,qr).push(NaN,NaN,NaN,NaN,(u+I-n)/o,(d+O-s)/l),c(this,We).set([u-I,d-O],14),c(this,pr).push(NaN,NaN,NaN,NaN,(u-I-n)/o,(d-O-s)/l)),c(this,We).set([R,P,u,d,f,p],6),!this.isEmpty()):(c(this,We).set([R,P,u,d,f,p],6),Math.abs(Math.atan2(P-d,R-u)-Math.atan2(E,k))<Math.PI/2?([u,d,f,p]=c(this,We).subarray(2,6),c(this,qr).push(NaN,NaN,NaN,NaN,((u+f)/2-n)/o,((d+p)/2-s)/l),[u,d,R,P]=c(this,We).subarray(14,18),c(this,pr).push(NaN,NaN,NaN,NaN,((R+u)/2-n)/o,((P+d)/2-s)/l),!0):([R,P,u,d,f,p]=c(this,We).subarray(0,6),c(this,qr).push(((R+5*u)/6-n)/o,((P+5*d)/6-s)/l,((5*u+f)/6-n)/o,((5*d+p)/6-s)/l,((u+f)/2-n)/o,((d+p)/2-s)/l),[f,p,u,d,R,P]=c(this,We).subarray(12,18),c(this,pr).push(((R+5*u)/6-n)/o,((P+5*d)/6-s)/l,((5*u+f)/6-n)/o,((5*d+p)/6-s)/l,((u+f)/2-n)/o,((d+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,qr),t=c(this,pr);if(isNaN(c(this,We)[6])&&!this.isEmpty())return _(this,Kt,mC).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);_(this,Kt,vC).call(this,n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return _(this,Kt,yC).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,s,o,l){return new AC(e,t,n,s,o,l)}getOutlines(){var m;const e=c(this,qr),t=c(this,pr),n=c(this,We),[s,o,l,u]=c(this,Si),d=new Float32Array((((m=c(this,Ko))==null?void 0:m.length)??0)+2);for(let y=0,w=d.length-2;y<w;y+=2)d[y]=(c(this,Ko)[y]-s)/l,d[y+1]=(c(this,Ko)[y+1]-o)/u;if(d[d.length-2]=(c(this,El)-s)/l,d[d.length-1]=(c(this,kl)-o)/u,isNaN(n[6])&&!this.isEmpty())return _(this,Kt,wC).call(this,d);const f=new Float32Array(c(this,qr).length+24+c(this,pr).length);let p=e.length;for(let y=0;y<p;y+=2){if(isNaN(e[y])){f[y]=f[y+1]=NaN;continue}f[y]=e[y],f[y+1]=e[y+1]}p=_(this,Kt,xC).call(this,f,p);for(let y=t.length-6;y>=6;y-=6)for(let w=0;w<6;w+=2){if(isNaN(t[y+w])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=t[y+w],f[p+1]=t[y+w+1],p+=2}return _(this,Kt,SC).call(this,f,p),this.newFreeDrawOutline(f,d,c(this,Si),c(this,Pc),c(this,_c),c(this,Tc))}};Si=new WeakMap,pr=new WeakMap,_c=new WeakMap,Tc=new WeakMap,qr=new WeakMap,We=new WeakMap,El=new WeakMap,kl=new WeakMap,Mf=new WeakMap,Df=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,Ko=new WeakMap,Nf=new WeakMap,Nm=new WeakMap,Fm=new WeakMap,Kt=new WeakSet,rd=function(){const e=c(this,We).subarray(4,6),t=c(this,We).subarray(16,18),[n,s,o,l]=c(this,Si);return[(c(this,El)+(e[0]-t[0])/2-n)/o,(c(this,kl)+(e[1]-t[1])/2-s)/l,(c(this,El)+(t[0]-e[0])/2-n)/o,(c(this,kl)+(t[1]-e[1])/2-s)/l]},mC=function(){const[e,t,n,s]=c(this,Si),[o,l,u,d]=_(this,Kt,rd).call(this);return`M${(c(this,We)[2]-e)/n} ${(c(this,We)[3]-t)/s} L${(c(this,We)[4]-e)/n} ${(c(this,We)[5]-t)/s} L${o} ${l} L${u} ${d} L${(c(this,We)[16]-e)/n} ${(c(this,We)[17]-t)/s} L${(c(this,We)[14]-e)/n} ${(c(this,We)[15]-t)/s} Z`},yC=function(e){const t=c(this,pr);e.push(`L${t[4]} ${t[5]} Z`)},vC=function(e){const[t,n,s,o]=c(this,Si),l=c(this,We).subarray(4,6),u=c(this,We).subarray(16,18),[d,f,p,m]=_(this,Kt,rd).call(this);e.push(`L${(l[0]-t)/s} ${(l[1]-n)/o} L${d} ${f} L${p} ${m} L${(u[0]-t)/s} ${(u[1]-n)/o}`)},wC=function(e){const t=c(this,We),[n,s,o,l]=c(this,Si),[u,d,f,p]=_(this,Kt,rd).call(this),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-s)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-s)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-s)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-s)/l],0),this.newFreeDrawOutline(m,e,c(this,Si),c(this,Pc),c(this,_c),c(this,Tc))},SC=function(e,t){const n=c(this,pr);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},xC=function(e,t){const n=c(this,We).subarray(4,6),s=c(this,We).subarray(16,18),[o,l,u,d]=c(this,Si),[f,p,m,y]=_(this,Kt,rd).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/u,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(s[0]-o)/u,(s[1]-l)/d],t),t+=24},C(Ss,Nf,8),C(Ss,Nm,2),C(Ss,Fm,c(Ss,Nf)+c(Ss,Nm));let mm=Ss;var Lc,Cl,Us,Ff,xi,Of,Ft,Om,bC;class AC extends me{constructor(t,n,s,o,l,u){super();C(this,Om);C(this,Lc);C(this,Cl,new Float32Array(4));C(this,Us);C(this,Ff);C(this,xi);C(this,Of);C(this,Ft);x(this,Ft,t),x(this,xi,n),x(this,Lc,s),x(this,Of,o),x(this,Us,l),x(this,Ff,u),this.lastPoint=[NaN,NaN],_(this,Om,bC).call(this,u);const[d,f,p,m]=c(this,Cl);for(let y=0,w=t.length;y<w;y+=2)t[y]=(t[y]-d)/p,t[y+1]=(t[y+1]-f)/m;for(let y=0,w=n.length;y<w;y+=2)n[y]=(n[y]-d)/p,n[y+1]=(n[y+1]-f)/m}toSVGPath(){const t=[`M${c(this,Ft)[4]} ${c(this,Ft)[5]}`];for(let n=6,s=c(this,Ft).length;n<s;n+=6){if(isNaN(c(this,Ft)[n])){t.push(`L${c(this,Ft)[n+4]} ${c(this,Ft)[n+5]}`);continue}t.push(`C${c(this,Ft)[n]} ${c(this,Ft)[n+1]} ${c(this,Ft)[n+2]} ${c(this,Ft)[n+3]} ${c(this,Ft)[n+4]} ${c(this,Ft)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,s,o],l){const u=s-t,d=o-n;let f,p;switch(l){case 0:f=me._rescale(c(this,Ft),t,o,u,-d),p=me._rescale(c(this,xi),t,o,u,-d);break;case 90:f=me._rescaleAndSwap(c(this,Ft),t,n,u,d),p=me._rescaleAndSwap(c(this,xi),t,n,u,d);break;case 180:f=me._rescale(c(this,Ft),s,n,-u,d),p=me._rescale(c(this,xi),s,n,-u,d);break;case 270:f=me._rescaleAndSwap(c(this,Ft),s,o,-u,-d),p=me._rescaleAndSwap(c(this,xi),s,o,-u,-d);break}return{outline:Array.from(f),points:[Array.from(p)]}}get box(){return c(this,Cl)}newOutliner(t,n,s,o,l,u=0){return new mm(t,n,s,o,l,u)}getNewOutline(t,n){const[s,o,l,u]=c(this,Cl),[d,f,p,m]=c(this,Lc),y=l*p,w=u*m,b=s*p+d,A=o*m+f,k=this.newOutliner({x:c(this,xi)[0]*y+b,y:c(this,xi)[1]*w+A},c(this,Lc),c(this,Of),t,c(this,Ff),n??c(this,Us));for(let E=2;E<c(this,xi).length;E+=2)k.add({x:c(this,xi)[E]*y+b,y:c(this,xi)[E+1]*w+A});return k.getOutlines()}}Lc=new WeakMap,Cl=new WeakMap,Us=new WeakMap,Ff=new WeakMap,xi=new WeakMap,Of=new WeakMap,Ft=new WeakMap,Om=new WeakSet,bC=function(t){const n=c(this,Ft);let s=n[4],o=n[5];const l=[s,o,s,o];let u=s,d=o;const f=t?Math.max:Math.min;for(let m=6,y=n.length;m<y;m+=6){const w=n[m+4],b=n[m+5];if(isNaN(n[m]))Ce.pointBoundingBox(w,b,l),d<b?(u=w,d=b):d===b&&(u=f(u,w));else{const A=[1/0,1/0,-1/0,-1/0];Ce.bezierBoundingBox(s,o,...n.slice(m,m+6),A),Ce.rectBoundingBox(...A,l),d<A[3]?(u=A[2],d=A[3]):d===A[3]&&(u=f(u,A[2]))}s=w,o=b}const p=c(this,Cl);p[0]=l[0]-c(this,Us),p[1]=l[1]-c(this,Us),p[2]=l[2]-l[0]+2*c(this,Us),p[3]=l[3]-l[1]+2*c(this,Us),this.lastPoint=[u,d]};var zf,Bf,Qo,gr,$n,EC,Zg,kC,CC,v0;class y0{constructor(e,t=0,n=0,s=!0){C(this,$n);C(this,zf);C(this,Bf);C(this,Qo,[]);C(this,gr,[]);const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:w,y:b,width:A,height:k}of e){const E=Math.floor((w-t)/l)*l,R=Math.ceil((w+A+t)/l)*l,P=Math.floor((b-t)/l)*l,D=Math.ceil((b+k+t)/l)*l,F=[E,P,D,!0],I=[R,P,D,!1];c(this,Qo).push(F,I),Ce.rectBoundingBox(E,P,R,D,o)}const u=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n,m=c(this,Qo).at(s?-1:-2),y=[m[0],m[2]];for(const w of c(this,Qo)){const[b,A,k]=w;w[0]=(b-f)/u,w[1]=(A-p)/d,w[2]=(k-p)/d}x(this,zf,new Float32Array([f,p,u,d])),x(this,Bf,y)}getOutlines(){c(this,Qo).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of c(this,Qo))t[3]?(e.push(..._(this,$n,v0).call(this,t)),_(this,$n,kC).call(this,t)):(_(this,$n,CC).call(this,t),e.push(..._(this,$n,v0).call(this,t)));return _(this,$n,EC).call(this,e)}}zf=new WeakMap,Bf=new WeakMap,Qo=new WeakMap,gr=new WeakMap,$n=new WeakSet,EC=function(e){const t=[],n=new Set;for(const l of e){const[u,d,f]=l;t.push([u,d,l],[u,f,l])}t.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=t.length;l<u;l+=2){const d=t[l][2],f=t[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const s=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,d,f,p,m]=l;n.delete(l);let y=u,w=d;for(o=[u,f],s.push(o);;){let b;if(n.has(p))b=p;else if(n.has(m))b=m;else break;n.delete(b),[u,d,f,p,m]=b,y!==u&&(o.push(y,w,u,w===d?d:f),y=u),w=w===d?f:d}o.push(y,w)}return new Q2(s,c(this,zf),c(this,Bf))},Zg=function(e){const t=c(this,gr);let n=0,s=t.length-1;for(;n<=s;){const o=n+s>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:s=o-1}return s+1},kC=function([,e,t]){const n=_(this,$n,Zg).call(this,e);c(this,gr).splice(n,0,[e,t])},CC=function([,e,t]){const n=_(this,$n,Zg).call(this,e);for(let s=n;s<c(this,gr).length;s++){const[o,l]=c(this,gr)[s];if(o!==e)break;if(o===e&&l===t){c(this,gr).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[o,l]=c(this,gr)[s];if(o!==e)break;if(o===e&&l===t){c(this,gr).splice(s,1);return}}},v0=function(e){const[t,n,s]=e,o=[[t,n,s]],l=_(this,$n,Zg).call(this,s);for(let u=0;u<l;u++){const[d,f]=c(this,gr)[u];for(let p=0,m=o.length;p<m;p++){const[,y,w]=o[p];if(!(f<=y||w<=d)){if(y>=d){if(w>f)o[p][1]=f;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=d,w>f&&o.push([t,f,w])}}}return o};var jf,Ic;class Q2 extends me{constructor(t,n,s){super();C(this,jf);C(this,Ic);x(this,Ic,t),x(this,jf,n),this.lastPoint=s}toSVGPath(){const t=[];for(const n of c(this,Ic)){let[s,o]=n;t.push(`M${s} ${o}`);for(let l=2;l<n.length;l+=2){const u=n[l],d=n[l+1];u===s?(t.push(`V${d}`),o=d):d===o&&(t.push(`H${u}`),s=u)}t.push("Z")}return t.join(" ")}serialize([t,n,s,o],l){const u=[],d=s-t,f=o-n;for(const p of c(this,Ic)){const m=new Array(p.length);for(let y=0;y<p.length;y+=2)m[y]=t+p[y]*d,m[y+1]=o-p[y+1]*f;u.push(m)}return u}get box(){return c(this,jf)}get classNamesForOutlining(){return["highlightOutline"]}}jf=new WeakMap,Ic=new WeakMap;class w0 extends mm{newFreeDrawOutline(e,t,n,s,o,l){return new J2(e,t,n,s,o,l)}}class J2 extends AC{newOutliner(e,t,n,s,o,l=0){return new w0(e,t,n,s,o,l)}}var Ai,_l,Mc,Yt,Hf,Dc,$s,Uf,Jo,mr,Nc,$f,ot,S0,x0,A0,Ma,_C,Co;const Zn=class Zn{constructor({editor:e=null,uiManager:t=null}){C(this,ot);C(this,Ai,null);C(this,_l,null);C(this,Mc);C(this,Yt,null);C(this,Hf,!1);C(this,Dc,!1);C(this,$s,null);C(this,Uf);C(this,Jo,null);C(this,mr,null);C(this,Nc);var n,s;e?(x(this,Dc,!1),x(this,Nc,Xe.HIGHLIGHT_COLOR),x(this,$s,e)):(x(this,Dc,!0),x(this,Nc,Xe.HIGHLIGHT_DEFAULT_COLOR)),x(this,mr,(e==null?void 0:e._uiManager)||t),x(this,Uf,c(this,mr)._eventBus),x(this,Mc,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((s=c(this,mr))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),c(Zn,$f)||x(Zn,$f,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return qe(this,"_keyboardManager",new ap([[["Escape","mac+Escape"],Zn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Zn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Zn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Zn.prototype._moveToPrevious],[["Home","mac+Home"],Zn.prototype._moveToBeginning],[["End","mac+End"],Zn.prototype._moveToEnd]]))}renderButton(){const e=x(this,Ai,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",c(this,$s)&&(e.ariaControls=`${c(this,$s).id}_colorpicker_dropdown`);const t=c(this,mr)._signal;e.addEventListener("click",_(this,ot,Ma).bind(this),{signal:t}),e.addEventListener("keydown",_(this,ot,A0).bind(this),{signal:t});const n=x(this,_l,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=c(this,Mc),e.append(n),e}renderMainDropdown(){const e=x(this,Yt,_(this,ot,S0).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===c(this,Ai)){_(this,ot,Ma).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,ot,x0).call(this,t,e)}_moveToNext(e){var t,n;if(!c(this,ot,Co)){_(this,ot,Ma).call(this,e);return}if(e.target===c(this,Ai)){(t=c(this,Yt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=c(this,Yt))==null?void 0:t.firstChild)||e.target===c(this,Ai)){c(this,ot,Co)&&this._hideDropdownFromKeyboard();return}c(this,ot,Co)||_(this,ot,Ma).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!c(this,ot,Co)){_(this,ot,Ma).call(this,e);return}(t=c(this,Yt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,ot,Co)){_(this,ot,Ma).call(this,e);return}(t=c(this,Yt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=c(this,Yt))==null||e.classList.add("hidden"),c(this,Ai).ariaExpanded="false",(t=c(this,Jo))==null||t.abort(),x(this,Jo,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,Dc)){if(!c(this,ot,Co)){(e=c(this,$s))==null||e.unselect();return}this.hideDropdown(),c(this,Ai).focus({preventScroll:!0,focusVisible:c(this,Hf)})}}updateColor(e){if(c(this,_l)&&(c(this,_l).style.backgroundColor=e),!c(this,Yt))return;const t=c(this,mr).highlightColors.values();for(const n of c(this,Yt).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=c(this,Ai))==null||e.remove(),x(this,Ai,null),x(this,_l,null),(t=c(this,Yt))==null||t.remove(),x(this,Yt,null)}};Ai=new WeakMap,_l=new WeakMap,Mc=new WeakMap,Yt=new WeakMap,Hf=new WeakMap,Dc=new WeakMap,$s=new WeakMap,Uf=new WeakMap,Jo=new WeakMap,mr=new WeakMap,Nc=new WeakMap,$f=new WeakMap,ot=new WeakSet,S0=function(){const e=document.createElement("div"),t=c(this,mr)._signal;e.addEventListener("contextmenu",Ji,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),c(this,$s)&&(e.id=`${c(this,$s).id}_colorpicker_dropdown`);for(const[n,s]of c(this,mr).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=n,o.setAttribute("data-l10n-id",c(Zn,$f)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=s,o.ariaSelected=s===c(this,Mc),o.addEventListener("click",_(this,ot,x0).bind(this,s),{signal:t}),e.append(o)}return e.addEventListener("keydown",_(this,ot,A0).bind(this),{signal:t}),e},x0=function(e,t){t.stopPropagation(),c(this,Uf).dispatch("switchannotationeditorparams",{source:this,type:c(this,Nc),value:e})},A0=function(e){Zn._keyboardManager.exec(this,e)},Ma=function(e){if(c(this,ot,Co)){this.hideDropdown();return}if(x(this,Hf,e.detail===0),c(this,Jo)||(x(this,Jo,new AbortController),window.addEventListener("pointerdown",_(this,ot,_C).bind(this),{signal:c(this,mr).combinedSignal(c(this,Jo))})),c(this,Ai).ariaExpanded="true",c(this,Yt)){c(this,Yt).classList.remove("hidden");return}const t=x(this,Yt,_(this,ot,S0).call(this));c(this,Ai).append(t)},_C=function(e){var t;(t=c(this,Yt))!=null&&t.contains(e.target)||this.hideDropdown()},Co=function(){return c(this,Yt)&&!c(this,Yt).classList.contains("hidden")},C(Zn,$f,null);let Ad=Zn;var Fc,Vf,Vs,Tl,Wf,ni,Gf,qf,Pl,Gi,bi,mn,Oc,Ws,Tn,zc,qi,Xf,He,b0,em,TC,PC,RC,E0,Da,Ki,Iu,LC,tm,sd,IC,MC,DC,NC,FC;const Ze=class Ze extends pt{constructor(t){super({...t,name:"highlightEditor"});C(this,He);C(this,Fc,null);C(this,Vf,0);C(this,Vs);C(this,Tl,null);C(this,Wf,null);C(this,ni,null);C(this,Gf,null);C(this,qf,0);C(this,Pl,null);C(this,Gi,null);C(this,bi,null);C(this,mn,!1);C(this,Oc,null);C(this,Ws);C(this,Tn,null);C(this,zc,"");C(this,qi);C(this,Xf,"");this.color=t.color||Ze._defaultColor,x(this,qi,t.thickness||Ze._defaultThickness),x(this,Ws,t.opacity||Ze._defaultOpacity),x(this,Vs,t.boxes||null),x(this,Xf,t.methodOfCreation||""),x(this,zc,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(x(this,mn,!0),_(this,He,em).call(this,t),_(this,He,Da).call(this)):c(this,Vs)&&(x(this,Fc,t.anchorNode),x(this,Vf,t.anchorOffset),x(this,Gf,t.focusNode),x(this,qf,t.focusOffset),_(this,He,b0).call(this),_(this,He,Da).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ze.prototype;return qe(this,"_keyboardManager",new ap([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,mn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,qi),methodOfCreation:c(this,Xf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var s;pt.initialize(t,n),Ze._defaultColor||(Ze._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Xe.HIGHLIGHT_DEFAULT_COLOR:Ze._defaultColor=n;break;case Xe.HIGHLIGHT_THICKNESS:Ze._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return c(this,Oc)}updateParams(t,n){switch(t){case Xe.HIGHLIGHT_COLOR:_(this,He,TC).call(this,n);break;case Xe.HIGHLIGHT_THICKNESS:_(this,He,PC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Xe.HIGHLIGHT_DEFAULT_COLOR,Ze._defaultColor],[Xe.HIGHLIGHT_THICKNESS,Ze._defaultThickness]]}get propertiesToUpdate(){return[[Xe.HIGHLIGHT_COLOR,this.color||Ze._defaultColor],[Xe.HIGHLIGHT_THICKNESS,c(this,qi)||Ze._defaultThickness],[Xe.HIGHLIGHT_FREE,c(this,mn)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",x(this,Wf,new Ad({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,He,sd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,_(this,He,sd).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){_(this,He,E0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,He,Da).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?_(this,He,E0).call(this):t&&(_(this,He,Da).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,u;const{drawLayer:n}=this.parent;let s;c(this,mn)?(t=(t-this.rotation+360)%360,s=_(o=Ze,Ki,Iu).call(o,c(this,Gi).box,t)):s=_(l=Ze,Ki,Iu).call(l,[this.x,this.y,this.width,this.height],t),n.updateProperties(c(this,bi),{bbox:s,root:{"data-main-rotation":t}}),n.updateProperties(c(this,Tn),{bbox:_(u=Ze,Ki,Iu).call(u,c(this,ni).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();c(this,zc)&&(t.setAttribute("aria-label",c(this,zc)),t.setAttribute("role","mark")),c(this,mn)?t.classList.add("free"):this.div.addEventListener("keydown",_(this,He,LC).bind(this),{signal:this._uiManager._signal});const n=x(this,Pl,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=c(this,Tl);const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),nk(this,c(this,Pl),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(c(this,Tn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(c(this,Tn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,He,tm).call(this,!0);break;case 1:case 3:_(this,He,tm).call(this,!1);break}}select(){var t;super.select(),c(this,Tn)&&((t=this.parent)==null||t.drawLayer.updateProperties(c(this,Tn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),c(this,Tn)&&((t=this.parent)==null||t.drawLayer.updateProperties(c(this,Tn),{rootClass:{selected:!1}}),c(this,mn)||_(this,He,tm).call(this,!1))}get _mustFixPosition(){return!c(this,mn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(c(this,bi),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(c(this,Tn),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:s,x:o,y:l}){const{x:u,y:d,width:f,height:p}=s.getBoundingClientRect(),m=new AbortController,y=t.combinedSignal(m),w=b=>{m.abort(),_(this,Ki,NC).call(this,t,b)};window.addEventListener("blur",w,{signal:y}),window.addEventListener("pointerup",w,{signal:y}),window.addEventListener("pointerdown",Ot,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Ji,{signal:y}),s.addEventListener("pointermove",_(this,Ki,DC).bind(this,t),{signal:y}),this._freeHighlight=new w0({x:o,y:l},[u,d,f,p],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,s){var A,k,E,R;let o=null;if(t instanceof uC){const{data:{quadPoints:P,rect:D,rotation:F,id:I,color:O,opacity:V,popupRef:W},parent:{page:{pageNumber:Y}}}=t;o=t={annotationType:Fe.HIGHLIGHT,color:Array.from(O),opacity:V,quadPoints:P,boxes:null,pageIndex:Y-1,rect:D.slice(0),rotation:F,annotationElementId:I,id:I,deleted:!1,popupRef:W}}else if(t instanceof AS){const{data:{inkLists:P,rect:D,rotation:F,id:I,color:O,borderStyle:{rawWidth:V},popupRef:W},parent:{page:{pageNumber:Y}}}=t;o=t={annotationType:Fe.HIGHLIGHT,color:Array.from(O),thickness:V,inkLists:P,boxes:null,pageIndex:Y-1,rect:D.slice(0),rotation:F,annotationElementId:I,id:I,deleted:!1,popupRef:W}}const{color:l,quadPoints:u,inkLists:d,opacity:f}=t,p=await super.deserialize(t,n,s);p.color=Ce.makeHexColor(...l),x(p,Ws,f||1),d&&x(p,qi,t.thickness),p._initialData=o;const[m,y]=p.pageDimensions,[w,b]=p.pageTranslation;if(u){const P=x(p,Vs,[]);for(let D=0;D<u.length;D+=8)P.push({x:(u[D]-w)/m,y:1-(u[D+1]-b)/y,width:(u[D+2]-u[D])/m,height:(u[D+1]-u[D+5])/y});_(A=p,He,b0).call(A),_(k=p,He,Da).call(k),p.rotate(p.rotation)}else if(d){x(p,mn,!0);const P=d[0],D={x:P[0]-w,y:y-(P[1]-b)},F=new w0(D,[0,0,m,y],1,c(p,qi)/2,!0,.001);for(let V=0,W=P.length;V<W;V+=2)D.x=P[V]-w,D.y=y-(P[V+1]-b),F.add(D);const{id:I,clipPathId:O}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:F.toSVGPath()}},!0,!0);_(E=p,He,em).call(E,{highlightOutlines:F.getOutlines(),highlightId:I,clipPathId:O}),_(R=p,He,Da).call(R),p.rotate(p.parentRotation)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=pt._colorManager.convert(this.color),o={annotationType:Fe.HIGHLIGHT,color:s,opacity:c(this,Ws),thickness:c(this,qi),quadPoints:_(this,He,IC).call(this),outlines:_(this,He,MC).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:_(this,He,sd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_(this,He,FC).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Fc=new WeakMap,Vf=new WeakMap,Vs=new WeakMap,Tl=new WeakMap,Wf=new WeakMap,ni=new WeakMap,Gf=new WeakMap,qf=new WeakMap,Pl=new WeakMap,Gi=new WeakMap,bi=new WeakMap,mn=new WeakMap,Oc=new WeakMap,Ws=new WeakMap,Tn=new WeakMap,zc=new WeakMap,qi=new WeakMap,Xf=new WeakMap,He=new WeakSet,b0=function(){const t=new y0(c(this,Vs),.001);x(this,Gi,t.getOutlines()),[this.x,this.y,this.width,this.height]=c(this,Gi).box;const n=new y0(c(this,Vs),.0025,.001,this._uiManager.direction==="ltr");x(this,ni,n.getOutlines());const{lastPoint:s}=c(this,ni);x(this,Oc,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},em=function({highlightOutlines:t,highlightId:n,clipPathId:s}){var m,y;if(x(this,Gi,t),x(this,ni,t.getNewOutline(c(this,qi)/2+1.5,.0025)),n>=0)x(this,bi,n),x(this,Tl,s),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),x(this,Tn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:c(this,ni).box,path:{d:c(this,ni).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(c(this,bi),{bbox:_(m=Ze,Ki,Iu).call(m,c(this,Gi).box,(w-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(c(this,Tn),{bbox:_(y=Ze,Ki,Iu).call(y,c(this,ni).box,w),path:{d:c(this,ni).toSVGPath()}})}const[l,u,d,f]=t.box;switch(this.rotation){case 0:this.x=l,this.y=u,this.width=d,this.height=f;break;case 90:{const[w,b]=this.parentDimensions;this.x=u,this.y=1-l,this.width=d*b/w,this.height=f*w/b;break}case 180:this.x=1-l,this.y=1-u,this.width=d,this.height=f;break;case 270:{const[w,b]=this.parentDimensions;this.x=1-u,this.y=l,this.width=d*b/w,this.height=f*w/b;break}}const{lastPoint:p}=c(this,ni);x(this,Oc,[(p[0]-l)/d,(p[1]-u)/f])},TC=function(t){const n=(l,u)=>{var d,f;this.color=l,x(this,Ws,u),(d=this.parent)==null||d.drawLayer.updateProperties(c(this,bi),{root:{fill:l,"fill-opacity":u}}),(f=c(this,Wf))==null||f.updateColor(l)},s=this.color,o=c(this,Ws);this.addCommands({cmd:n.bind(this,t,Ze._defaultOpacity),undo:n.bind(this,s,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},PC=function(t){const n=c(this,qi),s=o=>{x(this,qi,o),_(this,He,RC).call(this,o)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},RC=function(t){if(!c(this,mn))return;_(this,He,em).call(this,{highlightOutlines:c(this,Gi).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},E0=function(){c(this,bi)===null||!this.parent||(this.parent.drawLayer.remove(c(this,bi)),x(this,bi,null),this.parent.drawLayer.remove(c(this,Tn)),x(this,Tn,null))},Da=function(t=this.parent){c(this,bi)===null&&({id:Dn(this,bi)._,clipPathId:Dn(this,Tl)._}=t.drawLayer.draw({bbox:c(this,Gi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":c(this,Ws)},rootClass:{highlight:!0,free:c(this,mn)},path:{d:c(this,Gi).toSVGPath()}},!1,!0),x(this,Tn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:c(this,mn)},bbox:c(this,ni).box,path:{d:c(this,ni).toSVGPath()}},c(this,mn))),c(this,Pl)&&(c(this,Pl).style.clipPath=c(this,Tl)))},Ki=new WeakSet,Iu=function([t,n,s,o],l){switch(l){case 90:return[1-n-o,t,o,s];case 180:return[1-t-s,1-n-o,s,o];case 270:return[n,1-t-s,o,s]}return[t,n,s,o]},LC=function(t){Ze._keyboardManager.exec(this,t)},tm=function(t){if(!c(this,Fc))return;const n=window.getSelection();t?n.setPosition(c(this,Fc),c(this,Vf)):n.setPosition(c(this,Gf),c(this,qf))},sd=function(){return c(this,mn)?this.rotation:0},IC=function(){if(c(this,mn))return null;const[t,n]=this.pageDimensions,[s,o]=this.pageTranslation,l=c(this,Vs),u=new Float32Array(l.length*8);let d=0;for(const{x:f,y:p,width:m,height:y}of l){const w=f*t+s,b=(1-p)*n+o;u[d]=u[d+4]=w,u[d+1]=u[d+3]=b,u[d+2]=u[d+6]=w+m*t,u[d+5]=u[d+7]=b-y*n,d+=8}return u},MC=function(t){return c(this,Gi).serialize(t,_(this,He,sd).call(this))},DC=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},NC=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},FC=function(t){const{color:n}=this._initialData;return t.color.some((s,o)=>s!==n[o])},C(Ze,Ki),le(Ze,"_defaultColor",null),le(Ze,"_defaultOpacity",1),le(Ze,"_defaultThickness",12),le(Ze,"_type","highlight"),le(Ze,"_editorType",Fe.HIGHLIGHT),le(Ze,"_freeHighlightId",-1),le(Ze,"_freeHighlight",null),le(Ze,"_freeHighlightClipId","");let ym=Ze;var Rl;class OC{constructor(){C(this,Rl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){c(this,Rl)[e]=t}toSVGProperties(){const e=c(this,Rl);return x(this,Rl,Object.create(null)),{root:e}}reset(){x(this,Rl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){at("Not implemented")}}Rl=new WeakMap;var Ei,Bc,nn,Ll,Il,Zo,ea,ta,Ml,Ke,k0,C0,_0,od,zC,nm,ad,Mu;const we=class we extends pt{constructor(t){super(t);C(this,Ke);C(this,Ei,null);C(this,Bc);le(this,"_drawId",null);x(this,Bc,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(_(this,Ke,k0).call(this,t),_(this,Ke,od).call(this))}static _mergeSVGProperties(t,n){const s=new Set(Object.keys(t));for(const[o,l]of Object.entries(n))s.has(o)?Object.assign(t[o],l):t[o]=l;return t}static getDefaultDrawingOptions(t){at("Not implemented")}static get typesMap(){at("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,n),this._currentParent&&(c(we,nn).updateProperty(s,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[s,o]of this.typesMap)t.push([s,n[o]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[s,o]of this.constructor.typesMap)t.push([s,n[o]]);return t}_updateProperty(t,n,s){const o=this._drawingOptions,l=o[n],u=d=>{var p;o.updateProperty(n,d);const f=c(this,Ei).updateProperty(n,d);f&&_(this,Ke,ad).call(this,f),(p=this.parent)==null||p.drawLayer.updateProperties(this._drawId,o.toSVGProperties())};this.addCommands({cmd:u.bind(this,s),undo:u.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,we._mergeSVGProperties(c(this,Ei).getPathResizingSVGProperties(_(this,Ke,nm).call(this)),{bbox:_(this,Ke,Mu).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,we._mergeSVGProperties(c(this,Ei).getPathResizedSVGProperties(_(this,Ke,nm).call(this)),{bbox:_(this,Ke,Mu).call(this)}))}_onTranslating(t,n){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:_(this,Ke,Mu).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,we._mergeSVGProperties(c(this,Ei).getPathTranslatedSVGProperties(_(this,Ke,nm).call(this),this.parentDimensions),{bbox:_(this,Ke,Mu).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,c(this,Bc)&&(x(this,Bc,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){_(this,Ke,_0).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Ke,od).call(this),_(this,Ke,ad).call(this,c(this,Ei).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),_(this,Ke,_0).call(this)):t&&(this._uiManager.addShouldRescale(this),_(this,Ke,od).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,we._mergeSVGProperties({bbox:_(this,Ke,Mu).call(this)},c(this,Ei).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&_(this,Ke,ad).call(this,c(this,Ei).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const s=super.render();s.classList.add("draw");const o=document.createElement("div");s.append(o),o.setAttribute("aria-hidden","true"),o.className="internal";const[l,u]=this.parentDimensions;return this.setDims(this.width*l,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),s}static createDrawerInstance(t,n,s,o,l){at("Not implemented")}static startDrawing(t,n,s,o){var k;const{target:l,offsetX:u,offsetY:d,pointerId:f,pointerType:p}=o;if(c(we,ea)&&c(we,ea)!==p)return;const{viewport:{rotation:m}}=t,{width:y,height:w}=l.getBoundingClientRect(),b=x(we,Ll,new AbortController),A=t.combinedSignal(b);if(c(we,Zo)||x(we,Zo,f),c(we,ea)??x(we,ea,p),window.addEventListener("pointerup",E=>{var R;c(we,Zo)===E.pointerId?this._endDraw(E):(R=c(we,ta))==null||R.delete(E.pointerId)},{signal:A}),window.addEventListener("pointercancel",E=>{var R;c(we,Zo)===E.pointerId?this._currentParent.endDrawingSession():(R=c(we,ta))==null||R.delete(E.pointerId)},{signal:A}),window.addEventListener("pointerdown",E=>{c(we,ea)===E.pointerType&&((c(we,ta)||x(we,ta,new Set)).add(E.pointerId),c(we,nn).isCancellable()&&(c(we,nn).removeLastElement(),c(we,nn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Ji,{signal:A}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),l.addEventListener("touchmove",E=>{E.timeStamp===c(we,Ml)&&Ot(E)},{signal:A}),t.toggleDrawing(),(k=n._editorUndoBar)==null||k.hide(),c(we,nn)){t.drawLayer.updateProperties(this._currentDrawId,c(we,nn).startNew(u,d,y,w,m));return}n.updateUIForDefaultProperties(this),x(we,nn,this.createDrawerInstance(u,d,y,w,m)),x(we,Il,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(c(we,Il).toSVGProperties(),c(we,nn).defaultSVGProperties),!0,!1)}static _drawMove(t){var l;if(x(we,Ml,-1),!c(we,nn))return;const{offsetX:n,offsetY:s,pointerId:o}=t;if(c(we,Zo)===o){if(((l=c(we,ta))==null?void 0:l.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,c(we,nn).add(n,s)),x(we,Ml,t.timeStamp),Ot(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,x(we,nn,null),x(we,Il,null),x(we,ea,null),x(we,Ml,NaN)),c(we,Ll)&&(c(we,Ll).abort(),x(we,Ll,null),x(we,Zo,NaN),x(we,ta,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,c(we,nn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=c(we,nn),o=this._currentDrawId,l=s.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(o,s.setLastElement(l))},undo:()=>{n.drawLayer.updateProperties(o,s.removeLastElement())},mustExec:!1,type:Xe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Xe.DRAW_STEP),!c(we,nn).isEmpty()){const{pageDimensions:[s,o],scale:l}=n,u=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:c(we,nn).getOutlines(s*l,o*l,l,this._INNER_MARGIN),drawingOptions:c(we,Il),mustBeCommitted:!t});return this._cleanup(!0),u}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,s,o,l,u){at("Not implemented")}static async deserialize(t,n,s){var m,y;const{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}=n.viewport,f=this.deserializeDraw(u,d,o,l,this._INNER_MARGIN,t),p=await super.deserialize(t,n,s);return p.createDrawingOptions(t),_(m=p,Ke,k0).call(m,{drawOutlines:f}),_(y=p,Ke,od).call(y),p.onScaleChanging(),p.rotate(),p}serializeDraw(t){const[n,s]=this.pageTranslation,[o,l]=this.pageDimensions;return c(this,Ei).serialize([n,s,o,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ei=new WeakMap,Bc=new WeakMap,nn=new WeakMap,Ll=new WeakMap,Il=new WeakMap,Zo=new WeakMap,ea=new WeakMap,ta=new WeakMap,Ml=new WeakMap,Ke=new WeakSet,k0=function({drawOutlines:t,drawId:n,drawingOptions:s}){x(this,Ei,t),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=_(this,Ke,C0).call(this,t,this.parent),_(this,Ke,ad).call(this,t.box)},C0=function(t,n){const{id:s}=n.drawLayer.draw(we._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},_0=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},od=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=_(this,Ke,C0).call(this,c(this,Ei),t)}},zC=function([t,n,s,o]){const{parentDimensions:[l,u],rotation:d}=this;switch(d){case 90:return[n,1-t,s*(u/l),o*(l/u)];case 180:return[1-t,1-n,s,o];case 270:return[1-n,t,s*(u/l),o*(l/u)];default:return[t,n,s,o]}},nm=function(){const{x:t,y:n,width:s,height:o,parentDimensions:[l,u],rotation:d}=this;switch(d){case 90:return[1-n,t,s*(l/u),o*(u/l)];case 180:return[1-t,1-n,s,o];case 270:return[n,1-t,s*(l/u),o*(u/l)];default:return[t,n,s,o]}},ad=function(t){if([this.x,this.y,this.width,this.height]=_(this,Ke,zC).call(this,t),this.div){this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)}this._onResized()},Mu=function(){const{x:t,y:n,width:s,height:o,rotation:l,parentRotation:u,parentDimensions:[d,f]}=this;switch((l*4+u)/90){case 1:return[1-n-o,t,o,s];case 2:return[1-t-s,1-n-o,s,o];case 3:return[n,1-t-s,o,s];case 4:return[t,n-s*(d/f),o*(f/d),s*(d/f)];case 5:return[1-n,t,s*(d/f),o*(f/d)];case 6:return[1-t-o*(f/d),1-n,o*(f/d),s*(d/f)];case 7:return[n-s*(d/f),1-t-o*(f/d),s*(d/f),o*(f/d)];case 8:return[t-s,n-o,s,o];case 9:return[1-n,t-s,o,s];case 10:return[1-t,1-n,s,o];case 11:return[n-o,1-t,o,s];case 12:return[t-o*(f/d),n,o*(f/d),s*(d/f)];case 13:return[1-n-s*(d/f),t-o*(f/d),s*(d/f),o*(f/d)];case 14:return[1-t,1-n-s*(d/f),o*(f/d),s*(d/f)];case 15:return[n,1-t,s*(d/f),o*(f/d)];default:return[t,n,s,o]}},le(we,"_currentDrawId",-1),le(we,"_currentParent",null),C(we,nn,null),C(we,Ll,null),C(we,Il,null),C(we,Zo,NaN),C(we,ea,null),C(we,ta,null),C(we,Ml,NaN),le(we,"_INNER_MARGIN",3);let vm=we;var Xr,rn,sn,Dl,jc,On,yn,Xi,Nl,Fl,Ol,Hc,im;class Z2{constructor(e,t,n,s,o,l){C(this,Hc);C(this,Xr,new Float64Array(6));C(this,rn);C(this,sn);C(this,Dl);C(this,jc);C(this,On);C(this,yn,"");C(this,Xi,0);C(this,Nl,new up);C(this,Fl);C(this,Ol);x(this,Fl,n),x(this,Ol,s),x(this,Dl,o),x(this,jc,l),[e,t]=_(this,Hc,im).call(this,e,t);const u=x(this,rn,[NaN,NaN,NaN,NaN,e,t]);x(this,On,[e,t]),x(this,sn,[{line:u,points:c(this,On)}]),c(this,Xr).set(u,0)}updateProperty(e,t){e==="stroke-width"&&x(this,jc,t)}isEmpty(){return!c(this,sn)||c(this,sn).length===0}isCancellable(){return c(this,On).length<=10}add(e,t){[e,t]=_(this,Hc,im).call(this,e,t);const[n,s,o,l]=c(this,Xr).subarray(2,6),u=e-o,d=t-l;return Math.hypot(c(this,Fl)*u,c(this,Ol)*d)<=2?null:(c(this,On).push(e,t),isNaN(n)?(c(this,Xr).set([o,l,e,t],2),c(this,rn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(c(this,Xr)[0])&&c(this,rn).splice(6,6),c(this,Xr).set([n,s,o,l,e,t],0),c(this,rn).push(...me.createBezierPoints(n,s,o,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(c(this,On).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,s,o){x(this,Fl,n),x(this,Ol,s),x(this,Dl,o),[e,t]=_(this,Hc,im).call(this,e,t);const l=x(this,rn,[NaN,NaN,NaN,NaN,e,t]);x(this,On,[e,t]);const u=c(this,sn).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),c(this,sn).push({line:l,points:c(this,On)}),c(this,Xr).set(l,0),x(this,Xi,0),this.toSVGPath(),null}getLastElement(){return c(this,sn).at(-1)}setLastElement(e){return c(this,sn)?(c(this,sn).push(e),x(this,rn,e.line),x(this,On,e.points),x(this,Xi,0),{path:{d:this.toSVGPath()}}):c(this,Nl).setLastElement(e)}removeLastElement(){if(!c(this,sn))return c(this,Nl).removeLastElement();c(this,sn).pop(),x(this,yn,"");for(let e=0,t=c(this,sn).length;e<t;e++){const{line:n,points:s}=c(this,sn)[e];x(this,rn,n),x(this,On,s),x(this,Xi,0),this.toSVGPath()}return{path:{d:c(this,yn)}}}toSVGPath(){const e=me.svgRound(c(this,rn)[4]),t=me.svgRound(c(this,rn)[5]);if(c(this,On).length===2)return x(this,yn,`${c(this,yn)} M ${e} ${t} Z`),c(this,yn);if(c(this,On).length<=6){const s=c(this,yn).lastIndexOf("M");x(this,yn,`${c(this,yn).slice(0,s)} M ${e} ${t}`),x(this,Xi,6)}if(c(this,On).length===4){const s=me.svgRound(c(this,rn)[10]),o=me.svgRound(c(this,rn)[11]);return x(this,yn,`${c(this,yn)} L ${s} ${o}`),x(this,Xi,12),c(this,yn)}const n=[];c(this,Xi)===0&&(n.push(`M ${e} ${t}`),x(this,Xi,6));for(let s=c(this,Xi),o=c(this,rn).length;s<o;s+=6){const[l,u,d,f,p,m]=c(this,rn).slice(s,s+6).map(me.svgRound);n.push(`C${l} ${u} ${d} ${f} ${p} ${m}`)}return x(this,yn,c(this,yn)+n.join(" ")),x(this,Xi,c(this,rn).length),c(this,yn)}getOutlines(e,t,n,s){const o=c(this,sn).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),c(this,Nl).build(c(this,sn),e,t,n,c(this,Dl),c(this,jc),s),x(this,Xr,null),x(this,rn,null),x(this,sn,null),x(this,yn,null),c(this,Nl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Xr=new WeakMap,rn=new WeakMap,sn=new WeakMap,Dl=new WeakMap,jc=new WeakMap,On=new WeakMap,yn=new WeakMap,Xi=new WeakMap,Nl=new WeakMap,Fl=new WeakMap,Ol=new WeakMap,Hc=new WeakSet,im=function(e,t){return me._normalizePoint(e,t,c(this,Fl),c(this,Ol),c(this,Dl))};var zn,Yf,Kf,ki,Yr,Kr,Uc,$c,zl,wn,vs,BC,jC,HC;class up extends me{constructor(){super(...arguments);C(this,wn);C(this,zn);C(this,Yf,0);C(this,Kf);C(this,ki);C(this,Yr);C(this,Kr);C(this,Uc);C(this,$c);C(this,zl)}build(t,n,s,o,l,u,d){x(this,Yr,n),x(this,Kr,s),x(this,Uc,o),x(this,$c,l),x(this,zl,u),x(this,Kf,d??0),x(this,ki,t),_(this,wn,jC).call(this)}get thickness(){return c(this,zl)}setLastElement(t){return c(this,ki).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return c(this,ki).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of c(this,ki)){if(t.push(`M${me.svgRound(n[4])} ${me.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${me.svgRound(n[10])} ${me.svgRound(n[11])}`);continue}for(let s=6,o=n.length;s<o;s+=6){const[l,u,d,f,p,m]=n.subarray(s,s+6).map(me.svgRound);t.push(`C${l} ${u} ${d} ${f} ${p} ${m}`)}}return t.join("")}serialize([t,n,s,o],l){const u=[],d=[],[f,p,m,y]=_(this,wn,BC).call(this);let w,b,A,k,E,R,P,D,F;switch(c(this,$c)){case 0:F=me._rescale,w=t,b=n+o,A=s,k=-o,E=t+f*s,R=n+(1-p-y)*o,P=t+(f+m)*s,D=n+(1-p)*o;break;case 90:F=me._rescaleAndSwap,w=t,b=n,A=s,k=o,E=t+p*s,R=n+f*o,P=t+(p+y)*s,D=n+(f+m)*o;break;case 180:F=me._rescale,w=t+s,b=n,A=-s,k=o,E=t+(1-f-m)*s,R=n+p*o,P=t+(1-f)*s,D=n+(p+y)*o;break;case 270:F=me._rescaleAndSwap,w=t+s,b=n+o,A=-s,k=-o,E=t+(1-p-y)*s,R=n+(1-f-m)*o,P=t+(1-p)*s,D=n+(1-f)*o;break}for(const{line:I,points:O}of c(this,ki))u.push(F(I,w,b,A,k,l?new Array(I.length):null)),d.push(F(O,w,b,A,k,l?new Array(O.length):null));return{lines:u,points:d,rect:[E,R,P,D]}}static deserialize(t,n,s,o,l,{paths:{lines:u,points:d},rotation:f,thickness:p}){const m=[];let y,w,b,A,k;switch(f){case 0:k=me._rescale,y=-t/s,w=n/o+1,b=1/s,A=-1/o;break;case 90:k=me._rescaleAndSwap,y=-n/o,w=-t/s,b=1/o,A=1/s;break;case 180:k=me._rescale,y=t/s+1,w=-n/o,b=-1/s,A=1/o;break;case 270:k=me._rescaleAndSwap,y=n/o+1,w=t/s+1,b=-1/o,A=-1/s;break}if(!u){u=[];for(const R of d){const P=R.length;if(P===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(P===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const D=new Float32Array(3*(P-2));u.push(D);let[F,I,O,V]=R.subarray(0,4);D.set([NaN,NaN,NaN,NaN,F,I],0);for(let W=4;W<P;W+=2){const Y=R[W],q=R[W+1];D.set(me.createBezierPoints(F,I,O,V,Y,q),(W-2)*3),[F,I,O,V]=[O,V,Y,q]}}}for(let R=0,P=u.length;R<P;R++)m.push({line:k(u[R].map(D=>D??NaN),y,w,b,A),points:k(d[R].map(D=>D??NaN),y,w,b,A)});const E=new this.prototype.constructor;return E.build(m,s,o,1,f,p,l),E}get box(){return c(this,zn)}updateProperty(t,n){return t==="stroke-width"?_(this,wn,HC).call(this,n):null}updateParentDimensions([t,n],s){const[o,l]=_(this,wn,vs).call(this);x(this,Yr,t),x(this,Kr,n),x(this,Uc,s);const[u,d]=_(this,wn,vs).call(this),f=u-o,p=d-l,m=c(this,zn);return m[0]-=f,m[1]-=p,m[2]+=2*f,m[3]+=2*p,m}updateRotation(t){return x(this,Yf,t),{path:{transform:this.rotationTransform}}}get viewBox(){return c(this,zn).map(me.svgRound).join(" ")}get defaultProperties(){const[t,n]=c(this,zn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=c(this,zn);let s=0,o=0,l=0,u=0,d=0,f=0;switch(c(this,Yf)){case 90:o=n/t,l=-t/n,d=t;break;case 180:s=-1,u=-1,d=t,f=n;break;case 270:o=-n/t,l=t/n,f=n;break;default:return""}return`matrix(${s} ${o} ${l} ${u} ${me.svgRound(d)} ${me.svgRound(f)})`}getPathResizingSVGProperties([t,n,s,o]){const[l,u]=_(this,wn,vs).call(this),[d,f,p,m]=c(this,zn);if(Math.abs(p-l)<=me.PRECISION||Math.abs(m-u)<=me.PRECISION){const k=t+s/2-(d+p/2),E=n+o/2-(f+m/2);return{path:{"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`,transform:`${this.rotationTransform} translate(${k} ${E})`}}}const y=(s-2*l)/(p-2*l),w=(o-2*u)/(m-2*u),b=p/s,A=m/o;return{path:{"transform-origin":`${me.svgRound(d)} ${me.svgRound(f)}`,transform:`${this.rotationTransform} scale(${b} ${A}) translate(${me.svgRound(l)} ${me.svgRound(u)}) scale(${y} ${w}) translate(${me.svgRound(-l)} ${me.svgRound(-u)})`}}}getPathResizedSVGProperties([t,n,s,o]){const[l,u]=_(this,wn,vs).call(this),d=c(this,zn),[f,p,m,y]=d;if(d[0]=t,d[1]=n,d[2]=s,d[3]=o,Math.abs(m-l)<=me.PRECISION||Math.abs(y-u)<=me.PRECISION){const E=t+s/2-(f+m/2),R=n+o/2-(p+y/2);for(const{line:P,points:D}of c(this,ki))me._translate(P,E,R,P),me._translate(D,E,R,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const w=(s-2*l)/(m-2*l),b=(o-2*u)/(y-2*u),A=-w*(f+l)+t+l,k=-b*(p+u)+n+u;if(w!==1||b!==1||A!==0||k!==0)for(const{line:E,points:R}of c(this,ki))me._rescale(E,A,k,w,b,E),me._rescale(R,A,k,w,b,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],s){const[o,l]=s,u=c(this,zn),d=t-u[0],f=n-u[1];if(c(this,Yr)===o&&c(this,Kr)===l)for(const{line:p,points:m}of c(this,ki))me._translate(p,d,f,p),me._translate(m,d,f,m);else{const p=c(this,Yr)/o,m=c(this,Kr)/l;x(this,Yr,o),x(this,Kr,l);for(const{line:y,points:w}of c(this,ki))me._rescale(y,d,f,p,m,y),me._rescale(w,d,f,p,m,w);u[2]*=p,u[3]*=m}return u[0]=t,u[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`}}}get defaultSVGProperties(){const t=c(this,zn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${me.svgRound(t[0])} ${me.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}zn=new WeakMap,Yf=new WeakMap,Kf=new WeakMap,ki=new WeakMap,Yr=new WeakMap,Kr=new WeakMap,Uc=new WeakMap,$c=new WeakMap,zl=new WeakMap,wn=new WeakSet,vs=function(t=c(this,zl)){const n=c(this,Kf)+t/2*c(this,Uc);return c(this,$c)%180===0?[n/c(this,Yr),n/c(this,Kr)]:[n/c(this,Kr),n/c(this,Yr)]},BC=function(){const[t,n,s,o]=c(this,zn),[l,u]=_(this,wn,vs).call(this,0);return[t+l,n+u,s-2*l,o-2*u]},jC=function(){const t=x(this,zn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of c(this,ki)){if(o.length<=12){for(let d=4,f=o.length;d<f;d+=6)Ce.pointBoundingBox(o[d],o[d+1],t);continue}let l=o[4],u=o[5];for(let d=6,f=o.length;d<f;d+=6){const[p,m,y,w,b,A]=o.subarray(d,d+6);Ce.bezierBoundingBox(l,u,p,m,y,w,b,A,t),l=b,u=A}}const[n,s]=_(this,wn,vs).call(this);t[0]=Pn(t[0]-n,0,1),t[1]=Pn(t[1]-s,0,1),t[2]=Pn(t[2]+n,0,1),t[3]=Pn(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]},HC=function(t){const[n,s]=_(this,wn,vs).call(this);x(this,zl,t);const[o,l]=_(this,wn,vs).call(this),[u,d]=[o-n,l-s],f=c(this,zn);return f[0]-=u,f[1]-=d,f[2]+=2*u,f[3]+=2*d,f};class Qm extends OC{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Qm(this._viewParameters);return e.updateAll(this),e}}var zm,UC;const Fu=class Fu extends vm{constructor(t){super({...t,name:"inkEditor"});C(this,zm);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){pt.initialize(t,n),this._defaultDrawingOptions=new Qm(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return qe(this,"typesMap",new Map([[Xe.INK_THICKNESS,"stroke-width"],[Xe.INK_COLOR,"stroke"],[Xe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,s,o,l){return new Z2(t,n,s,o,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,s,o,l,u){return up.deserialize(t,n,s,o,l,u)}static async deserialize(t,n,s){let o=null;if(t instanceof AS){const{data:{inkLists:u,rect:d,rotation:f,id:p,color:m,opacity:y,borderStyle:{rawWidth:w},popupRef:b},parent:{page:{pageNumber:A}}}=t;o=t={annotationType:Fe.INK,color:Array.from(m),thickness:w,opacity:y,paths:{points:u},boxes:null,pageIndex:A-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:b}}const l=await super.deserialize(t,n,s);return l._initialData=o,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:s}=this;n.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:s}){this._drawingOptions=Fu.getDefaultDrawingOptions({stroke:Ce.makeHexColor(...t),"stroke-width":n,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:s,rect:o}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":u,"stroke-width":d}}=this,f={annotationType:Fe.INK,color:pt._colorManager.convert(l),opacity:u,thickness:d,paths:{lines:n,points:s},pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(f.isCopy=!0,f):this.annotationElementId&&!_(this,zm,UC).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(t){const{points:n,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:n}),null}};zm=new WeakSet,UC=function(t){const{color:n,thickness:s,opacity:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((u,d)=>u!==n[d])||t.thickness!==s||t.opacity!==o||t.pageIndex!==l},le(Fu,"_type","ink"),le(Fu,"_editorType",Fe.INK),le(Fu,"_defaultDrawingOptions",null);let T0=Fu;class P0 extends up{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Pg=8,Vh=3;var Bl,nt,R0,yr,$C,VC,L0,rm,WC,GC,qC,I0,M0,XC;class ns{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:s},o,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,y=p.font=`${n} ${s} ${m}px ${t}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:b,actualBoundingBoxAscent:A,actualBoundingBoxDescent:k,fontBoundingBoxAscent:E,fontBoundingBoxDescent:R,width:P}=p.measureText(e),D=1.5,F=Math.ceil(Math.max(Math.abs(w)+Math.abs(b)||0,P)*D),I=Math.ceil(Math.max(Math.abs(A)+Math.abs(k)||m,Math.abs(E)+Math.abs(R)||m)*D);f=new OffscreenCanvas(F,I),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,F,I),p.fillStyle="black",p.fillText(e,F*(D-1)/2,I*(3-D)/2);const O=_(this,nt,I0).call(this,p.getImageData(0,0,F,I).data),V=_(this,nt,qC).call(this,O),W=_(this,nt,M0).call(this,V),Y=_(this,nt,L0).call(this,O,F,I,W);return this.processDrawnLines({lines:{curves:Y,width:F,height:I},pageWidth:o,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,n,s,o){const[l,u,d]=_(this,nt,XC).call(this,e),[f,p]=_(this,nt,GC).call(this,l,u,d,Math.hypot(u,d)*c(this,Bl).sigmaSFactor,c(this,Bl).sigmaR,c(this,Bl).kernelSize),m=_(this,nt,M0).call(this,p),y=_(this,nt,L0).call(this,f,u,d,m);return this.processDrawnLines({lines:{curves:y,width:u,height:d},pageWidth:t,pageHeight:n,rotation:s,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:s,innerMargin:o,mustSmooth:l,areContours:u}){s%180!==0&&([t,n]=[n,t]);const{curves:d,width:f,height:p}=e,m=e.thickness??0,y=[],w=Math.min(t/f,n/p),b=w/t,A=w/n,k=[];for(const{points:R}of d){const P=l?_(this,nt,WC).call(this,R):R;if(!P)continue;k.push(P);const D=P.length,F=new Float32Array(D),I=new Float32Array(3*(D===2?2:D-2));if(y.push({line:I,points:F}),D===2){F[0]=P[0]*b,F[1]=P[1]*A,I.set([NaN,NaN,NaN,NaN,F[0],F[1]],0);continue}let[O,V,W,Y]=P;O*=b,V*=A,W*=b,Y*=A,F.set([O,V,W,Y],0),I.set([NaN,NaN,NaN,NaN,O,V],0);for(let q=4;q<D;q+=2){const ne=F[q]=P[q]*b,ee=F[q+1]=P[q+1]*A;I.set(me.createBezierPoints(O,V,W,Y,ne,ee),(q-2)*3),[O,V,W,Y]=[W,Y,ne,ee]}}if(y.length===0)return null;const E=u?new P0:new up;return E.build(y,t,n,1,s,u?0:m,o),{outline:E,newCurves:k,areContours:u,thickness:m,width:f,height:p}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:s,height:o}){let l=1/0,u=-1/0,d=0;for(const P of e){d+=P.length;for(let D=2,F=P.length;D<F;D++){const I=P[D]-P[D-2];l=Math.min(l,I),u=Math.max(u,I)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=e.length,m=Pg+Vh*p,y=new Uint32Array(m);let w=0;y[w++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,y[w++]=0,y[w++]=s,y[w++]=o,y[w++]=t?0:1,y[w++]=Math.max(0,Math.floor(n??0)),y[w++]=p,y[w++]=f.BYTES_PER_ELEMENT;for(const P of e)y[w++]=P.length-2,y[w++]=P[0],y[w++]=P[1];const b=new CompressionStream("deflate-raw"),A=b.writable.getWriter();await A.ready,A.write(y);const k=f.prototype.constructor;for(const P of e){const D=new k(P.length-2);for(let F=2,I=P.length;F<I;F++)D[F-2]=P[F]-P[F-2];A.write(D)}A.close();const E=await new Response(b.readable).arrayBuffer(),R=new Uint8Array(E);return GE(R)}static async decompressSignature(e){try{const t=PN(e),{readable:n,writable:s}=new DecompressionStream("deflate-raw"),o=s.getWriter();await o.ready,o.write(t).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const P of n)l||(l=new Uint8Array(new Uint32Array(P.buffer,0,4)[0])),l.set(P,u),u+=P.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],m=d[3],y=d[4]===0,w=d[5],b=d[6],A=d[7],k=[],E=(Pg+Vh*b)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(A){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(l.buffer,E);break}u=0;for(let P=0;P<b;P++){const D=d[Vh*P+Pg],F=new Float32Array(D+2);k.push(F);for(let I=0;I<Vh-1;I++)F[I]=d[Vh*P+Pg+I+1];for(let I=0;I<D;I++)F[I+2]=F[I]+R[u++]}return{areContours:y,thickness:w,outlines:k,width:p,height:m}}catch(t){return ze(`decompressSignature: ${t}`),null}}}Bl=new WeakMap,nt=new WeakSet,R0=function(e,t,n,s){return n-=e,s-=t,n===0?s>0?0:4:n===1?s+6:2-s},yr=new WeakMap,$C=function(e,t,n,s,o,l,u){const d=_(this,nt,R0).call(this,n,s,o,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,m=c(this,yr)[2*p],y=c(this,yr)[2*p+1];if(e[(n+m)*t+(s+y)]!==0)return p}return-1},VC=function(e,t,n,s,o,l,u){const d=_(this,nt,R0).call(this,n,s,o,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,m=c(this,yr)[2*p],y=c(this,yr)[2*p+1];if(e[(n+m)*t+(s+y)]!==0)return p}return-1},L0=function(e,t,n,s){const o=e.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=e[p]<=s?1:0;for(let p=1;p<n-1;p++)l[p*t]=l[p*t+t-1]=0;for(let p=0;p<t;p++)l[p]=l[t*n-1-p]=0;let u=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let m=1;m<t-1;m++){const y=p*t+m,w=l[y];if(w===0)continue;let b=p,A=m;if(w===1&&l[y-1]===0)u+=1,A-=1;else if(w>=1&&l[y+1]===0)u+=1,A+=1,w>1&&(d=w);else{w!==1&&(d=Math.abs(w));continue}const k=[m,p],E=A===m+1,R={isHole:E,points:k,id:u,parent:0};f.push(R);let P;for(const q of f)if(q.id===d){P=q;break}P?P.isHole?R.parent=E?P.parent:d:R.parent=E?d:P.parent:R.parent=E?d:0;const D=_(this,nt,$C).call(this,l,t,p,m,b,A,0);if(D===-1){l[y]=-u,l[y]!==1&&(d=Math.abs(l[y]));continue}let F=c(this,yr)[2*D],I=c(this,yr)[2*D+1];const O=p+F,V=m+I;b=O,A=V;let W=p,Y=m;for(;;){const q=_(this,nt,VC).call(this,l,t,W,Y,b,A,1);F=c(this,yr)[2*q],I=c(this,yr)[2*q+1];const ne=W+F,ee=Y+I;k.push(ee,ne);const K=W*t+Y;if(l[K+1]===0?l[K]=-u:l[K]===1&&(l[K]=u),ne===p&&ee===m&&W===O&&Y===V){l[y]!==1&&(d=Math.abs(l[y]));break}else b=W,A=Y,W=ne,Y=ee}}}return f},rm=function(e,t,n,s){if(n-t<=4){for(let O=t;O<n-2;O+=2)s.push(e[O],e[O+1]);return}const o=e[t],l=e[t+1],u=e[n-4]-o,d=e[n-3]-l,f=Math.hypot(u,d),p=u/f,m=d/f,y=p*l-m*o,w=d/u,b=1/f,A=Math.atan(w),k=Math.cos(A),E=Math.sin(A),R=b*(Math.abs(k)+Math.abs(E)),P=b*(1-R+R**2),D=Math.max(Math.atan(Math.abs(E+k)*P),Math.atan(Math.abs(E-k)*P));let F=0,I=t;for(let O=t+2;O<n-2;O+=2){const V=Math.abs(y-p*e[O+1]+m*e[O]);V>F&&(I=O,F=V)}F>(f*D)**2?(_(this,nt,rm).call(this,e,t,I+2,s),_(this,nt,rm).call(this,e,I,n,s)):s.push(o,l)},WC=function(e){const t=[],n=e.length;return _(this,nt,rm).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},GC=function(e,t,n,s,o,l){const u=new Float32Array(l**2),d=-2*s**2,f=l>>1;for(let A=0;A<l;A++){const k=(A-f)**2;for(let E=0;E<l;E++)u[A*l+E]=Math.exp((k+(E-f)**2)/d)}const p=new Float32Array(256),m=-2*o**2;for(let A=0;A<256;A++)p[A]=Math.exp(A**2/m);const y=e.length,w=new Uint8Array(y),b=new Uint32Array(256);for(let A=0;A<n;A++)for(let k=0;k<t;k++){const E=A*t+k,R=e[E];let P=0,D=0;for(let I=0;I<l;I++){const O=A+I-f;if(!(O<0||O>=n))for(let V=0;V<l;V++){const W=k+V-f;if(W<0||W>=t)continue;const Y=e[O*t+W],q=u[I*l+V]*p[Math.abs(Y-R)];P+=Y*q,D+=q}}const F=w[E]=Math.round(P/D);b[F]++}return[w,b]},qC=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},I0=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let s=-1/0,o=1/0;for(let u=0,d=n.length;u<d;u++){if(e[(u<<2)+3]===0){s=n[u]=255;continue}const p=n[u]=e[u<<2];p>s&&(s=p),p<o&&(o=p)}const l=255/(s-o);for(let u=0;u<t;u++)n[u]=(n[u]-o)*l;return n},M0=function(e){let t,n=-1/0,s=-1/0;const o=e.findIndex(d=>d!==0);let l=o,u=o;for(t=o;t<256;t++){const d=e[t];d>n&&(t-l>s&&(s=t-l,u=t-1),n=d,l=t)}for(t=u-1;t>=0&&!(e[t]>e[t+1]);t--);return t},XC=function(e){const t=e,{width:n,height:s}=e,{maxDim:o}=c(this,Bl);let l=n,u=s;if(n>o||s>o){let y=n,w=s,b=Math.log2(Math.max(n,s)/o);const A=Math.floor(b);b=b===A?A-1:A;for(let E=0;E<b;E++){l=Math.ceil(y/2),u=Math.ceil(w/2);const R=new OffscreenCanvas(l,u);R.getContext("2d").drawImage(e,0,0,y,w,0,0,l,u),y=l,w=u,e!==t&&e.close(),e=R.transferToImageBitmap()}const k=Math.min(o/l,o/u);l=Math.round(l*k),u=Math.round(u*k)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[_(this,nt,I0).call(this,p),l,u]},C(ns,nt),C(ns,Bl,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),C(ns,yr,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class ES extends OC{constructor(){super(),super.updateProperties({fill:pt._defaultLineColor,"stroke-width":0})}clone(){const e=new ES;return e.updateAll(this),e}}class kS extends Qm{constructor(e){super(e),super.updateProperties({stroke:pt._defaultLineColor,"stroke-width":1})}clone(){const e=new kS(this._viewParameters);return e.updateAll(this),e}}var na,Qr,ia,jl;const fi=class fi extends vm{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});C(this,na,!1);C(this,Qr,null);C(this,ia,null);C(this,jl,null);this._willKeepAspectRatio=!0,x(this,ia,t.signatureData||null),x(this,Qr,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){pt.initialize(t,n),this._defaultDrawingOptions=new ES,this._defaultDrawnSignatureOptions=new kS(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return qe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!c(this,Qr)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(c(this,ia)){const{lines:o,mustSmooth:l,areContours:u,description:d,uuid:f,heightInPage:p}=c(this,ia),{rawDims:{pageWidth:m,pageHeight:y},rotation:w}=this.parent.viewport,b=ns.processDrawnLines({lines:o,pageWidth:m,pageHeight:y,rotation:w,innerMargin:fi._INNER_MARGIN,mustSmooth:l,areContours:u});this.addSignature(b,p,d,f)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){x(this,jl,t),this.addEditToolbar()}getUuid(){return c(this,jl)}get description(){return c(this,Qr)}set description(t){x(this,Qr,t),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:s,width:o,height:l}=c(this,ia),u=Math.max(o,l),d=ns.processDrawnLines({lines:{curves:t.map(f=>({points:f})),thickness:s,width:o,height:l},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:d.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,s,o){const{x:l,y:u}=this,{outline:d}=x(this,ia,t);x(this,na,d instanceof P0),this.description=s,this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let f;c(this,na)?f=fi.getDefaultDrawingOptions():(f=fi._defaultDrawnSignatureOptions.clone(),f.updateProperties({"stroke-width":d.thickness})),this._addOutlines({drawOutlines:d,drawingOptions:f});const[p,m]=this.parentDimensions,[,y]=this.pageDimensions;let w=n/y;w=w>=1?.5:w,this.width*=w/this.height,this.width>=1&&(w*=.9/this.width,this.width=.9),this.height=w,this.setDims(p*this.width,m*this.height),this.x=l,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:s},rotation:o}=this.parent.viewport;return ns.process(t,n,s,o,fi._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:s,pageHeight:o},rotation:l}=this.parent.viewport;return ns.extractContoursFromText(t,n,s,o,l,fi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:s},rotation:o}=this.parent.viewport;return ns.processDrawnLines({lines:t,pageWidth:n,pageHeight:s,rotation:o,innerMargin:fi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=fi.getDefaultDrawingOptions():(this._drawingOptions=fi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:s,rect:o}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,u={annotationType:Fe.SIGNATURE,isSignature:!0,areContours:c(this,na),color:[0,0,0],thickness:c(this,na)?0:l,pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.paths={lines:n,points:s},u.uuid=c(this,jl),u.isCopy=!0):u.lines=n,c(this,Qr)&&(u.accessibilityData={type:"Figure",alt:c(this,Qr)}),u}static deserializeDraw(t,n,s,o,l,u){return u.areContours?P0.deserialize(t,n,s,o,l,u):up.deserialize(t,n,s,o,l,u)}static async deserialize(t,n,s){var l;const o=await super.deserialize(t,n,s);return x(o,na,t.areContours),x(o,Qr,((l=t.accessibilityData)==null?void 0:l.alt)||""),x(o,jl,t.uuid),o}};na=new WeakMap,Qr=new WeakMap,ia=new WeakMap,jl=new WeakMap,le(fi,"_type","signature"),le(fi,"_editorType",Fe.SIGNATURE),le(fi,"_defaultDrawingOptions",null);let D0=fi;var At,on,ra,Gs,sa,Vc,qs,Hl,Jr,Ci,Wc,Qe,ld,ud,sm,om,am,F0,lm,YC;class N0 extends pt{constructor(t){super({...t,name:"stampEditor"});C(this,Qe);C(this,At,null);C(this,on,null);C(this,ra,null);C(this,Gs,null);C(this,sa,null);C(this,Vc,"");C(this,qs,null);C(this,Hl,!1);C(this,Jr,null);C(this,Ci,!1);C(this,Wc,!1);x(this,Gs,t.bitmapUrl),x(this,sa,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){pt.initialize(t,n)}static isHandlingMimeForPasting(t){return pm.includes(t)}static paste(t,n){n.pasteEditor({mode:Fe.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:u}=t||this.copyCanvas(null,null,!0).imageData,d=await s.guess({name:"altText",request:{data:o,width:l,height:u,channels:o.length/(l*u)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const f=d.output;return await this.setGuessedAltText(f),n&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var t;c(this,on)&&(x(this,At,null),this._uiManager.imageManager.deleteId(c(this,on)),(t=c(this,qs))==null||t.remove(),x(this,qs,null),c(this,Jr)&&(clearTimeout(c(this,Jr)),x(this,Jr,null))),super.remove()}rebuild(){if(!this.parent){c(this,on)&&_(this,Qe,sm).call(this);return}super.rebuild(),this.div!==null&&(c(this,on)&&c(this,qs)===null&&_(this,Qe,sm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(c(this,ra)||c(this,At)||c(this,Gs)||c(this,sa)||c(this,on)||c(this,Hl))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),c(this,Hl)||(c(this,At)?_(this,Qe,om).call(this):_(this,Qe,sm).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:s,bitmap:o}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(x(this,on,s),o&&x(this,At,o),x(this,Hl,!1),_(this,Qe,om).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;c(this,Jr)!==null&&clearTimeout(c(this,Jr)),x(this,Jr,setTimeout(()=>{x(this,Jr,null),_(this,Qe,F0).call(this)},200))}copyCanvas(t,n,s=!1){var w;t||(t=224);const{width:o,height:l}=c(this,At),u=new Ar;let d=c(this,At),f=o,p=l,m=null;if(n){if(o>n||l>n){const V=Math.min(n/o,n/l);f=Math.floor(o*V),p=Math.floor(l*V)}m=document.createElement("canvas");const b=m.width=Math.ceil(f*u.sx),A=m.height=Math.ceil(p*u.sy);c(this,Ci)||(d=_(this,Qe,am).call(this,b,A));const k=m.getContext("2d");k.filter=this._uiManager.hcmFilter;let E="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",R="#42414d");const P=15,D=P*u.sx,F=P*u.sy,I=new OffscreenCanvas(D*2,F*2),O=I.getContext("2d");O.fillStyle=E,O.fillRect(0,0,D*2,F*2),O.fillStyle=R,O.fillRect(0,0,D,F),O.fillRect(D,F,D,F),k.fillStyle=k.createPattern(I,"repeat"),k.fillRect(0,0,b,A),k.drawImage(d,0,0,d.width,d.height,0,0,b,A)}let y=null;if(s){let b,A;if(u.symmetric&&d.width<t&&d.height<t)b=d.width,A=d.height;else if(d=c(this,At),o>t||l>t){const R=Math.min(t/o,t/l);b=Math.floor(o*R),A=Math.floor(l*R),c(this,Ci)||(d=_(this,Qe,am).call(this,b,A))}const E=new OffscreenCanvas(b,A).getContext("2d",{willReadFrequently:!0});E.drawImage(d,0,0,d.width,d.height,0,0,b,A),y={width:b,height:A,data:E.getImageData(0,0,b,A).data}}return{canvas:m,width:f,height:p,imageData:y}}static async deserialize(t,n,s){var k;let o=null,l=!1;if(t instanceof cC){const{data:{rect:E,rotation:R,id:P,structParent:D,popupRef:F},container:I,parent:{page:{pageNumber:O}},canvas:V}=t;let W,Y;V?(delete t.canvas,{id:W,bitmap:Y}=s.imageManager.getFromCanvas(I.id,V),V.remove()):(l=!0,t._hasNoCanvas=!0);const q=((k=await n._structTree.getAriaAttributes(`${fS}${P}`))==null?void 0:k.get("aria-label"))||"";o=t={annotationType:Fe.STAMP,bitmapId:W,bitmap:Y,pageIndex:O-1,rect:E.slice(0),rotation:R,annotationElementId:P,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:q},isSvg:!1,structParent:D,popupRef:F}}const u=await super.deserialize(t,n,s),{rect:d,bitmap:f,bitmapUrl:p,bitmapId:m,isSvg:y,accessibilityData:w}=t;l?(s.addMissingCanvas(t.id,u),x(u,Hl,!0)):m&&s.imageManager.isValidId(m)?(x(u,on,m),f&&x(u,At,f)):x(u,Gs,p),x(u,Ci,y);const[b,A]=u.pageDimensions;return u.width=(d[2]-d[0])/b,u.height=(d[3]-d[1])/A,w&&(u.altTextData=w),u._initialData=o,x(u,Wc,!!o),u}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Fe.STAMP,bitmapId:c(this,on),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Ci),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=_(this,Qe,lm).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const d=_(this,Qe,YC).call(this,s);if(d.isSame)return null;d.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const u=c(this,Ci)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(c(this,on)))n.stamps.set(c(this,on),{area:u,serialized:s}),s.bitmap=_(this,Qe,lm).call(this,!1);else if(c(this,Ci)){const d=n.stamps.get(c(this,on));u>d.area&&(d.area=u,d.serialized.bitmap.close(),d.serialized.bitmap=_(this,Qe,lm).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}At=new WeakMap,on=new WeakMap,ra=new WeakMap,Gs=new WeakMap,sa=new WeakMap,Vc=new WeakMap,qs=new WeakMap,Hl=new WeakMap,Jr=new WeakMap,Ci=new WeakMap,Wc=new WeakMap,Qe=new WeakSet,ld=function(t,n=!1){if(!t){this.remove();return}x(this,At,t.bitmap),n||(x(this,on,t.id),x(this,Ci,t.isSvg)),t.file&&x(this,Vc,t.file.name),_(this,Qe,om).call(this)},ud=function(){if(x(this,ra,null),this._uiManager.enableWaiting(!1),!!c(this,qs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,At)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,At)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},sm=function(){if(c(this,on)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,on)).then(s=>_(this,Qe,ld).call(this,s,!0)).finally(()=>_(this,Qe,ud).call(this));return}if(c(this,Gs)){const s=c(this,Gs);x(this,Gs,null),this._uiManager.enableWaiting(!0),x(this,ra,this._uiManager.imageManager.getFromUrl(s).then(o=>_(this,Qe,ld).call(this,o)).finally(()=>_(this,Qe,ud).call(this)));return}if(c(this,sa)){const s=c(this,sa);x(this,sa,null),this._uiManager.enableWaiting(!0),x(this,ra,this._uiManager.imageManager.getFromFile(s).then(o=>_(this,Qe,ld).call(this,o)).finally(()=>_(this,Qe,ud).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=pm.join(",");const n=this._uiManager._signal;x(this,ra,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,Qe,ld).call(this,o)}s()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>_(this,Qe,ud).call(this))),t.click()},om=function(){var m;const{div:t}=this;let{width:n,height:s}=c(this,At);const[o,l]=this.pageDimensions,u=.75;if(this.width)n=this.width*o,s=this.height*l;else if(n>u*o||s>u*l){const y=Math.min(u*o/n,u*l/s);n*=y,s*=y}const[d,f]=this.parentDimensions;this.setDims(n*d/o,s*f/l),this._uiManager.enableWaiting(!1);const p=x(this,qs,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),this.width=n/o,this.height=s/l,(m=this._initialOptions)!=null&&m.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),_(this,Qe,F0).call(this),c(this,Wc)||(this.parent.addUndoableEditor(this),x(this,Wc,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Vc)&&this.div.setAttribute("aria-description",c(this,Vc)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},am=function(t,n){const{width:s,height:o}=c(this,At);let l=s,u=o,d=c(this,At);for(;l>2*t||u>2*n;){const f=l,p=u;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),u>2*n&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const m=new OffscreenCanvas(l,u);m.getContext("2d").drawImage(d,0,0,f,p,0,0,l,u),d=m.transferToImageBitmap()}return d},F0=function(){const[t,n]=this.parentDimensions,{width:s,height:o}=this,l=new Ar,u=Math.ceil(s*t*l.sx),d=Math.ceil(o*n*l.sy),f=c(this,qs);if(!f||f.width===u&&f.height===d)return;f.width=u,f.height=d;const p=c(this,Ci)?c(this,At):_(this,Qe,am).call(this,u,d),m=f.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(p,0,0,p.width,p.height,0,0,u,d)},lm=function(t){if(t){if(c(this,Ci)){const o=this._uiManager.imageManager.getSvgUrl(c(this,on));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=c(this,At),n.getContext("2d").drawImage(c(this,At),0,0),n.toDataURL()}if(c(this,Ci)){const[n,s]=this.pageDimensions,o=Math.round(this.width*n*no.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*no.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(o,l);return u.getContext("2d").drawImage(c(this,At),0,0,c(this,At).width,c(this,At).height,0,0,o,l),u.transferToImageBitmap()}return structuredClone(c(this,At))},YC=function(t){var u;const{pageIndex:n,accessibilityData:{altText:s}}=this._initialData,o=t.pageIndex===n,l=(((u=t.accessibilityData)==null?void 0:u.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&o&&l,isSameAltText:l}},le(N0,"_type","stamp"),le(N0,"_editorType",Fe.STAMP);var Ul,Gc,Zr,oa,Xs,_i,aa,qc,$l,vr,Ys,an,Ks,la,Xc,ke,ua,bt,KC,Nr,O0,z0,um;const ar=class ar{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:s,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){C(this,bt);C(this,Ul);C(this,Gc,!1);C(this,Zr,null);C(this,oa,null);C(this,Xs,null);C(this,_i,new Map);C(this,aa,!1);C(this,qc,!1);C(this,$l,!1);C(this,vr,null);C(this,Ys,null);C(this,an,null);C(this,Ks,null);C(this,la,null);C(this,Xc,-1);C(this,ke);const m=[...c(ar,ua).values()];if(!ar._initialized){ar._initialized=!0;for(const y of m)y.initialize(p,e)}e.registerEditorTypes(m),x(this,ke,e),this.pageIndex=t,this.div=n,x(this,Ul,o),x(this,Zr,l),this.viewport=f,x(this,an,d),this.drawLayer=u,this._structTree=s,c(this,ke).addLayer(this)}get isEmpty(){return c(this,_i).size===0}get isInvisible(){return this.isEmpty&&c(this,ke).getMode()===Fe.NONE}updateToolbar(e){c(this,ke).updateToolbar(e)}updateMode(e=c(this,ke).getMode()){switch(_(this,bt,um).call(this),e){case Fe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Fe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Fe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of c(ar,ua).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,an))==null?void 0:t.div)}setEditingState(e){c(this,ke).setEditingState(e)}addCommands(e){c(this,ke).addCommands(e)}cleanUndoStack(e){c(this,ke).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Zr))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;x(this,$l,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=c(this,la))==null||n.abort(),x(this,la,null);const e=new Set;for(const s of c(this,_i).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(c(this,ke).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!c(this,Zr)){x(this,$l,!1);return}const t=c(this,Zr).getEditableAnnotations();for(const s of t){if(s.hide(),c(this,ke).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const o=await this.deserialize(s);o&&(this.addOrRebuild(o),o.enableEditing())}x(this,$l,!1)}disable(){var s;if(x(this,qc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),c(this,an)&&!c(this,la)){x(this,la,new AbortController);const o=c(this,ke).combinedSignal(c(this,la));c(this,an).div.addEventListener("pointerdown",l=>{const{clientX:d,clientY:f,timeStamp:p}=l,m=c(this,Xc);if(p-m>500){x(this,Xc,p);return}x(this,Xc,-1);const{classList:y}=this.div;y.toggle("getElements",!0);const w=document.elementsFromPoint(d,f);if(y.toggle("getElements",!1),!this.div.contains(w[0]))return;let b;const A=new RegExp(`^${HE}[0-9]+$`);for(const E of w)if(A.test(E.id)){b=E.id;break}if(!b)return;const k=c(this,_i).get(b);(k==null?void 0:k.annotationElementId)===null&&(l.stopPropagation(),l.preventDefault(),k.dblclick())},{signal:o,capture:!0})}const e=new Map,t=new Map;for(const o of c(this,_i).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(s=this.getEditableAnnotation(o.annotationElementId))==null||s.show(),o.remove()}if(c(this,Zr)){const o=c(this,Zr).getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(c(this,ke).isDeletedAnnotationElement(u))continue;let d=t.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=e.get(u),d&&(c(this,ke).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}_(this,bt,um).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of c(ar,ua).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(this,qc,!1)}getEditableAnnotation(e){var t;return((t=c(this,Zr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,ke).getActive()!==e&&c(this,ke).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,an))!=null&&e.div&&!c(this,Ks)){x(this,Ks,new AbortController);const t=c(this,ke).combinedSignal(c(this,Ks));c(this,an).div.addEventListener("pointerdown",_(this,bt,KC).bind(this),{signal:t}),c(this,an).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,an))!=null&&e.div&&c(this,Ks)&&(c(this,Ks).abort(),x(this,Ks,null),c(this,an).div.classList.remove("highlighting"))}enableClick(){if(c(this,oa))return;x(this,oa,new AbortController);const e=c(this,ke).combinedSignal(c(this,oa));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=c(this,oa))==null||e.abort(),x(this,oa,null)}attach(e){c(this,_i).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,ke).isDeletedAnnotationElement(t)&&c(this,ke).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,_i).delete(e.id),(t=c(this,Ul))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,qc)&&e.annotationElementId&&c(this,ke).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,ke).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,ke).addDeletedAnnotationElement(e.annotationElementId),pt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,ke).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!c(this,$l)),c(this,ke).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Xs)&&(e._focusEventsAllowed=!1,x(this,Xs,setTimeout(()=>{x(this,Xs,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,ke)._signal}),t.focus())},0))),e._structTreeParentId=(n=c(this,Ul))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return c(this,ke).getId()}combinedSignal(e){return c(this,ke).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,bt,Nr))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await c(this,ke).updateMode(e.mode);const{offsetX:n,offsetY:s}=_(this,bt,z0).call(this),o=this.getNextId(),l=_(this,bt,O0).call(this,{parent:this,id:o,x:n,y:s,uiManager:c(this,ke),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=c(ar,ua).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,ke)))||null}createAndAddNewEditor(e,t,n={}){const s=this.getNextId(),o=_(this,bt,O0).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:c(this,ke),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(e={}){this.createAndAddNewEditor(_(this,bt,z0).call(this),!0,e)}setSelected(e){c(this,ke).setSelected(e)}toggleSelected(e){c(this,ke).toggleSelected(e)}unselect(e){c(this,ke).unselect(e)}pointerup(e){var s;const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!c(this,aa)||(x(this,aa,!1),(s=c(this,bt,Nr))!=null&&s.isDrawer&&c(this,bt,Nr).supportMultipleDrawings))return;if(!c(this,Gc)){x(this,Gc,!0);return}const n=c(this,ke).getMode();if(n===Fe.STAMP||n===Fe.SIGNATURE){c(this,ke).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var s;if(c(this,ke).getMode()===Fe.HIGHLIGHT&&this.enableTextSelection(),c(this,aa)){x(this,aa,!1);return}const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(x(this,aa,!0),(s=c(this,bt,Nr))!=null&&s.isDrawer){this.startDrawingSession(e);return}const n=c(this,ke).getActive();x(this,Gc,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),c(this,vr)){c(this,bt,Nr).startDrawing(this,c(this,ke),!1,e);return}c(this,ke).setCurrentDrawingSession(this),x(this,vr,new AbortController);const t=c(this,ke).combinedSignal(c(this,vr));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(x(this,Ys,null),this.commitOrRemove())},{signal:t}),c(this,bt,Nr).startDrawing(this,c(this,ke),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&x(this,Ys,t);return}c(this,Ys)&&setTimeout(()=>{var t;(t=c(this,Ys))==null||t.focus(),x(this,Ys,null)},0)}endDrawingSession(e=!1){return c(this,vr)?(c(this,ke).setCurrentDrawingSession(null),c(this,vr).abort(),x(this,vr,null),x(this,Ys,null),c(this,bt,Nr).endDrawing(e)):null}findNewParent(e,t,n){const s=c(this,ke).findParent(t,n);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return c(this,vr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){c(this,vr)&&c(this,bt,Nr).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=c(this,ke).getActive())==null?void 0:e.parent)===this&&(c(this,ke).commitOrRemove(),c(this,ke).setActiveEditor(null)),c(this,Xs)&&(clearTimeout(c(this,Xs)),x(this,Xs,null));for(const n of c(this,_i).values())(t=c(this,Ul))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,c(this,_i).clear(),c(this,ke).removeLayer(this)}render({viewport:e}){this.viewport=e,ca(this.div,e);for(const t of c(this,ke).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,ke).commitOrRemove(),_(this,bt,um).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,ca(this.div,{rotation:n}),t!==n)for(const s of c(this,_i).values())s.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,ke).viewParameters.realScale}};Ul=new WeakMap,Gc=new WeakMap,Zr=new WeakMap,oa=new WeakMap,Xs=new WeakMap,_i=new WeakMap,aa=new WeakMap,qc=new WeakMap,$l=new WeakMap,vr=new WeakMap,Ys=new WeakMap,an=new WeakMap,Ks=new WeakMap,la=new WeakMap,Xc=new WeakMap,ke=new WeakMap,ua=new WeakMap,bt=new WeakSet,KC=function(e){c(this,ke).unselectAll();const{target:t}=e;if(t===c(this,an).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&c(this,an).div.contains(t)){const{isMac:n}=ln.platform;if(e.button!==0||e.ctrlKey&&n)return;c(this,ke).showAllEditors("highlight",!0,!0),c(this,an).div.classList.add("free"),this.toggleDrawing(),ym.startHighlighting(this,c(this,ke).direction==="ltr",{target:c(this,an).div,x:e.x,y:e.y}),c(this,an).div.addEventListener("pointerup",()=>{c(this,an).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,ke)._signal}),e.preventDefault()}},Nr=function(){return c(ar,ua).get(c(this,ke).getMode())},O0=function(e){const t=c(this,bt,Nr);return t?new t.prototype.constructor(e):null},z0=function(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),u=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+s),f=(o+u)/2-e,p=(l+d)/2-t,[m,y]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:y}},um=function(){for(const e of c(this,_i).values())e.isEmpty()&&e.remove()},le(ar,"_initialized",!1),C(ar,ua,new Map([g0,T0,N0,ym,D0].map(e=>[e._editorType,e])));let wm=ar;var wr,Bn,Vl,Qf,Bm,QC,rs,B0,JC,j0;const qt=class qt{constructor({pageIndex:e}){C(this,rs);C(this,wr,null);C(this,Bn,new Map);C(this,Vl,new Map);this.pageIndex=e}setParent(e){if(!c(this,wr)){x(this,wr,e);return}if(c(this,wr)!==e){if(c(this,Bn).size>0)for(const t of c(this,Bn).values())t.remove(),e.append(t);x(this,wr,e)}}static get _svgFactory(){return qe(this,"_svgFactory",new xd)}draw(e,t=!1,n=!1){const s=Dn(qt,Qf)._++,o=_(this,rs,B0).call(this),l=qt._svgFactory.createElement("defs");o.append(l);const u=qt._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),t&&c(this,Vl).set(s,u);const f=n?_(this,rs,JC).call(this,l,d):null,p=qt._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,e),c(this,Bn).set(s,o),{id:s,clipPathId:`url(#${f})`}}drawOutline(e,t){const n=Dn(qt,Qf)._++,s=_(this,rs,B0).call(this),o=qt._svgFactory.createElement("defs");s.append(o);const l=qt._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const m=qt._svgFactory.createElement("mask");o.append(m),d=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const y=qt._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const w=qt._svgFactory.createElement("use");m.append(w),w.setAttribute("href",`#${u}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const f=qt._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return s.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(s,e),c(this,Bn).set(n,s),n}finalizeDraw(e,t){c(this,Vl).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var d;if(!t)return;const{root:n,bbox:s,rootClass:o,path:l}=t,u=typeof e=="number"?c(this,Bn).get(e):e;if(u){if(n&&_(this,rs,j0).call(this,u,n),s&&_(d=qt,Bm,QC).call(d,u,s),o){const{classList:f}=u;for(const[p,m]of Object.entries(o))f.toggle(p,m)}if(l){const p=u.firstChild.firstChild;_(this,rs,j0).call(this,p,l)}}}updateParent(e,t){if(t===this)return;const n=c(this,Bn).get(e);n&&(c(t,wr).append(n),c(this,Bn).delete(e),c(t,Bn).set(e,n))}remove(e){c(this,Vl).delete(e),c(this,wr)!==null&&(c(this,Bn).get(e).remove(),c(this,Bn).delete(e))}destroy(){x(this,wr,null);for(const e of c(this,Bn).values())e.remove();c(this,Bn).clear(),c(this,Vl).clear()}};wr=new WeakMap,Bn=new WeakMap,Vl=new WeakMap,Qf=new WeakMap,Bm=new WeakSet,QC=function(e,[t,n,s,o]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*s}%`,l.height=`${100*o}%`},rs=new WeakSet,B0=function(){const e=qt._svgFactory.create(1,1,!0);return c(this,wr).append(e),e.setAttribute("aria-hidden",!0),e},JC=function(e,t){const n=qt._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${t}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const o=qt._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),s},j0=function(e,t){for(const[n,s]of Object.entries(t))s===null?e.removeAttribute(n):e.setAttribute(n,s)},C(qt,Bm),C(qt,Qf,0);let Sm=qt;globalThis._pdfjsTestingUtils={HighlightOutliner:y0};globalThis.pdfjsLib={AbortException:to,AnnotationEditorLayer:wm,AnnotationEditorParamsType:Xe,AnnotationEditorType:Fe,AnnotationEditorUIManager:ha,AnnotationLayer:bS,AnnotationMode:ts,AnnotationType:Dt,build:Jk,ColorPicker:Ad,createValidAbsoluteUrl:cS,DOMSVGFactory:xd,DrawLayer:Sm,FeatureTest:ln,fetchData:eh,getDocument:vS,getFilenameFromUrl:qE,getPdfFilenameFromUrl:XE,getUuid:dS,getXfaPageViewport:YE,GlobalWorkerOptions:Li,ImageKind:fd,InvalidPDFException:fm,isDataScheme:op,isPdfFile:Xm,isValidExplicitDest:Pk,MathClamp:Pn,noContextMenu:Ji,normalizeUnicode:WE,OPS:md,OutputScale:Ar,PasswordResponses:$E,PDFDataRangeTransport:wS,PDFDateString:Ym,PDFWorker:Yc,PermissionFlag:UE,PixelsPerInch:no,RenderingCancelledException:qm,ResponseException:yd,setLayerDimensions:ca,shadow:qe,SignatureExtractor:ns,stopEvent:Ot,SupportedImageMimeTypes:pm,TextLayer:wd,TouchManager:vd,updateUrlHash:hS,Util:Ce,VerbosityLevel:ip,version:SS,XfaLayer:xS};const eF=Object.freeze(Object.defineProperty({__proto__:null,AbortException:to,AnnotationEditorLayer:wm,AnnotationEditorParamsType:Xe,AnnotationEditorType:Fe,AnnotationEditorUIManager:ha,AnnotationLayer:bS,AnnotationMode:ts,AnnotationType:Dt,ColorPicker:Ad,DOMSVGFactory:xd,DrawLayer:Sm,FeatureTest:ln,GlobalWorkerOptions:Li,ImageKind:fd,InvalidPDFException:fm,MathClamp:Pn,OPS:md,OutputScale:Ar,PDFDataRangeTransport:wS,PDFDateString:Ym,PDFWorker:Yc,PasswordResponses:$E,PermissionFlag:UE,PixelsPerInch:no,RenderingCancelledException:qm,ResponseException:yd,SignatureExtractor:ns,SupportedImageMimeTypes:pm,TextLayer:wd,TouchManager:vd,Util:Ce,VerbosityLevel:ip,XfaLayer:xS,build:Jk,createValidAbsoluteUrl:cS,fetchData:eh,getDocument:vS,getFilenameFromUrl:qE,getPdfFilenameFromUrl:XE,getUuid:dS,getXfaPageViewport:YE,isDataScheme:op,isPdfFile:Xm,isValidExplicitDest:Pk,noContextMenu:Ji,normalizeUnicode:WE,setLayerDimensions:ca,shadow:qe,stopEvent:Ot,updateUrlHash:hS,version:SS},Symbol.toStringTag,{value:"Module"}));function ZC(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=ZC(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Jm(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=ZC(r))&&(n&&(n+=" "),n+=e);return n}var I1=Object.prototype.hasOwnProperty;function M1(r,e,t){for(t of r.keys())if(Hu(t,e))return t}function Hu(r,e){var t,n,s;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&Hu(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(s=n,s&&typeof s=="object"&&(s=M1(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(s=n[0],s&&typeof s=="object"&&(s=M1(e,s),!s)||!Hu(n[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(I1.call(r,t)&&++n&&!I1.call(e,t)||!(t in e)||!Hu(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}function cp(r){let e=!1;return{promise:new Promise((n,s)=>{r.then(o=>!e&&n(o)).catch(o=>!e&&s(o))}),cancel(){e=!0}}}const tF=["onCopy","onCut","onPaste"],nF=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],iF=["onFocus","onBlur"],rF=["onInput","onInvalid","onReset","onSubmit"],sF=["onLoad","onError"],oF=["onKeyDown","onKeyPress","onKeyUp"],aF=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],lF=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],uF=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],cF=["onSelect"],hF=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],dF=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],fF=["onScroll"],pF=["onWheel"],gF=["onAnimationStart","onAnimationEnd","onAnimationIteration"],mF=["onTransitionEnd"],yF=["onToggle"],vF=["onChange"],wF=[...tF,...nF,...iF,...rF,...sF,...oF,...aF,...lF,...uF,...cF,...hF,...dF,...fF,...pF,...gF,...mF,...vF,...yF];function e_(r,e){const t={};for(const n of wF){const s=r[n];s&&(e?t[n]=(o=>s(o,e(n))):t[n]=s)}return t}var SF="Invariant failed";function ut(r,e){if(!r)throw new Error(SF)}var mw,D1;function xF(){if(D1)return mw;D1=1;var r=function(){};return mw=r,mw}var AF=xF();const Rn=$0(AF),t_=H.createContext(null),bF="noopener noreferrer nofollow";class EF{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ut(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){ut(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{ut(this.pdfDocument),ut(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{ut(Array.isArray(t));const n=t[0];new Promise(s=>{ut(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{s(o)}).catch(()=>{ut(!1)}):typeof n=="number"?s(n):ut(!1)}).then(s=>{const o=s+1;ut(this.pdfViewer),ut(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;ut(this.pdfViewer),ut(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||bF,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Uu({children:r,type:e}){return fe.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const N1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function kF(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function Kc(){return H.useReducer(kF,{value:void 0,error:void 0})}const Zm=typeof window<"u",n_=Zm&&window.location.protocol==="file:";function CF(r){return typeof r<"u"}function La(r){return CF(r)&&r!==null}function _F(r){return typeof r=="string"}function TF(r){return r instanceof ArrayBuffer}function PF(r){return ut(Zm),r instanceof Blob}function H0(r){return _F(r)&&/^data:/.test(r)}function F1(r){ut(H0(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function RF(){return Zm&&window.devicePixelRatio||1}const i_="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function O1(){Rn(!n_,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${i_}`)}function LF(){Rn(!n_,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${i_}`)}function Gl(r){r!=null&&r.cancel&&r.cancel()}function U0(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function IF(r){return r.name==="RenderingCancelledException"}function MF(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:o}=s.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:DF}=eF,NF=(r,e)=>{switch(e){case N1.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case N1.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function z1(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const FF=H.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:y,onLoadProgress:w,onLoadSuccess:b,onPassword:A=NF,onSourceError:k,onSourceSuccess:E,options:R,renderMode:P,rotate:D,scale:F,...I},O){const[V,W]=Kc(),{value:Y,error:q}=V,[ne,ee]=Kc(),{value:K,error:ce}=ne,Z=H.useRef(new EF),J=H.useRef([]),te=H.useRef(void 0),he=H.useRef(void 0);l&&l!==te.current&&z1(l)&&(Rn(!Hu(l,te.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),te.current=l),R&&R!==he.current&&(Rn(!Hu(R,he.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),he.current=R);const L=H.useRef({scrollPageIntoView:$e=>{const{dest:tt,pageNumber:gt,pageIndex:vt=gt-1}=$e;if(m){m({dest:tt,pageIndex:vt,pageNumber:gt});return}const si=J.current[vt];if(si){si.scrollIntoView();return}Rn(!1,`An internal link leading to page ${gt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});H.useImperativeHandle(O,()=>({linkService:Z,pages:J,viewer:L}),[]);function B(){E&&E()}function X(){q&&(Rn(!1,q.toString()),k&&k(q))}function M(){W({type:"RESET"})}H.useEffect(M,[l,W]);const Se=H.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return H0(l)?{data:F1(l)}:(O1(),{url:l});if(l instanceof DF)return{range:l};if(TF(l))return{data:l};if(Zm&&PF(l))return{data:await MF(l)};if(ut(typeof l=="object"),ut(z1(l)),"url"in l&&typeof l.url=="string"){if(H0(l.url)){const{url:$e,...tt}=l;return{data:F1($e),...tt}}O1()}return l},[l]);H.useEffect(()=>{const $e=cp(Se());return $e.promise.then(tt=>{W({type:"RESOLVE",value:tt})}).catch(tt=>{W({type:"REJECT",error:tt})}),()=>{Gl($e)}},[Se,W]),H.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){X();return}B()}},[Y]);function _e(){K&&(b&&b(K),J.current=new Array(K.numPages),Z.current.setDocument(K))}function ye(){ce&&(Rn(!1,ce.toString()),y&&y(ce))}H.useEffect(function(){ee({type:"RESET"})},[ee,Y]),H.useEffect(function(){if(!Y)return;const tt=R?{...Y,...R}:Y,gt=vS(tt);w&&(gt.onProgress=w),A&&(gt.onPassword=A);const vt=gt,si=vt.promise.then(Er=>{ee({type:"RESOLVE",value:Er})}).catch(Er=>{vt.destroyed||ee({type:"REJECT",error:Er})});return()=>{si.finally(()=>vt.destroy())}},[R,ee,Y]),H.useEffect(()=>{if(!(typeof K>"u")){if(K===!1){ye();return}_e()}},[K]),H.useEffect(function(){Z.current.setViewer(L.current),Z.current.setExternalLinkRel(s),Z.current.setExternalLinkTarget(o)},[s,o]);const be=H.useCallback(($e,tt)=>{J.current[$e]=tt},[]),Ie=H.useCallback($e=>{delete J.current[$e]},[]),Be=H.useMemo(()=>({imageResourcesPath:d,linkService:Z.current,onItemClick:m,pdf:K,registerPage:be,renderMode:P,rotate:D,scale:F,unregisterPage:Ie}),[d,m,K,be,P,D,F,Ie]),Oe=H.useMemo(()=>e_(I,()=>K),[I,K]);function Vt(){function $e(gt){return!!(gt!=null&&gt.pdf)}if(!$e(Be))throw new Error("pdf is undefined");const tt=typeof e=="function"?e(Be):e;return fe.jsx(t_.Provider,{value:Be,children:tt})}function Vn(){return l?K==null?fe.jsx(Uu,{type:"loading",children:typeof f=="function"?f():f}):K===!1?fe.jsx(Uu,{type:"error",children:typeof n=="function"?n():n}):Vt():fe.jsx(Uu,{type:"no-data",children:typeof p=="function"?p():p})}return fe.jsx("div",{className:Jm("react-pdf__Document",t),ref:u,...Oe,children:Vn()})});function r_(){return H.useContext(t_)}function s_(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){for(var l=0,u=t;l<u.length;l++){var d=u[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const o_=H.createContext(null);function ey(){return H.useContext(o_)}function OF(){const r=r_(),e=ey();ut(e);const t={...r,...e},{imageResourcesPath:n,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:m,rotate:y,scale:w=1}=t;ut(p),ut(f),ut(s);const[b,A]=Kc(),{value:k,error:E}=b,R=H.useRef(null);Rn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function P(){k&&l&&l(k)}function D(){E&&(Rn(!1,E.toString()),o&&o(E))}H.useEffect(function(){A({type:"RESET"})},[A,f]),H.useEffect(function(){if(!f)return;const W=cp(f.getAnnotations()),Y=W;return W.promise.then(q=>{A({type:"RESOLVE",value:q})}).catch(q=>{A({type:"REJECT",error:q})}),()=>{Gl(Y)}},[A,f]),H.useEffect(()=>{if(k!==void 0){if(k===!1){D();return}P()}},[k]);function F(){d&&d()}function I(V){Rn(!1,`${V}`),u&&u(V)}const O=H.useMemo(()=>f.getViewport({scale:w,rotation:y}),[f,y,w]);return H.useEffect(function(){if(!p||!f||!s||!k)return;const{current:W}=R;if(!W)return;const Y=O.clone({dontFlip:!0}),q={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:W,l10n:null,page:f,structTreeLayer:null,viewport:Y},ne={annotations:k,annotationStorage:p.annotationStorage,div:W,imageResourcesPath:n,linkService:s,page:f,renderForms:m,viewport:Y};W.innerHTML="";try{new bS(q).render(ne),F()}catch(ee){I(ee)}return()=>{}},[k,n,s,f,p,m,O]),fe.jsx("div",{className:Jm("react-pdf__Page__annotations","annotationLayer"),ref:R})}const a_={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},zF=/^H(\d+)$/;function BF(r){return r in a_}function ty(r){return"children"in r}function l_(r){return ty(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function jF(r){const e={};if(ty(r)){const{role:t}=r,n=t.match(zF);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(BF(t)){const s=a_[t];s&&(e.role=s)}}return e}function u_(r){const e={};if(ty(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),l_(r)){const[t]=r.children;if(t){const n=u_(t);return{...e,...n}}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function HF(r){return r?{...jF(r),...u_(r)}:null}function c_({className:r,node:e}){const t=H.useMemo(()=>HF(e),[e]),n=H.useMemo(()=>!ty(e)||l_(e)?null:e.children.map((s,o)=>fe.jsx(c_,{node:s},o)),[e]);return fe.jsx("span",{className:r,...t,children:n})}function UF(){const r=ey();ut(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,s]=Kc(),{value:o,error:l}=n,{customTextRenderer:u,page:d}=r;function f(){o&&t&&t(o)}function p(){l&&(Rn(!1,l.toString()),e&&e(l))}return H.useEffect(function(){s({type:"RESET"})},[s,d]),H.useEffect(function(){if(u||!d)return;const y=cp(d.getStructTree()),w=y;return y.promise.then(b=>{s({type:"RESOLVE",value:b})}).catch(b=>{s({type:"REJECT",error:b})}),()=>Gl(w)},[u,d,s]),H.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?fe.jsx(c_,{className:"react-pdf__Page__structTree structTree",node:o}):null}const B1=ts;function $F(r){const e=ey();ut(e);const t={...e,...r},{_className:n,canvasBackground:s,devicePixelRatio:o=RF(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:m,scale:y}=t,{canvasRef:w}=r;ut(d);const b=H.useRef(null);function A(){d&&u&&u(U0(d,y))}function k(D){IF(D)||(Rn(!1,D.toString()),l&&l(D))}const E=H.useMemo(()=>d.getViewport({scale:y*o,rotation:m}),[o,d,m,y]),R=H.useMemo(()=>d.getViewport({scale:y,rotation:m}),[d,m,y]);H.useEffect(function(){if(!d)return;d.cleanup();const{current:F}=b;if(!F)return;F.width=E.width,F.height=E.height,F.style.width=`${Math.floor(R.width)}px`,F.style.height=`${Math.floor(R.height)}px`,F.style.visibility="hidden";const I={annotationMode:f?B1.ENABLE_FORMS:B1.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:E};s&&(I.background=s);const O=d.render(I),V=O;return O.promise.then(()=>{F.style.visibility="",A()}).catch(k),()=>Gl(V)},[s,d,f,E,R]);const P=H.useCallback(()=>{const{current:D}=b;D&&(D.width=0,D.height=0)},[]);return H.useEffect(()=>P,[P]),fe.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:s_(w,b),style:{display:"block",userSelect:"none"},children:p?fe.jsx(UF,{}):null})}function VF(r){return"str"in r}function WF(){const r=ey();ut(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:d,rotate:f,scale:p}=r;ut(l);const[m,y]=Kc(),{value:w,error:b}=m,A=H.useRef(null);Rn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function k(){w&&n&&n(w)}function E(){b&&(Rn(!1,b.toString()),t&&t(b))}H.useEffect(function(){y({type:"RESET"})},[l,y]),H.useEffect(function(){if(!l)return;const V=cp(l.getTextContent()),W=V;return V.promise.then(Y=>{y({type:"RESOLVE",value:Y})}).catch(Y=>{y({type:"REJECT",error:Y})}),()=>Gl(W)},[l,y]),H.useEffect(()=>{if(w!==void 0){if(w===!1){E();return}k()}},[w]);const R=H.useCallback(()=>{o&&o()},[o]),P=H.useCallback(O=>{Rn(!1,O.toString()),s&&s(O)},[s]);function D(){const O=A.current;O&&O.classList.add("selecting")}function F(){const O=A.current;O&&O.classList.remove("selecting")}const I=H.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return H.useLayoutEffect(function(){if(!l||!w)return;const{current:V}=A;if(!V)return;V.innerHTML="";const W=l.streamTextContent({includeMarkedContent:!0}),Y={container:V,textContentSource:W,viewport:I},q=new wd(Y),ne=q;return q.render().then(()=>{const ee=document.createElement("div");ee.className="endOfContent",V.append(ee);const K=V.querySelectorAll('[role="presentation"]');if(e){let ce=0;w.items.forEach((Z,J)=>{if(!VF(Z))return;const te=K[ce];if(!te)return;const he=e({pageIndex:u,pageNumber:d,itemIndex:J,...Z});te.innerHTML=he,ce+=Z.str&&Z.hasEOL?2:1})}R()}).catch(P),()=>Gl(ne)},[e,P,R,l,u,d,w,I]),fe.jsx("div",{className:Jm("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:D,ref:A})}const j1=1;function GF(r){const t={...r_(),...r},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:o,canvasRef:l,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:m,error:y="Failed to load the page.",height:w,inputRef:b,loading:A="Loading page",noData:k="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:R,onGetStructTreeError:P,onGetStructTreeSuccess:D,onGetTextError:F,onGetTextSuccess:I,onLoadError:O,onLoadSuccess:V,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:Y,onRenderError:q,onRenderSuccess:ne,onRenderTextLayerError:ee,onRenderTextLayerSuccess:K,pageIndex:ce,pageNumber:Z,pdf:J,registerPage:te,renderAnnotationLayer:he=!0,renderForms:L=!1,renderMode:B="canvas",renderTextLayer:X=!0,rotate:M,scale:Se=j1,unregisterPage:_e,width:ye,...be}=t,[Ie,Be]=Kc(),{value:Oe,error:Vt}=Ie,Vn=H.useRef(null);ut(J);const $e=La(Z)?Z-1:ce??null,tt=Z??(La(ce)?ce+1:null),gt=M??(Oe?Oe.rotate:null),vt=H.useMemo(()=>{if(!Oe)return null;let oe=1;const Te=Se??j1;if(ye||w){const Me=Oe.getViewport({scale:1,rotation:gt});ye?oe=ye/Me.width:w&&(oe=w/Me.height)}return Te*oe},[w,Oe,gt,Se,ye]);H.useEffect(function(){return()=>{La($e)&&s&&_e&&_e($e)}},[s,J,$e,_e]);function si(){if(V){if(!Oe||!vt)return;V(U0(Oe,vt))}if(s&&te){if(!La($e)||!Vn.current)return;te($e,Vn.current)}}function Er(){Vt&&(Rn(!1,Vt.toString()),O&&O(Vt))}H.useEffect(function(){Be({type:"RESET"})},[Be,J,$e]),H.useEffect(function(){if(!J||!tt)return;const Te=cp(J.getPage(tt)),Me=Te;return Te.promise.then(Ge=>{Be({type:"RESOLVE",value:Ge})}).catch(Ge=>{Be({type:"REJECT",error:Ge})}),()=>Gl(Me)},[Be,J,tt]),H.useEffect(()=>{if(Oe!==void 0){if(Oe===!1){Er();return}si()}},[Oe,vt]);const kr=H.useMemo(()=>La($e)&&tt&&La(gt)&&La(vt)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:E,onGetAnnotationsSuccess:R,onGetStructTreeError:P,onGetStructTreeSuccess:D,onGetTextError:F,onGetTextSuccess:I,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:Y,onRenderError:q,onRenderSuccess:ne,onRenderTextLayerError:ee,onRenderTextLayerSuccess:K,page:Oe,pageIndex:$e,pageNumber:tt,renderForms:L,renderTextLayer:X,rotate:gt,scale:vt}:null,[n,o,p,m,E,R,P,D,F,I,W,Y,q,ne,ee,K,Oe,$e,tt,L,X,gt,vt]),Cr=H.useMemo(()=>e_(be,()=>Oe&&(vt?U0(Oe,vt):void 0)),[be,Oe,vt]),oi=`${$e}@${vt}/${gt}`;function ma(){switch(B){case"custom":return ut(f),fe.jsx(f,{},`${oi}_custom`);case"none":return null;case"canvas":default:return fe.jsx($F,{canvasRef:l},`${oi}_canvas`)}}function Jl(){return X?fe.jsx(WF,{},`${oi}_text`):null}function Zl(){return he?fe.jsx(OF,{},`${oi}_annotations`):null}function eu(){function oe(Me){return!!(Me!=null&&Me.page)}if(!oe(kr))throw new Error("page is undefined");const Te=typeof u=="function"?u(kr):u;return fe.jsxs(o_.Provider,{value:kr,children:[ma(),Jl(),Zl(),Te]})}function Q(){return tt?J===null||Oe===void 0||Oe===null?fe.jsx(Uu,{type:"loading",children:typeof A=="function"?A():A}):J===!1||Oe===!1?fe.jsx(Uu,{type:"error",children:typeof y=="function"?y():y}):eu():fe.jsx(Uu,{type:"no-data",children:typeof k=="function"?k():k})}return fe.jsx("div",{className:Jm(n,d),"data-page-number":tt,ref:s_(b,Vn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${vt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Cr,children:Q()})}LF();Li.workerSrc="pdf.worker.mjs";Li.workerSrc=`//unpkg.com/pdfjs-dist@${SS}/build/pdf.worker.min.js`;const qF=({pdfUrl:r})=>{const[e,t]=H.useState(null),[n,s]=H.useState(1);function o({numPages:l}){t(l)}return fe.jsxs("div",{children:[fe.jsx(FF,{file:r,onLoadSuccess:o,children:fe.jsx(GF,{pageNumber:n})}),fe.jsxs("p",{children:["Page ",n," of ",e]}),fe.jsx("button",{onClick:()=>s(l=>Math.max(1,l-1)),children:"Previous"}),fe.jsx("button",{onClick:()=>s(l=>Math.min(e||1,l+1)),children:"Next"})]})};function XF(){const{dirPrefix:r,filename:e}=GP(),[t,n]=H.useState("");return H.useEffect(()=>{fetch(`/pages/${r}/${e}.md`).then(s=>s.text()).then(s=>n(s))},[e]),fe.jsx(vN,{className:"markdown",components:{img:({node:s,...o})=>o.src&&o.src.includes("mp4")?fe.jsx("video",{width:"50%",autoPlay:!0,muted:!0,loop:!0,children:fe.jsx("source",{src:o.src,type:"video/mp4"})}):o.src&&o.src.includes("pdf")?fe.jsx(qF,{pdfUrl:o.src}):fe.jsx("img",{style:{maxWidth:"60%",maxHeight:"450px"},...o})},children:t})}Li.workerSrc=new URL("/assets/pdf.worker.min--PgD6g2g.mjs",import.meta.url).toString();const YF=()=>fe.jsx("div",{className:"App",children:fe.jsx("main",{children:fe.jsxs(RR,{children:[fe.jsx(jR,{}),fe.jsxs(aR,{children:[fe.jsx(Rg,{path:"/",element:fe.jsx(tL,{})}),fe.jsx(Rg,{path:"/:dirPrefix/:filename",element:fe.jsx(XF,{})}),fe.jsx(Rg,{path:"/about",element:fe.jsx($R,{})})]})]})})});gP.createRoot(document.getElementById("root")).render(fe.jsx(H.StrictMode,{children:fe.jsx(YF,{})}));
